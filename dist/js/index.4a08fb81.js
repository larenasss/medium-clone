(function(){"use strict";var e={5935:function(e,t,r){var a=r(9242),s=r(3396);function i(e,t,r,a,i,n){const o=(0,s.up)("app-top-bar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o),(0,s.Wm)(l)],64)}var n=r(7139);const o={class:"navbar navbar-light"},l={class:"container"},u=(0,s.Uk)(" MediumClone "),c={class:"nav navbar-nav pull-xs-right"},d={class:"nav-item"},m=(0,s.Uk)(" Home "),g={class:"nav-item"},p=(0,s._)("i",{class:"ion-compose"},null,-1),v=(0,s.Uk)(" New Article "),f={class:"nav-item"},S=(0,s._)("i",{class:"ion-gear-a"},null,-1),b=(0,s.Uk)(" Settings "),A={class:"nav-item"},F=["src"],w={class:"nav-item"},y=(0,s.Uk)(" Sing in "),h={class:"nav-item"},_=(0,s.Uk)(" Sing up ");function U(e,t,r,a,i,U){const C=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",o,[(0,s._)("div",l,[(0,s.Wm)(C,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,s.w5)((()=>[u])),_:1}),(0,s._)("ul",c,[(0,s._)("li",d,[(0,s.Wm)(C,{class:"nav-link",to:{name:"globalFeed"},"active-class":"active"},{default:(0,s.w5)((()=>[m])),_:1})]),a.isLoggedIn?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("li",g,[(0,s.Wm)(C,{class:"nav-link",to:{name:"createArticle"},"active-class":"active"},{default:(0,s.w5)((()=>[p,v])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(C,{class:"nav-link",to:{name:"settings"},"active-class":"active"},{default:(0,s.w5)((()=>[S,b])),_:1})]),(0,s._)("li",A,[(0,s.Wm)(C,{class:"nav-link",to:{name:"userProfileMyPosts",params:{slug:a.currentUser.username}},"active-class":"active"},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"user-pic",src:a.currentUser.image},null,8,F),(0,s.Uk)(" "+(0,n.zw)(a.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,s.kq)("",!0),a.isAnonymous?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("li",w,[(0,s.Wm)(C,{class:"nav-link",to:{name:"login"},"active-class":"active"},{default:(0,s.w5)((()=>[y])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(C,{class:"nav-link",to:{name:"register"},"active-class":"active"},{default:(0,s.w5)((()=>[_])),_:1})])],64)):(0,s.kq)("",!0)])])])}var C=r(65),k=r(6265),P=r.n(k);const L=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){return console.log("Error getting data from localstorage",t),null}},$=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log("Error saving data in localstorage",r)}};P().defaults.baseURL="https://conduit.productionready.io/api",P().interceptors.request.use((e=>{const t=L("accessToken"),r=t?`Token ${t}`:"";return e.headers.Authorization=r,e}));var T=P();const D=e=>T.post("/users",{user:e}),E=e=>T.post("/users/login",e),q=()=>T.get("/user"),I=e=>T.put("/user",{user:e}).then((e=>e.data.user));var j={register:D,login:E,getCurrentUser:q,updateCurrentUser:I};const x="auth",W={currentUser:`[${x}] currentUser`,isLoggedIn:`[${x}] isLoggedIn`,isAnonymous:`[${x}] isAnonymous`},O={registerStart:`[${x}] registerStart`,registerSuccess:`[${x}] registerSuccess`,registerFailure:`[${x}] registerFailure`,loginStart:`[${x}] loginStart`,loginSuccess:`[${x}] loginSuccess`,loginFailure:`[${x}] loginFailure`,getCurrentUserStart:`[${x}] getCurrentUserStart`,getCurrentUserSuccess:`[${x}] getCurrentUserSuccess`,getCurrentUserFailure:`[${x}] getCurrentUserFailure`,updateCurrentUserStart:`[${x}] updateCurrentUserStart`,updateCurrentUserSuccess:`[${x}] updateCurrentUserSuccess`,updateCurrentUserFailure:`[${x}] updateCurrentUserFailure`,logout:`[${x}] logout`},Z={register:`[${x}] register`,login:`[${x}] login`,getCurrentUser:`[${x}] getCurrentUser`,updateCurrentUser:`[${x}] updateCurreUser`,logout:`[${x}] logout`};var V={state(){return{isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null}},getters:{[W.currentUser]:e=>e.currentUser,[W.isLoggedIn]:e=>Boolean(e.isLoggedIn),[W.isAnonymous]:e=>!1===e.isLoggedIn},mutations:{[O.registerStart](e){e.isSubmitting=!0,e.validationErrors=null},[O.registerSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[O.registerFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[O.loginStart](e){e.isSubmitting=!0,e.validationErrors=null},[O.loginSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[O.loginFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[O.getCurrentUserStart](e){e.isLoading=!0},[O.getCurrentUserSuccess](e,t){e.currentUser=t,e.isLoading=!1,e.isLoggedIn=!0},[O.getCurrentUserFailure](e){e.isLoading=!1,e.isLoggedIn=!1,e.currentUser=null},[O.updateCurrentUserStart](){},[O.updateCurrentUserSuccess](e,t){e.currentUser=t},[O.updateCurrentUserFailure](){},[O.logout](e){e.currentUser=null,e.isLoggedIn=!1}},actions:{[Z.register]:async({commit:e},t)=>{try{e(O.registerStart);const{data:r}=await j.register(t);$("accessToken",r.user.token),e(O.registerSuccess,r.user)}catch(r){throw e(O.registerFailure,r.response.data.errors),r}},[Z.login]:async({commit:e},t)=>{try{e(O.loginStart);const{data:r}=await j.login(t);$("accessToken",r.user.token),e(O.loginSuccess,r.user)}catch(r){throw e(O.loginFailure,r.response.data.errors),r}},[Z.getCurrentUser]:async({commit:e})=>{try{e(O.getCurrentUserStart);const{data:t}=await j.getCurrentUser();e(O.getCurrentUserSuccess,t.user)}catch(t){throw e(O.getCurrentUserFailure),t}},[Z.updateCurrentUser]:async({commit:e},{currentUserInput:t})=>{try{e(O.updateCurrentUserStart);const r=await j.updateCurrentUser(t);e(O.updateCurrentUserSuccess,r)}catch(r){throw console.dir(r),e(O.updateCurrentUserFailure,r.response.data.errors),r}},[Z.logout]:async({commit:e})=>{try{$("accessToken",""),e(O.logout)}catch(t){throw console.log(t),t}}}},M={name:"AppTopBar",setup(){const e=(0,C.oR)(),t=(0,s.Fl)((()=>e.getters[W.currentUser])),r=(0,s.Fl)((()=>e.getters[W.isLoggedIn])),a=(0,s.Fl)((()=>e.getters[W.isAnonymous]));return{currentUser:t,isAnonymous:a,isLoggedIn:r}}},N=r(89);const R=(0,N.Z)(M,[["render",U]]);var H=R,z={name:"App",components:{AppTopBar:H},setup(){const e=(0,C.oR)();(0,s.bv)((()=>{e.dispatch(Z.getCurrentUser)}))}};const Y=(0,N.Z)(z,[["render",i]]);var B=Y,J=r(678);const K={class:"home-page"},G={class:"container page"},Q={class:"row"},X={class:"col-md-9"},ee={class:"col-md-3"};function te(e,t,r,a,i,n){const o=(0,s.up)("app-banner-item"),l=(0,s.up)("app-feed-toggle"),u=(0,s.up)("router-view"),c=(0,s.up)("app-popular-tags");return(0,s.wg)(),(0,s.iD)("div",K,[(0,s.Wm)(o),(0,s._)("div",G,[(0,s._)("div",Q,[(0,s._)("div",X,[(0,s.Wm)(l,{"tag-name":a.tagName},null,8,["tag-name"]),(0,s.Wm)(u)]),(0,s._)("div",ee,[(0,s.Wm)(c)])])])])}const re={key:2,class:"sidebar"},ae=(0,s._)("p",null,"Popular Tags",-1),se={class:"tag-list"};function ie(e,t,r,a,i,o){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[a.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),a.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),a.tags?((0,s.wg)(),(0,s.iD)("div",re,[ae,(0,s._)("div",se,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tags,(e=>((0,s.wg)(),(0,s.j4)(c,{key:e,to:{name:"tag",params:{slug:e}},class:"tag-default tag-pill"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e),1)])),_:2},1032,["to"])))),128))])])):(0,s.kq)("",!0)])}const ne=()=>T.get("/tags").then((e=>e.data.tags));var oe={getPopularTags:ne};const le="popularTags",ue={getPopularTagsStart:`[${le}] getPopularTagsStart`,getPopularTagsSuccess:`[${le}] getPopularTagsSuccess`,getPopularTagsFailure:`[${le}] getPopularTagsFailure`},ce={getPopularTags:`[${le}] getPopularTags`};var de={state(){return{data:null,isLoading:!1,error:null}},mutations:{[ue.getPopularTagsStart](e){e.isLoading=!0,e.data=null},[ue.getPopularTagsSuccess](e,t){e.isLoading=!1,e.data=t},[ue.getPopularTagsFailure](e){e.isLoading=!1}},actions:{[ce.getPopularTags]:async({commit:e})=>{try{e(ue.getPopularTagsStart);const t=await oe.getPopularTags();e(ue.getPopularTagsSuccess,t)}catch(t){throw e(ue.getPopularTagsFailure),t}}}};function me(e){const t=(0,C.oR)();return{isLoading:(0,s.Fl)((()=>t.state[e].isLoading)),data:(0,s.Fl)((()=>t.state[e].data)),error:(0,s.Fl)((()=>t.state[e].error))}}const ge=e=>((0,s.dD)("data-v-44a18710"),e=e(),(0,s.Cn)(),e),pe={class:"loader"},ve=ge((()=>(0,s._)("div",{class:"inner one"},null,-1))),fe=ge((()=>(0,s._)("div",{class:"inner two"},null,-1))),Se=ge((()=>(0,s._)("div",{class:"inner three"},null,-1))),be=[ve,fe,Se];function Ae(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("div",pe,be)}var Fe={name:"AppLoadingItem"};const we=(0,N.Z)(Fe,[["render",Ae],["__scopeId","data-v-44a18710"]]);var ye=we;function he(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",null,(0,n.zw)(r.message),1)}var _e={name:"AppErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}};const Ue=(0,N.Z)(_e,[["render",he]]);var Ce=Ue,ke={name:"AppPopularTags",components:{AppLoadingItem:ye,AppErrorMessage:Ce},setup(){const e=(0,C.oR)(),{isLoading:t,data:r,error:a}=me("popularTags");return(0,s.bv)((()=>{e.dispatch(ce.getPopularTags)})),{isLoading:t,tags:r,error:a}}};const Pe=(0,N.Z)(ke,[["render",ie]]);var Le=Pe;const $e={class:"banner"},Te=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Medium clone"),(0,s._)("p",null,"A place to share knowledge")],-1),De=[Te];function Ee(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("div",$e,De)}var qe={name:"AppBannerItem"};const Ie=(0,N.Z)(qe,[["render",Ee]]);var je=Ie;const xe={class:"feed-toggle"},We={class:"nav nav-pills outline-active"},Oe={key:0,class:"nav-item"},Ze=(0,s.Uk)(" Your Feed "),Ve={class:"nav-item"},Me=(0,s.Uk)(" Global Feed "),Ne={key:1,class:"nav-item"},Re=(0,s._)("i",{class:"ion-pound"},null,-1);function He(e,t,r,a,i,o){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",xe,[(0,s._)("ul",We,[a.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",Oe,[(0,s.Wm)(l,{to:{name:"yourFeed"},class:(0,n.C_)(["nav-link",{active:"yourFeed"===a.routeName}])},{default:(0,s.w5)((()=>[Ze])),_:1},8,["class"])])):(0,s.kq)("",!0),(0,s._)("li",Ve,[(0,s.Wm)(l,{to:{name:"globalFeed"},class:(0,n.C_)(["nav-link",{active:"globalFeed"===a.routeName}])},{default:(0,s.w5)((()=>[Me])),_:1},8,["class"])]),r.tagName?((0,s.wg)(),(0,s.iD)("li",Ne,[(0,s.Wm)(l,{to:{name:"tag"},class:(0,n.C_)(["nav-link",{active:"tag"===a.routeName}])},{default:(0,s.w5)((()=>[Re,(0,s.Uk)(" "+(0,n.zw)(r.tagName),1)])),_:1},8,["class"])])):(0,s.kq)("",!0)])])}var ze={name:"AppFeedToggle",props:{tagName:{type:String,required:!1}},setup(){const e=(0,C.oR)(),t=(0,J.yj)(),r=(0,s.Fl)((()=>e.getters[W.isLoggedIn])),a=(0,s.Fl)((()=>t.name));return{isLoggedIn:r,routeName:a}}};const Ye=(0,N.Z)(ze,[["render",He]]);var Be=Ye,Je={name:"AppFeedPage",components:{AppPopularTags:Le,AppBannerItem:je,AppFeedToggle:Be},setup(){const e=(0,J.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t}}};const Ke=(0,N.Z)(Je,[["render",te]]);var Ge=Ke;function Qe(e,t,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":a.apiUrl},null,8,["api-url"])}const Xe=e=>((0,s.dD)("data-v-6a0be230"),e=e(),(0,s.Cn)(),e),et={key:2},tt={class:"article-meta"},rt={class:"pull-xs-right"},at=Xe((()=>(0,s._)("span",null,"Read more...",-1)));function st(e,t,r,a,i,o){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("app-user-info"),d=(0,s.up)("app-add-to-favorites"),m=(0,s.up)("app-tags-list"),g=(0,s.up)("router-link"),p=(0,s.up)("app-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),a.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),a.feed?((0,s.wg)(),(0,s.iD)("div",et,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.feed.articles,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"article-preview",key:t},[(0,s._)("div",tt,[(0,s.Wm)(c,{user:e.author,date:a.convertDateJsonToDate(e.createdAt).toLocaleString()},null,8,["user","date"]),(0,s._)("div",rt,[(0,s.Wm)(d,{"is-favorited":e.favorited,"article-slug":e.slug,"favorites-count":e.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])])]),(0,s.Wm)(g,{to:{name:"article",params:{slug:e.slug}},class:"preview-link"},{default:(0,s.w5)((()=>[(0,s._)("h1",null,(0,n.zw)(e.title),1),(0,s._)("p",null,(0,n.zw)(e.description),1),at,(0,s.Wm)(m,{tags:e.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,s.Wm)(p,{total:a.feed.articlesCount,limit:a.limit,"current-page":a.currentPage,url:a.baseUrl},null,8,["total","limit","current-page","url"])])):(0,s.kq)("",!0)],64)}const it=e=>T.get(e);var nt={getFeed:it};const ot="feed",lt={getFeedStart:`[${ot}] getFeedStart`,getFeedSuccess:`[${ot}] getFeedSuccess`,getFeedFailure:`[${ot}] getFeedFailure`},ut={getFeed:`[${ot}] getFeed`};var ct={state(){return{data:null,isLoading:!1,error:null}},mutations:{[lt.getFeedStart](e){e.isLoading=!0,e.data=null},[lt.getFeedSuccess](e,t){e.isLoading=!1,e.data=t},[lt.getFeedFailure](e){e.isLoading=!1}},actions:{[ut.getFeed]:async({commit:e},{apiUrl:t})=>{try{e(lt.getFeedStart);const{data:r}=await nt.getFeed(t);e(lt.getFeedSuccess,r)}catch(r){throw e(lt.getFeedFailure),r}}}};const dt=5,mt=e=>{try{return new Date(e)}catch(t){console.log("Error convert date",t)}};var gt=r(4782);const pt={class:"pagination"};function vt(e,t,r,a,i,o){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("ul",pt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.pages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,n.C_)(["page-item",{active:r.currentPage===e}])},[(0,s.Wm)(l,{to:{path:r.url,query:{page:e}},class:"page-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e),1)])),_:2},1032,["to"])],2)))),128))])}const ft=(e,t)=>[...Array(t).keys()].map((t=>t+e));var St={name:"AppPagination",props:{total:{type:Number,requred:!0},limit:{type:Number,requred:!0},currentPage:{type:Number,requred:!0},url:{type:String,requred:!0}},setup(e){const t=(0,s.Fl)((()=>{const t=Math.ceil(e.total/e.limit);return ft(1,t)}));return{pages:t}}};const bt=(0,N.Z)(St,[["render",vt]]);var At=bt;const Ft={key:0,class:"tag-list"};function wt(e,t,r,a,i,o){return r.tags.length?((0,s.wg)(),(0,s.iD)("ul",Ft,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.tags,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:"tag-default tag-pill tag-outline ng-binding ng-scope"},(0,n.zw)(e),1)))),128))])):(0,s.kq)("",!0)}var yt={name:"AppTagsList",props:{tags:{type:Array,required:!0}}};const ht=(0,N.Z)(yt,[["render",wt]]);var _t=ht;const Ut=(0,s._)("i",{class:"ion-heart"},null,-1),Ct=(0,s._)("span",null," ",-1);function kt(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("button",{class:(0,n.C_)(["btn btn-sm",{"btn-primary":a.isFavoritedOptimistic,"btn-outline-primary":!a.isFavoritedOptimistic}]),onClick:t[0]||(t[0]=(...e)=>a.handleLike&&a.handleLike(...e))},[Ut,Ct,(0,s.Uk)(" "+(0,n.zw)(a.favoritesCountOptimistic),1)],2)}var Pt=r(4870);const Lt=e=>T.post(`/articles/${e}/favorite`,{}).then((e=>e.data.article)),$t=e=>T["delete"](`/articles/${e}/favorite`).then((e=>e.data.article));var Tt={addToFavorites:Lt,removeFromFavorites:$t};const Dt="addToFavorites",Et={addToFavoritesStart:`[${Dt}] addToFavoritesStart`,addToFavoritesSuccess:`[${Dt}] addToFavoritesSuccess`,addToFavoritesFailure:`[${Dt}] addToFavoritesFailure`},qt={addToFavorites:`[${Dt}] addToFavorites`};var It={mutations:{[Et.addToFavoritesStart](){},[Et.addToFavoritesSuccess](){},[Et.addToFavoritesFailure](){}},actions:{[qt.addToFavorites]:async({commit:e},{slug:t,isFavorited:r})=>{try{e(Et.addToFavoritesStart);const a=r?await Tt.removeFromFavorites(t):await Tt.addToFavorites(t);e(Et.addToFavoritesSuccess,a)}catch(a){throw e(Et.addToFavoritesFailure),a}}}},jt={name:"AppAddToFavorites",props:{isFavorited:{type:Boolean,requred:!0},articleSlug:{type:String,requred:!0},favoritesCount:{type:Number,requred:!0}},setup(e){const t=(0,C.oR)(),r=(0,Pt.iH)(e.isFavorited),a=(0,Pt.iH)(e.favoritesCount),s=()=>{t.dispatch(qt.addToFavorites,{slug:e.articleSlug,isFavorited:r.value}),r.value?a.value-=1:a.value+=1,r.value=!r.value};return{handleLike:s,isFavoritedOptimistic:r,favoritesCountOptimistic:a}}};const xt=(0,N.Z)(jt,[["render",kt]]);var Wt=xt;const Ot={key:0,class:"user-info"},Zt=["src"],Vt={class:"info"},Mt={key:0,class:"date"};function Nt(e,t,r,a,i,o){const l=(0,s.up)("router-link");return r.user?((0,s.wg)(),(0,s.iD)("div",Ot,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:r.user.username}}},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"comment-author-img",src:r.user.image},null,8,Zt)])),_:1},8,["to"]),(0,s._)("div",Vt,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:r.user.username}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(r.user.username),1)])),_:1},8,["to"]),r.date?((0,s.wg)(),(0,s.iD)("span",Mt,(0,n.zw)(r.date),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}var Rt={name:"AppUserInfo",props:{user:{type:Object,requred:!0},date:{type:String,requred:!1}}};const Ht=(0,N.Z)(Rt,[["render",Nt]]);var zt=Ht,Yt={name:"AppFeedItem",components:{AppPagination:At,AppLoadingItem:ye,AppErrorMessage:Ce,AppTagsList:_t,AppAddToFavorites:Wt,AppUserInfo:zt},props:{apiUrl:{type:String,requred:!0}},setup(e){const t=(0,J.yj)(),r=(0,C.oR)(),a=(0,s.Fl)((()=>Number(t.query.page||"1"))),i=(0,s.Fl)((()=>a.value*dt-dt)),{isLoading:n,data:o,error:l}=me("feed"),u=(0,s.Fl)((()=>t.path));(0,s.bv)((()=>c())),(0,s.YP)(a,(()=>c())),(0,s.YP)((()=>e.apiUrl),(()=>c()));const c=()=>{const t=(0,gt.parseUrl)(e.apiUrl),a=(0,gt.stringify)({limit:dt,offset:i.value,...t.query}),s=`${t.url}?${a}`;r.dispatch(ut.getFeed,{apiUrl:s})};return{isLoading:n,feed:o,error:l,currentPage:a,limit:dt,baseUrl:u,convertDateJsonToDate:mt}}};const Bt=(0,N.Z)(Yt,[["render",st],["__scopeId","data-v-6a0be230"]]);var Jt=Bt,Kt={name:"AppGlobalFeed",components:{AppFeedItem:Jt},setup(){return{apiUrl:(0,Pt.iH)("/articles")}}};const Gt=(0,N.Z)(Kt,[["render",Qe]]);var Qt=Gt;const Xt={class:"home-page"};function er(e,t,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.iD)("div",Xt,[(0,s.Wm)(o,{"api-url":a.apiUrl},null,8,["api-url"])])}var tr={name:"AppYourFeed",components:{AppFeedItem:Jt},setup(){return{apiUrl:(0,Pt.iH)("/articles/feed")}}};const rr=(0,N.Z)(tr,[["render",er]]);var ar=rr;function sr(e,t,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":a.apiUrl},null,8,["api-url"])}var ir={name:"AppYourFeed",components:{AppFeedItem:Jt},setup(){const e=(0,J.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t,apiUrl:(0,s.Fl)((()=>`articles?tag=${t.value}`))}}};const nr=(0,N.Z)(ir,[["render",sr]]);var or=nr;const lr={class:"auth-page"},ur={class:"container page"},cr={class:"row"},dr={class:"col-md-6 offset-md-3 col-xs-12"},mr=(0,s._)("h1",{class:"text-xs-center"},"Sign up",-1),gr={class:"text-xs-center"},pr=(0,s.Uk)(" Have an account? "),vr={class:"form-group"},fr={class:"form-group"},Sr={class:"form-group"},br=["disabled"];function Ar(e,t,r,i,n,o){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",lr,[(0,s._)("div",ur,[(0,s._)("div",cr,[(0,s._)("div",dr,[mr,(0,s._)("p",gr,[(0,s.Wm)(l,{to:{name:"login"}},{default:(0,s.w5)((()=>[pr])),_:1})]),i.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":i.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",vr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>i.user.username=e)},null,512),[[a.nr,i.user.username]])]),(0,s._)("fieldset",fr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=e=>i.user.email=e)},null,512),[[a.nr,i.user.email]])]),(0,s._)("fieldset",Sr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>i.user.password=e)},null,512),[[a.nr,i.user.password]])]),(0,s._)("button",{disabled:i.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign Up ",8,br)],32)])])])])}const Fr={class:"error-messages"};function wr(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("ul",Fr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.errorMessages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,n.zw)(e),1)))),128))])}var yr={name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},setup(e){const t=(0,s.Fl)((()=>Object.keys(e.validationErrors).map((t=>{const r=e.validationErrors[t].join(", ");return`${t} ${r}`}))));return{errorMessages:t}}};const hr=(0,N.Z)(yr,[["render",wr]]);var _r=hr,Ur={name:"AppRegisterPage",setup(){const e=(0,C.oR)(),t=(0,J.tv)(),r=(0,Pt.qj)({username:"",email:"",password:""}),a=(0,s.Fl)((()=>e.state.auth.isSubmitting)),i=(0,s.Fl)((()=>e.state.auth.validationErrors)),n=()=>{e.dispatch(Z.register,r).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:n,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:_r}};const Cr=(0,N.Z)(Ur,[["render",Ar]]);var kr=Cr;const Pr={class:"auth-page"},Lr={class:"container page"},$r={class:"row"},Tr={class:"col-md-6 offset-md-3 col-xs-12"},Dr=(0,s._)("h1",{class:"text-xs-center"},"Sign in",-1),Er={class:"text-xs-center"},qr=(0,s.Uk)(" Need an account? "),Ir={class:"form-group"},jr={class:"form-group"},xr=["disabled"];function Wr(e,t,r,i,n,o){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Pr,[(0,s._)("div",Lr,[(0,s._)("div",$r,[(0,s._)("div",Tr,[Dr,(0,s._)("p",Er,[(0,s.Wm)(l,{to:{name:"register"}},{default:(0,s.w5)((()=>[qr])),_:1})]),i.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":i.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",Ir,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>i.user.email=e)},null,512),[[a.nr,i.user.email]])]),(0,s._)("fieldset",jr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>i.user.password=e)},null,512),[[a.nr,i.user.password]])]),(0,s._)("button",{disabled:i.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign In ",8,xr)],32)])])])])}var Or={name:"AppLoginPage",setup(){const e=(0,C.oR)(),t=(0,J.tv)(),r=(0,Pt.qj)({email:"",password:""}),a=(0,s.Fl)((()=>e.state.auth.isSubmitting)),i=(0,s.Fl)((()=>e.state.auth.validationErrors)),n=()=>{e.dispatch(Z.login,{user:r}).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:n,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:_r}};const Zr=(0,N.Z)(Or,[["render",Wr]]);var Vr=Zr;const Mr={key:0,class:"article-page"},Nr={class:"banner"},Rr={class:"container"},Hr={class:"article-meta d-flex"},zr={key:0},Yr=(0,s._)("i",{class:"ion-edit"},null,-1),Br=(0,s.Uk)(" Edit Article "),Jr=(0,s.Uk)("   "),Kr=(0,s._)("i",{class:"ion-trash-a"},null,-1),Gr=(0,s.Uk)(" Delete Article "),Qr=[Kr,Gr],Xr={class:"container page"},ea={class:"row article-content"},ta={class:"col-xs-12"},ra={class:"row"},aa={class:"col-xs-12 col-md-8 offset-md-2"};function sa(e,t,r,a,i,o){const l=(0,s.up)("app-user-info"),u=(0,s.up)("router-link"),c=(0,s.up)("app-loading-item"),d=(0,s.up)("app-error-message"),m=(0,s.up)("app-tags-list"),g=(0,s.up)("app-add-comment-form"),p=(0,s.up)("app-comment-list");return a.article?((0,s.wg)(),(0,s.iD)("div",Mr,[(0,s._)("div",Nr,[(0,s._)("div",Rr,[(0,s._)("h1",null,(0,n.zw)(a.article.title),1),(0,s._)("div",Hr,[(0,s.Wm)(l,{user:a.article.author,date:a.convertDateJsonToDate(a.article.createdAt).toLocaleString()},null,8,["user","date"]),a.isAuthor?((0,s.wg)(),(0,s.iD)("span",zr,[(0,s.Wm)(u,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:a.article.slug}}},{default:(0,s.w5)((()=>[Yr,Br])),_:1},8,["to"]),Jr,(0,s._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=(...e)=>a.deleteArticle&&a.deleteArticle(...e))},Qr)])):(0,s.kq)("",!0)])])]),(0,s._)("div",Xr,[a.isLoading?((0,s.wg)(),(0,s.j4)(c,{key:0})):(0,s.kq)("",!0),a.error?((0,s.wg)(),(0,s.j4)(d,{key:1,message:a.error},null,8,["message"])):(0,s.kq)("",!0),(0,s._)("div",ea,[(0,s._)("div",ta,[(0,s._)("div",null,[(0,s._)("p",null,(0,n.zw)(a.article.body),1)]),(0,s.Wm)(m,{tags:a.article.tagList},null,8,["tags"])])]),(0,s._)("div",ra,[(0,s._)("div",aa,[(0,s.Wm)(g,{onAddComment:a.addComment,"is-submitting":a.isSubmittingAddComment,errors:a.validationErrors},null,8,["onAddComment","is-submitting","errors"]),(0,s.Wm)(p,{slug:a.article.slug},null,8,["slug"])])])])])):(0,s.kq)("",!0)}const ia=e=>T.get(`/articles/${e}`).then((e=>e.data.article)),na=e=>T.post("/articles",{article:e}).then((e=>e.data.article)),oa=(e,t)=>T.put(`/articles/${e}`,{article:t}).then((e=>e.data.article)),la=e=>T["delete"](`/articles/${e}`);var ua={getArticle:ia,deleteArticle:la,createArticle:na,updateArticle:oa};const ca="article",da={getArticleStart:`[${ca}] getArticleStart`,getArticleSuccess:`[${ca}] getArticleSuccess`,getArticleFailure:`[${ca}] getArticleFailure`,deleteArticleStart:`[${ca}] deleteArticleStart`,deleteArticleSuccess:`[${ca}] deleteArticleSuccess`,deleteArticleFailure:`[${ca}] deleteArticleFailure`},ma={getArticle:`[${ca}] getArticle`,deleteArticle:`[${ca}] deleteArticle`};var ga={state(){return{data:null,isLoading:!1,error:null}},mutations:{[da.getArticleStart](e){e.isLoading=!0,e.data=null},[da.getArticleSuccess](e,t){e.isLoading=!1,e.data=t},[da.getArticleFailure](e){e.isLoading=!1},[da.deleteArticleStart](){},[da.deleteArticleSuccess](){},[da.deleteArticleFailure](){}},actions:{[ma.getArticle]:async({commit:e},{slug:t})=>{try{e(da.getArticleStart);const r=await ua.getArticle(t);e(da.getArticleSuccess,r)}catch(r){throw e(da.getArticleFailure),r}},[ma.deleteArticle]:async({commit:e},{slug:t})=>{try{e(da.deleteArticleStart),await ua.deleteArticle(t),e(da.deleteArticleSuccess)}catch(r){throw e(da.deleteArticleFailure),r}}}};const pa=e=>T.get(`/articles/${e}/comments`).then((e=>e.data.comments)),va=({slugArticle:e,commentInput:t})=>T.post(`/articles/${e}/comments`,{comment:t}).then((e=>e.data.comment)),fa=({slugArticle:e,slugComment:t})=>T["delete"](`/articles/${e}/comments/${t}`);var Sa={getComments:pa,deleteComment:fa,addComment:va};const ba="comments",Aa={getCommentsStart:`[${ba}] getCommentsStart`,getCommentsSuccess:`[${ba}] getCommentsSuccess`,getCommentsFailure:`[${ba}] getCommentsFailure`,deleteCommentStart:`[${ba}] deleteCommentStart`,deleteCommentSuccess:`[${ba}] deleteCommentSuccess`,deleteCommentFailure:`[${ba}] deleteCommentFailure`,addCommentStart:`[${ba}] addCommentStart`,addCommentSuccess:`[${ba}] addCommentSuccess`,addCommentFailure:`[${ba}] addCommentFailure`},Fa={getComments:`[${ba}] getComments`,deleteComment:`[${ba}] deleteComment`,addComment:`[${ba}] addComment`};var wa={state(){return{data:null,isLoading:!1,validationErrors:null}},mutations:{[Aa.getCommentsStart](e){e.isLoading=!0,e.data=null},[Aa.getCommentsSuccess](e,t){e.isLoading=!1,e.data=t.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))},[Aa.getCommentsFailure](e){e.isLoading=!1},[Aa.deleteCommentStart](){},[Aa.deleteCommentSuccess](e,{slugComment:t}){e.data=e.data.filter((e=>e.id!=t))},[Aa.deleteCommentFailure](){},[Aa.addCommentStart](){},[Aa.addCommentSuccess](e,t){e.data.unshift(t)},[Aa.addCommentFailure](e,t){e.validationErrors=t}},actions:{[Fa.getComments]:async({commit:e},{slug:t})=>{try{e(Aa.getCommentsStart);const r=await Sa.getComments(t);e(Aa.getCommentsSuccess,r)}catch(r){throw e(Aa.getCommentsFailure),r}},[Fa.addComment]:async({commit:e},t)=>{try{e(Aa.addCommentStart);const r=await Sa.addComment(t);e(Aa.addCommentSuccess,r)}catch(r){throw e(Aa.addCommentFailure,r.response.data.errors),r}},[Fa.deleteComment]:async({commit:e},t)=>{try{e(Aa.deleteCommentStart),await Sa.deleteComment(t),e(Aa.deleteCommentSuccess,t)}catch(r){throw e(Aa.deleteCommentFailure),r}}}};const ya={key:0};function ha(e,t,r,a,i,n){const o=(0,s.up)("app-comment-item");return a.comments?((0,s.wg)(),(0,s.iD)("div",ya,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.comments,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s.Wm)(o,{comment:e,onDeleteComment:a.deleteComment},null,8,["comment","onDeleteComment"])])))),128))])):(0,s.kq)("",!0)}const _a=e=>((0,s.dD)("data-v-3f016858"),e=e(),(0,s.Cn)(),e),Ua={key:0,class:"card"},Ca={class:"card-block"},ka={class:"card-text"},Pa={class:"card-footer"},La=_a((()=>(0,s._)("i",{class:"ion-trash-a"},null,-1))),$a=[La];function Ta(e,t,r,a,i,o){const l=(0,s.up)("app-user-info");return r.comment?((0,s.wg)(),(0,s.iD)("div",Ua,[(0,s._)("div",Ca,[(0,s._)("p",ka,(0,n.zw)(r.comment.body),1)]),(0,s._)("div",Pa,[(0,s.Wm)(l,{user:r.comment.author,date:a.convertDateJsonToDate(r.comment.createdAt).toLocaleString()},null,8,["user","date"]),a.isCurrentUserProfile?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"mod-options",onClick:t[0]||(t[0]=e=>a.deleteComment(r.comment.id))},$a)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}function Da(e){const t=(0,C.oR)(),r=(0,s.Fl)((()=>t.getters[W.currentUser])),a=(0,s.Fl)((()=>!(!r.value||!e.value)&&r.value.username===e.value.username));return{currentUser:r,isCurrentUserProfile:a}}var Ea={name:"AppCommentItem",emits:["deleteComment"],components:{AppUserInfo:zt},props:{comment:{type:Object,required:!0}},setup(e,{emit:t}){const{currentUser:r,isCurrentUserProfile:a}=Da((0,Pt.iH)(e.comment.author)),s=e=>{t("deleteComment",{slugComment:e})};return{isCurrentUserProfile:a,currentUser:r,deleteComment:s,convertDateJsonToDate:mt}}};const qa=(0,N.Z)(Ea,[["render",Ta],["__scopeId","data-v-3f016858"]]);var Ia=qa,ja={name:"AppCommentList",components:{AppCommentItem:Ia},props:{slug:{type:String,required:!0}},setup(e){const t=(0,C.oR)();(0,s.bv)((()=>{t.dispatch(Fa.getComments,{slug:e.slug})}));const{isLoading:r,data:a,error:i}=me("comments"),n=({slugComment:r})=>{const a={slugArticle:e.slug,slugComment:r};t.dispatch(Fa.deleteComment,a)};return{isLoading:r,comments:a,error:i,deleteComment:n}}};const xa=(0,N.Z)(ja,[["render",ha]]);var Wa=xa;const Oa={key:0},Za={class:"card-block"},Va=["disabled"],Ma={class:"card-footer"},Na=["src"],Ra=["disabled"];function Ha(e,t,r,i,n,o){const l=(0,s.up)("app-validation-errors");return i.currentUser?((0,s.wg)(),(0,s.iD)("div",Oa,[r.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":r.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{class:"card comment-form",onSubmit:t[1]||(t[1]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("div",Za,[(0,s.wy)((0,s._)("textarea",{class:"form-control",disabled:r.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=e=>i.commentInput.body=e)},null,8,Va),[[a.nr,i.commentInput.body]])]),(0,s._)("div",Ma,[(0,s._)("img",{class:"comment-author-img",src:i.currentUser.image},null,8,Na),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:r.isSubmitting},"Post Comment",8,Ra)])],32)])):(0,s.kq)("",!0)}var za={name:"AppAddCommentForm",emits:["addComment"],props:{isSubmitting:{type:Boolean,default:!1},errors:{type:Object,required:!1}},components:{AppValidationErrors:_r},setup(e,{emit:t}){const r=(0,C.oR)(),a=(0,Pt.qj)({body:""});(0,s.YP)((()=>e.isSubmitting),(e=>{e||(a.body="")}));const i=()=>{t("addComment",a)};return{commentInput:a,onSubmit:i,currentUser:(0,s.Fl)((()=>r.getters[W.currentUser]))}}};const Ya=(0,N.Z)(za,[["render",Ha]]);var Ba=Ya,Ja={name:"AppArticleItem",components:{AppLoadingItem:ye,AppErrorMessage:Ce,AppTagsList:_t,AppCommentList:Wa,AppAddCommentForm:Ba,AppUserInfo:zt},setup(){const e=(0,C.oR)(),t=(0,J.yj)(),r=(0,J.tv)(),{isLoading:a,data:i,error:n}=me("article"),o=(0,Pt.iH)(!1),l=(0,s.Fl)((()=>e.getters[W.currentUser])),u=(0,s.Fl)((()=>!(!l.value||!i.value)&&l.value.username===i.value.author.username));e.dispatch(ma.getArticle,{slug:t.params.slug});const c=r=>{o.value=!0,e.dispatch(Fa.addComment,{slugArticle:t.params.slug,commentInput:r}).then((()=>o.value=!1)).catch((()=>o.value=!1))},d=()=>{e.dispatch(ma.deleteArticle,{slug:t.params.slug}).then((()=>{r.push({name:"globalFeed"})}))};return{isLoading:a,error:n,article:i,isAuthor:u,isSubmittingAddComment:o,validationErrors:(0,s.Fl)((()=>e.state.comments.validationErrors)),deleteArticle:d,addComment:c,convertDateJsonToDate:mt}}};const Ka=(0,N.Z)(Ja,[["render",sa]]);var Ga=Ka;function Qa(e,t,r,a,i,n){const o=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.j4)(o,{"initial-values":a.initialValues,errors:a.validationErrors,"is-submitting":a.isSubmitting,onArticleSubmit:a.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])}const Xa={class:"editor-page"},es={class:"container page"},ts={class:"row"},rs={class:"col-md-10 offset-md-1 col-xs-12"},as={class:"form-group"},ss=["disabled"],is={class:"form-group"},ns=["disabled"],os={class:"form-group"},ls=["disabled"],us={class:"form-group"},cs=["disabled"],ds={class:"form-group"},ms=["disabled"];function gs(e,t,r,i,n,o){const l=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Xa,[(0,s._)("div",es,[(0,s._)("div",ts,[(0,s._)("div",rs,[r.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":r.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",as,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title",disabled:r.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=e=>i.dataForm.title=e)},null,8,ss),[[a.nr,i.dataForm.title]])]),(0,s._)("fieldset",is,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description",disabled:r.isSubmitting,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dataForm.description=e)},null,8,ns),[[a.nr,i.dataForm.description]])]),(0,s._)("fieldset",os,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?",disabled:r.isSubmitting,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dataForm.body=e)},null,8,ls),[[a.nr,i.dataForm.body]])]),(0,s._)("fieldset",us,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags",disabled:r.isSubmitting,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dataForm.tagList=e)},null,8,cs),[[a.nr,i.dataForm.tagList]])]),(0,s._)("fieldset",ds,[(0,s._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:r.isSubmitting}," Publish Article ",8,ms)])])],32)])])])])}var ps={name:"AppArticleForm",emits:["articleSubmit"],components:{AppValidationErrors:_r},props:{initialValues:{type:Object,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},setup(e,{emit:t}){const r=(0,Pt.qj)(e.initialValues),a=()=>{const e={title:r.title,description:r.description,body:r.description,tagList:r.tagList.toString().split(" ")};t("articleSubmit",e)};return{dataForm:r,onSubmit:a}}};const vs=(0,N.Z)(ps,[["render",gs]]);var fs=vs;const Ss="createArticle",bs={createArticleStart:`[${Ss}] createArticleStart`,createArticleSuccess:`[${Ss}] createArticleSuccess`,createArticleFailure:`[${Ss}] createArticleFailure`},As={createArticle:`[${Ss}] createArticle`};var Fs={state(){return{isSubmitting:!1,validationErrors:null}},mutations:{[bs.createArticleStart](e){e.isSubmitting=!0},[bs.createArticleSuccess](e){e.isSubmitting=!1},[bs.createArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},actions:{[As.createArticle]:async({commit:e},{articleInput:t})=>{try{e(bs.createArticleStart);const r=await ua.createArticle(t);return e(bs.createArticleSuccess),r}catch(r){throw e(bs.createArticleFailure,r.response.data.errors),r}}}},ws={name:"AppCreateArticle",components:{AppArticleForm:fs},setup(){const e=(0,C.oR)(),t=(0,J.tv)(),r={title:"",description:"",body:"",tagList:[]},a=r=>{e.dispatch(As.createArticle,{articleInput:r}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:r,validationErrors:(0,s.Fl)((()=>e.state.createArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.createArticle.isSubmitting)),onSubmit:a}}};const ys=(0,N.Z)(ws,[["render",Qa]]);var hs=ys;function _s(e,t,r,a,i,n){const o=(0,s.up)("app-loading-item"),l=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.isLoading?((0,s.wg)(),(0,s.j4)(o,{key:0})):(0,s.kq)("",!0),a.initialValues?((0,s.wg)(),(0,s.j4)(l,{key:1,"initial-values":a.initialValues,errors:a.validationErrors,"is-submitting":a.isSubmitting,onArticleSubmit:a.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])):(0,s.kq)("",!0)],64)}const Us="editArticle",Cs={updateArticleStart:`[${Us}] updateArticleStart`,updateArticleSuccess:`[${Us}] updateArticleSuccess`,updateArticleFailure:`[${Us}] updateArticleFailure`,getArticleStart:`[${Us}] getArticleStart`,getArticleSuccess:`[${Us}] getArticleSuccess`,getArticleFailure:`[${Us}] getArticleFailure`},ks={updateArticle:`[${Us}] updateArticle`,getArticle:`[${Us}] getArticle`};var Ps={state(){return{isSubmitting:!1,validationErrors:null,isLoading:!1,article:null}},mutations:{[Cs.updateArticleStart](e){e.isSubmitting=!0},[Cs.updateArticleSuccess](e){e.isSubmitting=!1},[Cs.updateArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[Cs.getArticleStart](e){e.isLoading=!0},[Cs.getArticleSuccess](e,t){e.isLoading=!1,e.article=t},[Cs.getArticleFailure](e){e.isLoading=!1}},actions:{[ks.updateArticle]:async({commit:e},{slug:t,articleInput:r})=>{try{e(Cs.updateArticleStart);const a=await ua.updateArticle(t,r);return e(Cs.updateArticleSuccess,a),a}catch(a){throw e(Cs.createArticleFailure,a.response.data.errors),a}},[ks.getArticle]:async({commit:e},{slug:t})=>{try{e(Cs.getArticleStart);const r=await ua.getArticle(t);return e(Cs.getArticleSuccess,r),r}catch(r){throw e(Cs.getArticleFailure),r}}}},Ls={name:"AppEditArticle",components:{AppArticleForm:fs,AppLoadingItem:ye},setup(){const e=(0,C.oR)(),t=(0,J.tv)(),r=(0,J.yj)(),a=(0,s.Fl)((()=>e.state.editArticle.article)),i=(0,s.Fl)((()=>a.value?{title:a.value.title,description:a.value.description,body:a.value.body,tagList:a.value.tagList.toString()}:null));(0,s.bv)((()=>{e.dispatch(ks.getArticle,{slug:r.params.slug})}));const n=a=>{e.dispatch(ks.updateArticle,{slug:r.params.slug,articleInput:a}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:i,validationErrors:(0,s.Fl)((()=>e.state.editArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.editArticle.isSubmitting)),isLoading:(0,s.Fl)((()=>e.state.editArticle.isLoading)),onSubmit:n,article:a}}};const $s=(0,N.Z)(Ls,[["render",_s]]);var Ts=$s;const Ds={key:0,class:"settings-page"},Es={class:"container page"},qs={class:"row"},Is={class:"col-md-6 offset-md-3 col-xs-12"},js=(0,s._)("h1",{class:"text-xs-center"},"Settings",-1),xs={class:"form-group"},Ws=["disabled"],Os={class:"form-group"},Zs=["disabled"],Vs={class:"form-group"},Ms=["disabled"],Ns={class:"form-group"},Rs=["disabled"],Hs={class:"form-group"},zs=["disabled"],Ys=["disabled"],Bs=(0,s._)("hr",null,null,-1);function Js(e,t,r,i,n,o){const l=(0,s.up)("app-validation-errors");return i.currentUser?((0,s.wg)(),(0,s.iD)("div",Ds,[(0,s._)("div",Es,[(0,s._)("div",qs,[(0,s._)("div",Is,[js,i.validationErrors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":i.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",xs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>i.form.image=e),disabled:i.isSubmitting,placeholder:"URL of profile image"},null,8,Ws),[[a.nr,i.form.image]])]),(0,s._)("fieldset",Os,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=e=>i.form.username=e),disabled:i.isSubmitting,placeholder:"Username"},null,8,Zs),[[a.nr,i.form.username]])]),(0,s._)("fieldset",Vs,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=e=>i.form.bio=e),disabled:i.isSubmitting,placeholder:"Short bio about you"},null,8,Ms),[[a.nr,i.form.bio]])]),(0,s._)("fieldset",Ns,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=e=>i.form.email=e),disabled:i.isSubmitting,placeholder:"Email"},null,8,Rs),[[a.nr,i.form.email]])]),(0,s._)("fieldset",Hs,[(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=e=>i.form.password=e),disabled:i.isSubmitting,placeholder:"New password"},null,8,zs),[[a.nr,i.form.password]])]),(0,s._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:i.isSubmitting}," Update settings ",8,Ys)])],32),Bs,(0,s._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...e)=>i.logout&&i.logout(...e)),type:"text"}," Or cick here to logout ")])])])])):(0,s.kq)("",!0)}var Ks={name:"AppSettingsPage",components:{AppValidationErrors:_r},setup(){const e=(0,C.oR)(),t=(0,J.tv)(),r=(0,s.Fl)((()=>e.getters[W.currentUser])),a=(0,s.Fl)((()=>({username:r.value.username,bio:r.value.bio,image:r.value.image,email:r.value.email,password:""}))),i=()=>{e.dispatch(Z.updateCurrentUser,{currentUserInput:a.value}).then((()=>{t.push({name:"userProfileMyPosts",params:{slug:r.value.username}})}))},n=()=>{e.dispatch(Z.logout).then((()=>{t.push({name:"globalFeed"})}))};return{isSubmitting:(0,s.Fl)((()=>e.state.settings.isSubmitting)),validationErrors:(0,s.Fl)((()=>e.state.settings.validationErrors)),currentUser:r,form:a,onSubmit:i,logout:n}}};const Gs=(0,N.Z)(Ks,[["render",Js]]);var Qs=Gs;const Xs={key:0,class:"profile-page"},ei={class:"profile-page__user-info"},ti={class:"container"},ri={class:"row"},ai={class:"col-xs-12 col-md-10 offset-md-1"},si=["src"],ii=(0,s.Uk)(" FOLLOW USER BUTTON "),ni=(0,s.Uk)(" Edit Profile Settings "),oi={class:"container"},li={class:"row"},ui={class:"col-xs-12 col-md-10 offset-md-1"},ci={class:"article-toggle"},di={class:"nav nav-pills outline-active"},mi={class:"nav-item"},gi=(0,s.Uk)(" My Posts "),pi={class:"nav-item"},vi=(0,s.Uk)(" Favorites Posts ");function fi(e,t,r,a,i,o){const l=(0,s.up)("router-link"),u=(0,s.up)("router-view");return a.userProfile?((0,s.wg)(),(0,s.iD)("div",Xs,[(0,s._)("div",ei,[(0,s._)("div",ti,[(0,s._)("div",ri,[(0,s._)("div",ai,[(0,s._)("img",{class:"user-img",src:a.userProfile.image},null,8,si),(0,s._)("h4",null,(0,n.zw)(a.userProfile.username),1),(0,s._)("p",null,(0,n.zw)(a.userProfile.bio),1),(0,s._)("div",null,[ii,a.isCurrentUserProfile?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,s.w5)((()=>[ni])),_:1})):(0,s.kq)("",!0)])])])])]),(0,s._)("div",oi,[(0,s._)("div",li,[(0,s._)("div",ui,[(0,s._)("div",ci,[(0,s._)("ul",di,[(0,s._)("li",mi,[(0,s.Wm)(l,{to:{name:"userProfileMyPosts",params:{slug:a.userProfile.username}},class:(0,n.C_)(["nav-link",{active:"userProfileMyPosts"===a.routeName}])},{default:(0,s.w5)((()=>[gi])),_:1},8,["to","class"])]),(0,s._)("li",pi,[(0,s.Wm)(l,{to:{name:"userProfileFavorites",params:{slug:a.userProfile.username}},class:(0,n.C_)(["nav-link",{active:"userProfileFavorites"===a.routeName}])},{default:(0,s.w5)((()=>[vi])),_:1},8,["to","class"])])])]),(0,s.Wm)(u)])])])])):(0,s.kq)("",!0)}const Si=e=>T.get(`/profiles/${e}`).then((e=>e.data.profile));var bi={getUserProfile:Si};const Ai="userProfile",Fi={getUserProfileStart:`[${Ai}] getUserProfileStart`,getUserProfileSuccess:`[${Ai}] getUserProfileSuccess`,getUserProfileFailure:`[${Ai}] getUserProfileFailure`},wi={getUserProfile:`[${Ai}] getUserProfile`};var yi={state(){return{data:null,isLoading:!1,error:null}},mutations:{[Fi.getUserProfileStart](e){e.isLoading=!0,e.data=null},[Fi.getUserProfileSuccess](e,t){e.isLoading=!1,e.data=t},[Fi.getUserProfileFailure](e){e.isLoading=!1}},actions:{[wi.getUserProfile]:async({commit:e},{slug:t})=>{try{e(Fi.getUserProfileStart);const r=await bi.getUserProfile(t);e(Fi.getUserProfileSuccess,r)}catch(r){throw e(Fi.getUserProfileFailure),r}}}},hi={name:"AppUserProfile",setup(){const e=(0,C.oR)(),t=(0,J.yj)(),{isLoading:r,data:a,error:i}=me("userProfile"),{isCurrentUserProfile:n}=Da(a),o=(0,s.Fl)((()=>t.params.slug)),l=(0,s.Fl)((()=>t.name));(0,s.YP)((()=>o.value),(()=>u())),(0,s.bv)((()=>u()));const u=()=>{e.dispatch(wi.getUserProfile,{slug:o.value})};return{isLoading:r,userProfile:a,error:i,isCurrentUserProfile:n,routeName:l}}};const _i=(0,N.Z)(hi,[["render",fi]]);var Ui=_i;function Ci(e,t,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":e.apiUrl},null,8,["api-url"])}function ki(){const e=(0,J.yj)(),t=(0,s.Fl)((()=>e.params.slug)),r=(0,s.Fl)((()=>{const r=e.path.includes("favorites");return r?`/articles?favorited=${t.value}`:`/articles?author=${t.value}`}));return{apiUrl:r}}var Pi={name:"AppUserProfileMyPosts",components:{AppFeedItem:Jt},setup(){return{...ki()}}};const Li=(0,N.Z)(Pi,[["render",Ci]]);var $i=Li;function Ti(e,t,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":e.apiUrl},null,8,["api-url"])}var Di={name:"AppUserProfileFavorites",components:{AppFeedItem:Jt},setup(){return{...ki()}}};const Ei=(0,N.Z)(Di,[["render",Ti]]);var qi=Ei;const Ii=[{path:"/register",name:"register",component:kr},{path:"/login",name:"login",component:Vr},{path:"/",name:"mainFeed",component:Ge,children:[{path:"/",name:"globalFeed",component:Qt},{path:"/yourFeed",name:"yourFeed",component:ar},{path:"/tags/:slug",name:"tag",component:or}]},{path:"/articles/new",name:"createArticle",component:hs},{path:"/articles/:slug",name:"article",component:Ga},{path:"/articles/:slug/edit",name:"editArticle",component:Ts},{path:"/settings",name:"settings",component:Qs},{path:"/profiles",name:"userProfile",component:Ui,children:[{path:"/profiles/:slug",name:"userProfileMyPosts",component:$i},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:qi}]}],ji=(0,J.p7)({history:(0,J.PO)("/"),routes:Ii});var xi=ji,Wi={state(){return{isSubmitting:!1,validationErrors:null}},mutations:{[O.updateCurrentUserStart](e){e.isSubmitting=!0,e.validationErrors=null},[O.updateCurrentUserSuccess](e){e.isSubmitting=!1},[O.updateCurrentUserFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}}},Oi=(0,C.MT)({state:{},mutations:{},actions:{},modules:{auth:V,feed:ct,popularTags:de,article:ga,createArticle:Fs,editArticle:Ps,settings:Wi,addToFavorites:It,userProfile:yi,comments:wa}});(0,a.ri)(B).use(Oi).use(xi).mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,i){if(!a){var n=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],i=e[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,s,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,n=a[0],o=a[1],l=a[2],u=0;if(n.some((function(t){return 0!==e[t]}))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(l)var c=l(r)}for(t&&t(a);u<n.length;u++)i=n[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},a=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5935)}));a=r.O(a)})();