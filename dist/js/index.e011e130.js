(function(){"use strict";var e={5799:function(e,t,r){var a={};r.r(a),r.d(a,{t:function(){return Le}});var s={};r.r(s),r.d(s,{G:function(){return St}});var i=r(9242),o=r(3396);function n(e,t,r,a,s,i){const n=(0,o.up)("app-top-bar"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(n),(0,o.Wm)(l)],64)}var l=r(7139);const u={class:"navbar navbar-light"},c={class:"container"},d=(0,o.Uk)(" MediumClone "),m={class:"nav navbar-nav pull-xs-right"},p={class:"nav-item"},g=(0,o.Uk)(" Home "),v={class:"nav-item"},f=(0,o._)("i",{class:"ion-compose"},null,-1),S=(0,o.Uk)(" New Article "),b={class:"nav-item"},w=(0,o._)("i",{class:"ion-gear-a"},null,-1),F=(0,o.Uk)(" Settings "),A={class:"nav-item"},y=["src"],h={class:"nav-item"},_=(0,o.Uk)(" Sing in "),U={class:"nav-item"},C=(0,o.Uk)(" Sing up ");function k(e,t,r,a,s,i){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",u,[(0,o._)("div",c,[(0,o.Wm)(n,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,o.w5)((()=>[d])),_:1}),(0,o._)("ul",m,[(0,o._)("li",p,[(0,o.Wm)(n,{class:"nav-link",to:{name:"globalFeed"},"active-class":"active"},{default:(0,o.w5)((()=>[g])),_:1})]),a.isLoggedIn?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("li",v,[(0,o.Wm)(n,{class:"nav-link",to:{name:"createArticle"},"active-class":"active"},{default:(0,o.w5)((()=>[f,S])),_:1})]),(0,o._)("li",b,[(0,o.Wm)(n,{class:"nav-link",to:{name:"settings"},"active-class":"active"},{default:(0,o.w5)((()=>[w,F])),_:1})]),(0,o._)("li",A,[(0,o.Wm)(n,{class:"nav-link",to:{name:"userProfileMyPosts",params:{slug:a.currentUser.username}},"active-class":"active"},{default:(0,o.w5)((()=>[(0,o._)("img",{class:"user-pic",src:a.currentUser.image},null,8,y),(0,o.Uk)(" "+(0,l.zw)(a.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,o.kq)("",!0),a.isAnonymous?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("li",h,[(0,o.Wm)(n,{class:"nav-link",to:{name:"login"},"active-class":"active"},{default:(0,o.w5)((()=>[_])),_:1})]),(0,o._)("li",U,[(0,o.Wm)(n,{class:"nav-link",to:{name:"register"},"active-class":"active"},{default:(0,o.w5)((()=>[C])),_:1})])],64)):(0,o.kq)("",!0)])])])}var P=r(65);const T="auth",L={currentUser:`[${T}] currentUser`,isLoggedIn:`[${T}] isLoggedIn`,isAnonymous:`[${T}] isAnonymous`},$={registerStart:`[${T}] registerStart`,registerSuccess:`[${T}] registerSuccess`,registerFailure:`[${T}] registerFailure`,loginStart:`[${T}] loginStart`,loginSuccess:`[${T}] loginSuccess`,loginFailure:`[${T}] loginFailure`,getCurrentUserStart:`[${T}] getCurrentUserStart`,getCurrentUserSuccess:`[${T}] getCurrentUserSuccess`,getCurrentUserFailure:`[${T}] getCurrentUserFailure`,updateCurrentUserStart:`[${T}] updateCurrentUserStart`,updateCurrentUserSuccess:`[${T}] updateCurrentUserSuccess`,updateCurrentUserFailure:`[${T}] updateCurrentUserFailure`,logout:`[${T}] logout`},D={register:`[${T}] register`,login:`[${T}] login`,getCurrentUser:`[${T}] getCurrentUser`,updateCurrentUser:`[${T}] updateCurreUser`,logout:`[${T}] logout`},q={[$.registerStart](e){e.isSubmitting=!0,e.validationErrors=null},[$.registerSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[$.registerFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[$.loginStart](e){e.isSubmitting=!0,e.validationErrors=null},[$.loginSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[$.loginFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[$.getCurrentUserStart](e){e.isLoading=!0},[$.getCurrentUserSuccess](e,t){e.currentUser=t,e.isLoading=!1,e.isLoggedIn=!0},[$.getCurrentUserFailure](e){e.isLoading=!1,e.isLoggedIn=!1,e.currentUser=null},[$.updateCurrentUserStart](){},[$.updateCurrentUserSuccess](e,t){e.currentUser=t},[$.updateCurrentUserFailure](){},[$.logout](e){e.currentUser=null,e.isLoggedIn=!1}};var E=r(6265),I=r.n(E);const j=e=>{try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return console.log("Error getting data from localstorage",t),null}},x=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log("Error saving data in localstorage",r)}};I().defaults.baseURL="https://conduit.productionready.io/api",I().interceptors.request.use((e=>{const t=j("accessToken"),r=t?`Token ${t}`:"";return e.headers={Authorization:r},e}));var W=I();const O=e=>W.post("/users",{user:e}),Z=e=>W.post("/users/login",e),V=()=>W.get("/user"),M=e=>W.put("/user",{user:e}).then((e=>e.data.user));var N={register:O,login:Z,getCurrentUser:V,updateCurrentUser:M};const R={[D.register]:async({commit:e},t)=>{try{e($.registerStart);const{data:r}=await N.register(t);x("accessToken",r.user.token),e($.registerSuccess,r.user)}catch(r){throw e($.registerFailure,r.response.data.errors),r}},[D.login]:async({commit:e},t)=>{try{e($.loginStart);const{data:r}=await N.login(t);x("accessToken",r.user.token),e($.loginSuccess,r.user)}catch(r){throw e($.loginFailure,r.response.data.errors),r}},[D.getCurrentUser]:async({commit:e})=>{try{e($.getCurrentUserStart);const{data:t}=await N.getCurrentUser();e($.getCurrentUserSuccess,t.user)}catch(t){throw e($.getCurrentUserFailure),t}},[D.updateCurrentUser]:async({commit:e},{currentUserInput:t})=>{try{e($.updateCurrentUserStart);const r=await N.updateCurrentUser(t);e($.updateCurrentUserSuccess,r)}catch(r){throw console.dir(r),e($.updateCurrentUserFailure,r.response.data.errors),r}},[D.logout]:async({commit:e})=>{try{x("accessToken",""),e($.logout)}catch(t){throw console.log(t),t}}},H={[L.currentUser]:e=>e.currentUser,[L.isLoggedIn]:e=>Boolean(e.isLoggedIn),[L.isAnonymous]:e=>!1===e.isLoggedIn},z={isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null},Y={state:z,getters:H,mutations:q,actions:R},B="feed",J={getFeedStart:`[${B}] getFeedStart`,getFeedSuccess:`[${B}] getFeedSuccess`,getFeedFailure:`[${B}] getFeedFailure`},K={getFeed:`[${B}] getFeed`},G={[J.getFeedStart](e){e.isLoading=!0,e.data=null},[J.getFeedSuccess](e,t){e.isLoading=!1,e.data=t},[J.getFeedFailure](e){e.isLoading=!1}},Q=e=>W.get(e);var X={getFeed:Q};const ee={[K.getFeed]:async({commit:e},{apiUrl:t})=>{try{e(J.getFeedStart);const{data:r}=await X.getFeed(t);e(J.getFeedSuccess,r)}catch(r){throw e(J.getFeedFailure),r}}},te={data:null,isLoading:!1,error:null},re={state:te,mutations:G,actions:ee},ae="popularTags",se={getPopularTagsStart:`[${ae}] getPopularTagsStart`,getPopularTagsSuccess:`[${ae}] getPopularTagsSuccess`,getPopularTagsFailure:`[${ae}] getPopularTagsFailure`},ie={getPopularTags:`[${ae}] getPopularTags`},oe={[se.getPopularTagsStart](e){e.isLoading=!0,e.data=null},[se.getPopularTagsSuccess](e,t){e.isLoading=!1,e.data=t},[se.getPopularTagsFailure](e){e.isLoading=!1}},ne=()=>W.get("/tags").then((e=>e.data.tags));var le={getPopularTags:ne};const ue={[ie.getPopularTags]:async({commit:e})=>{try{e(se.getPopularTagsStart);const t=await le.getPopularTags();e(se.getPopularTagsSuccess,t)}catch(t){throw e(se.getPopularTagsFailure),t}}},ce={data:null,isLoading:!1,error:null},de={state:ce,mutations:oe,actions:ue},me="article",pe={getArticleStart:`[${me}] getArticleStart`,getArticleSuccess:`[${me}] getArticleSuccess`,getArticleFailure:`[${me}] getArticleFailure`,deleteArticleStart:`[${me}] deleteArticleStart`,deleteArticleSuccess:`[${me}] deleteArticleSuccess`,deleteArticleFailure:`[${me}] deleteArticleFailure`},ge={getArticle:`[${me}] getArticle`,deleteArticle:`[${me}] deleteArticle`},ve={[pe.getArticleStart](e){e.isLoading=!0,e.data=null},[pe.getArticleSuccess](e,t){e.isLoading=!1,e.data=t},[pe.getArticleFailure](e){e.isLoading=!1},[pe.deleteArticleStart](){},[pe.deleteArticleSuccess](){},[pe.deleteArticleFailure](){}},fe=e=>W.get(`/articles/${e}`).then((e=>e.data.article)),Se=e=>W.post("/articles",{article:e}).then((e=>e.data.article)),be=(e,t)=>W.put(`/articles/${e}`,{article:t}).then((e=>e.data.article)),we=e=>W["delete"](`/articles/${e}`);var Fe={getArticle:fe,deleteArticle:we,createArticle:Se,updateArticle:be};const Ae={[ge.getArticle]:async({commit:e},{slug:t})=>{try{e(pe.getArticleStart);const r=await Fe.getArticle(t);e(pe.getArticleSuccess,r)}catch(r){throw e(pe.getArticleFailure),r}},[ge.deleteArticle]:async({commit:e},{slug:t})=>{try{e(pe.deleteArticleStart),await Fe.deleteArticle(t),e(pe.deleteArticleSuccess)}catch(r){throw e(pe.deleteArticleFailure),r}}},ye={data:null,isLoading:!1,error:null},he={state:ye,mutations:ve,actions:Ae},_e="createArticle",Ue={createArticleStart:`[${_e}] createArticleStart`,createArticleSuccess:`[${_e}] createArticleSuccess`,createArticleFailure:`[${_e}] createArticleFailure`},Ce={createArticle:`[${_e}] createArticle`},ke={[Ue.createArticleStart](e){e.isSubmitting=!0},[Ue.createArticleSuccess](e){e.isSubmitting=!1},[Ue.createArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},Pe={[Ce.createArticle]:async({commit:e},{articleInput:t})=>{try{e(Ue.createArticleStart);const r=await Fe.createArticle(t);return e(Ue.createArticleSuccess),r}catch(r){throw e(Ue.createArticleFailure,r.response.data.errors),r}}},Te={isSubmitting:!1,validationErrors:null},Le={state:Te,mutations:ke,actions:Pe},$e="editArticle",De={updateArticleStart:`[${$e}] updateArticleStart`,updateArticleSuccess:`[${$e}] updateArticleSuccess`,updateArticleFailure:`[${$e}] updateArticleFailure`,getArticleStart:`[${$e}] getArticleStart`,getArticleSuccess:`[${$e}] getArticleSuccess`,getArticleFailure:`[${$e}] getArticleFailure`},qe={updateArticle:`[${$e}] updateArticle`,getArticle:`[${$e}] getArticle`},Ee={[De.updateArticleStart](e){e.isSubmitting=!0},[De.updateArticleSuccess](e){e.isSubmitting=!1},[De.updateArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[De.getArticleStart](e){e.isLoading=!0},[De.getArticleSuccess](e,t){e.isLoading=!1,e.article=t},[De.getArticleFailure](e){e.isLoading=!1}},Ie={[qe.updateArticle]:async({commit:e},{slug:t,articleInput:r})=>{try{e(De.updateArticleStart);const a=await Fe.updateArticle(t,r);return e(De.updateArticleSuccess,a),a}catch(a){throw e(De.updateArticleFailure,a.response.data.errors),a}},[qe.getArticle]:async({commit:e},{slug:t})=>{try{e(De.getArticleStart);const r=await Fe.getArticle(t);return e(De.getArticleSuccess,r),r}catch(r){throw e(De.getArticleFailure),r}}},je={isSubmitting:!1,validationErrors:null,isLoading:!1,article:null},xe={state:je,mutations:Ee,actions:Ie},We={[$.updateCurrentUserStart](e){e.isSubmitting=!0,e.validationErrors=null},[$.updateCurrentUserSuccess](e){e.isSubmitting=!1},[$.updateCurrentUserFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},Oe={isSubmitting:!1,validationErrors:null},Ze={state:Oe,mutations:We},Ve="addToFavorites",Me={addToFavoritesStart:`[${Ve}] addToFavoritesStart`,addToFavoritesSuccess:`[${Ve}] addToFavoritesSuccess`,addToFavoritesFailure:`[${Ve}] addToFavoritesFailure`},Ne={addToFavorites:`[${Ve}] addToFavorites`},Re={[Me.addToFavoritesStart](){},[Me.addToFavoritesSuccess](){},[Me.addToFavoritesFailure](){}},He=e=>W.post(`/articles/${e}/favorite`,{}).then((e=>e.data.article)),ze=e=>W["delete"](`/articles/${e}/favorite`).then((e=>e.data.article));var Ye={addToFavorites:He,removeFromFavorites:ze};const Be={[Ne.addToFavorites]:async({commit:e},{slug:t,isFavorited:r})=>{try{e(Me.addToFavoritesStart);const a=r?await Ye.removeFromFavorites(t):await Ye.addToFavorites(t);e(Me.addToFavoritesSuccess,a)}catch(a){throw e(Me.addToFavoritesFailure),a}}},Je={mutations:Re,actions:Be},Ke="userProfile",Ge={getUserProfileStart:`[${Ke}] getUserProfileStart`,getUserProfileSuccess:`[${Ke}] getUserProfileSuccess`,getUserProfileFailure:`[${Ke}] getUserProfileFailure`,addToFallowStart:`[${Ke}] addToFallowStart`,addToFallowSuccess:`[${Ke}] addToFallowSuccess`,addToFallowFailure:`[${Ke}] addToFallowFailure`},Qe={getUserProfile:`[${Ke}] getUserProfile`,addToFallow:`[${Ke}] addToFallow`},Xe={[Ge.getUserProfileStart](e){e.isLoading=!0,e.data=null},[Ge.getUserProfileSuccess](e,t){e.isLoading=!1,e.data=t},[Ge.getUserProfileFailure](e){e.isLoading=!1},[Ge.addToFallowStart](){},[Ge.addToFallowSuccess](){},[Ge.addToFallowFailure](){}},et=e=>W.get(`/profiles/${e}`).then((e=>e.data.profile)),tt=e=>W.post(`/profiles/${e}/follow`,{}).then((e=>e.data.profile)),rt=e=>W["delete"](`/profiles/${e}/follow`).then((e=>e.data.profile));var at={getUserProfile:et,addToFallow:tt,removeFromFallow:rt};const st={[Qe.getUserProfile]:async({commit:e},{slug:t})=>{try{e(Ge.getUserProfileStart);const r=await at.getUserProfile(t);e(Ge.getUserProfileSuccess,r)}catch(r){throw e(Ge.getUserProfileFailure),r}},[Qe.addToFallow]:async({commit:e},{slug:t,isFallow:r})=>{try{e(Ge.addToFallowStart),r?await at.removeFromFallow(t):await at.addToFallow(t),e(Ge.addToFallowSuccess)}catch(a){throw e(Ge.addToFallowFailure),a}}},it={data:null,isLoading:!1,error:null},ot={state:it,mutations:Xe,actions:st},nt="comments",lt={getCommentsStart:`[${nt}] getCommentsStart`,getCommentsSuccess:`[${nt}] getCommentsSuccess`,getCommentsFailure:`[${nt}] getCommentsFailure`,deleteCommentStart:`[${nt}] deleteCommentStart`,deleteCommentSuccess:`[${nt}] deleteCommentSuccess`,deleteCommentFailure:`[${nt}] deleteCommentFailure`,addCommentStart:`[${nt}] addCommentStart`,addCommentSuccess:`[${nt}] addCommentSuccess`,addCommentFailure:`[${nt}] addCommentFailure`},ut={getComments:`[${nt}] getComments`,deleteComment:`[${nt}] deleteComment`,addComment:`[${nt}] addComment`},ct={[lt.getCommentsStart](e){e.isLoading=!0,e.data=null},[lt.getCommentsSuccess](e,t){e.isLoading=!1,e.data=t.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))},[lt.getCommentsFailure](e){e.isLoading=!1},[lt.deleteCommentStart](){},[lt.deleteCommentSuccess](e,{slugComment:t}){e.data=e.data.filter((e=>e.id!=t))},[lt.deleteCommentFailure](){},[lt.addCommentStart](){},[lt.addCommentSuccess](e,t){e.data.unshift(t)},[lt.addCommentFailure](e,t){e.error=t}},dt=e=>W.get(`/articles/${e}/comments`).then((e=>e.data.comments)),mt=({slugArticle:e,commentInput:t})=>W.post(`/articles/${e}/comments`,{comment:t}).then((e=>e.data.comment)),pt=({slugArticle:e,slugComment:t})=>W["delete"](`/articles/${e}/comments/${t}`);var gt={getComments:dt,deleteComment:pt,addComment:mt};const vt={[ut.getComments]:async({commit:e},{slug:t})=>{try{e(lt.getCommentsStart);const r=await gt.getComments(t);e(lt.getCommentsSuccess,r)}catch(r){throw e(lt.getCommentsFailure),r}},[ut.addComment]:async({commit:e},t)=>{try{e(lt.addCommentStart);const r=await gt.addComment(t);e(lt.addCommentSuccess,r)}catch(r){throw e(lt.addCommentFailure,r.response.data.errors),r}},[ut.deleteComment]:async({commit:e},t)=>{try{e(lt.deleteCommentStart),await gt.deleteComment(t),e(lt.deleteCommentSuccess,t)}catch(r){throw e(lt.deleteCommentFailure),r}}},ft={data:null,isLoading:!1,error:null},St={state:ft,mutations:ct,actions:vt},bt=Symbol(),wt=(0,P.MT)({state:{},mutations:{},actions:{},modules:{auth:Y,feed:re,popularTags:de,article:he,createArticle:Le,editArticle:xe,settings:Ze,addToFavorites:Je,userProfile:ot,comments:St}});var Ft={name:"AppTopBar",setup(){const e=(0,P.oR)(bt),t=(0,o.Fl)((()=>e.getters[L.currentUser])),r=(0,o.Fl)((()=>e.getters[L.isLoggedIn])),a=(0,o.Fl)((()=>e.getters[L.isAnonymous]));return{currentUser:t,isAnonymous:a,isLoggedIn:r}}},At=r(89);const yt=(0,At.Z)(Ft,[["render",k]]);var ht=yt,_t={name:"App",components:{AppTopBar:ht},setup(){const e=(0,P.oR)(bt);(0,o.bv)((()=>{e.dispatch(D.getCurrentUser)}))}};const Ut=(0,At.Z)(_t,[["render",n]]);var Ct=Ut,kt=r(678);const Pt={class:"home-page"},Tt={class:"container page"},Lt={class:"row"},$t={class:"col-md-9"},Dt={class:"col-md-3"};function qt(e,t,r,a,s,i){const n=(0,o.up)("app-banner-item"),l=(0,o.up)("app-feed-toggle"),u=(0,o.up)("router-view"),c=(0,o.up)("app-popular-tags");return(0,o.wg)(),(0,o.iD)("div",Pt,[(0,o.Wm)(n),(0,o._)("div",Tt,[(0,o._)("div",Lt,[(0,o._)("div",$t,[(0,o.Wm)(l,{"tag-name":a.tagName},null,8,["tag-name"]),(0,o.Wm)(u)]),(0,o._)("div",Dt,[(0,o.Wm)(c)])])])])}const Et={key:2,class:"sidebar"},It=(0,o._)("p",null,"Popular Tags",-1),jt={class:"tag-list"};function xt(e,t,r,a,s,i){const n=(0,o.up)("app-loading-item"),u=(0,o.up)("app-error-message"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[a.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0})):(0,o.kq)("",!0),a.error?((0,o.wg)(),(0,o.j4)(u,{key:1})):(0,o.kq)("",!0),a.tags?((0,o.wg)(),(0,o.iD)("div",Et,[It,(0,o._)("div",jt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.tags,(e=>((0,o.wg)(),(0,o.j4)(c,{key:e,to:{name:"tag",params:{slug:e}},class:"tag-default tag-pill"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e),1)])),_:2},1032,["to"])))),128))])])):(0,o.kq)("",!0)])}function Wt(e){const t=(0,P.oR)(bt);return{isLoading:(0,o.Fl)((()=>t.state[e]["isLoading"])),data:(0,o.Fl)((()=>t.state[e]["data"])),error:(0,o.Fl)((()=>t.state[e]["error"]))}}const Ot=e=>((0,o.dD)("data-v-44a18710"),e=e(),(0,o.Cn)(),e),Zt={class:"loader"},Vt=Ot((()=>(0,o._)("div",{class:"inner one"},null,-1))),Mt=Ot((()=>(0,o._)("div",{class:"inner two"},null,-1))),Nt=Ot((()=>(0,o._)("div",{class:"inner three"},null,-1))),Rt=[Vt,Mt,Nt];function Ht(e,t,r,a,s,i){return(0,o.wg)(),(0,o.iD)("div",Zt,Rt)}var zt={name:"AppLoadingItem"};const Yt=(0,At.Z)(zt,[["render",Ht],["__scopeId","data-v-44a18710"]]);var Bt=Yt;function Jt(e,t,r,a,s,i){return(0,o.wg)(),(0,o.iD)("div",null,(0,l.zw)(r.message),1)}var Kt={name:"AppErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}};const Gt=(0,At.Z)(Kt,[["render",Jt]]);var Qt=Gt,Xt={name:"AppPopularTags",components:{AppLoadingItem:Bt,AppErrorMessage:Qt},setup(){const e=(0,P.oR)(bt),{isLoading:t,data:r,error:a}=Wt("popularTags");return(0,o.bv)((()=>{e.dispatch(ie.getPopularTags)})),{isLoading:t,tags:r,error:a}}};const er=(0,At.Z)(Xt,[["render",xt]]);var tr=er;const rr={class:"banner"},ar=(0,o._)("div",{class:"container"},[(0,o._)("h1",null,"Medium clone"),(0,o._)("p",null,"A place to share knowledge")],-1),sr=[ar];function ir(e,t,r,a,s,i){return(0,o.wg)(),(0,o.iD)("div",rr,sr)}var or={name:"AppBannerItem"};const nr=(0,At.Z)(or,[["render",ir]]);var lr=nr;const ur={class:"feed-toggle"},cr={class:"nav nav-pills outline-active"},dr={key:0,class:"nav-item"},mr=(0,o.Uk)(" Your Feed "),pr={class:"nav-item"},gr=(0,o.Uk)(" Global Feed "),vr={key:1,class:"nav-item"},fr=(0,o._)("i",{class:"ion-pound"},null,-1);function Sr(e,t,r,a,s,i){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",ur,[(0,o._)("ul",cr,[a.isLoggedIn?((0,o.wg)(),(0,o.iD)("li",dr,[(0,o.Wm)(n,{to:{name:"yourFeed"},class:(0,l.C_)(["nav-link",{active:"yourFeed"===a.routeName}])},{default:(0,o.w5)((()=>[mr])),_:1},8,["class"])])):(0,o.kq)("",!0),(0,o._)("li",pr,[(0,o.Wm)(n,{to:{name:"globalFeed"},class:(0,l.C_)(["nav-link",{active:"globalFeed"===a.routeName}])},{default:(0,o.w5)((()=>[gr])),_:1},8,["class"])]),r.tagName?((0,o.wg)(),(0,o.iD)("li",vr,[(0,o.Wm)(n,{to:{name:"tag"},class:(0,l.C_)(["nav-link",{active:"tag"===a.routeName}])},{default:(0,o.w5)((()=>[fr,(0,o.Uk)(" "+(0,l.zw)(r.tagName),1)])),_:1},8,["class"])])):(0,o.kq)("",!0)])])}var br={name:"AppFeedToggle",props:{tagName:{type:String,required:!1}},setup(){const e=(0,P.oR)(bt),t=(0,kt.yj)(),r=(0,o.Fl)((()=>e.getters[L.isLoggedIn])),a=(0,o.Fl)((()=>t.name));return{isLoggedIn:r,routeName:a}}};const wr=(0,At.Z)(br,[["render",Sr]]);var Fr=wr,Ar={name:"AppFeedPage",components:{AppPopularTags:tr,AppBannerItem:lr,AppFeedToggle:Fr},setup(){const e=(0,kt.yj)(),t=(0,o.Fl)((()=>e.params.slug));return{tagName:t}}};const yr=(0,At.Z)(Ar,[["render",qt]]);var hr=yr;function _r(e,t,r,a,s,i){const n=(0,o.up)("app-feed-item");return(0,o.wg)(),(0,o.j4)(n,{"api-url":a.apiUrl},null,8,["api-url"])}const Ur=e=>((0,o.dD)("data-v-2a58b64a"),e=e(),(0,o.Cn)(),e),Cr={key:2},kr={class:"article-meta"},Pr={class:"pull-xs-right"},Tr=Ur((()=>(0,o._)("span",null,"Read more...",-1)));function Lr(e,t,r,a,s,i){const n=(0,o.up)("app-loading-item"),u=(0,o.up)("app-error-message"),c=(0,o.up)("app-user-info"),d=(0,o.up)("app-add-to-favorites"),m=(0,o.up)("app-tags-list"),p=(0,o.up)("router-link"),g=(0,o.up)("app-pagination");return(0,o.wg)(),(0,o.iD)(o.HY,null,[a.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0})):(0,o.kq)("",!0),a.error?((0,o.wg)(),(0,o.j4)(u,{key:1})):(0,o.kq)("",!0),a.feed?((0,o.wg)(),(0,o.iD)("div",Cr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.feed.articles,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"article-preview",key:t},[(0,o._)("div",kr,[(0,o.Wm)(c,{user:e.author,date:a.convertDateJsonToDate(e.createdAt).toLocaleString()},null,8,["user","date"]),(0,o._)("div",Pr,[(0,o.Wm)(d,{"is-favorited":e.favorited,"article-slug":e.slug,"favorites-count":e.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])])]),(0,o.Wm)(p,{to:{name:"article",params:{slug:e.slug}},class:"preview-link"},{default:(0,o.w5)((()=>[(0,o._)("h1",null,(0,l.zw)(e.title),1),(0,o._)("p",null,(0,l.zw)(e.description),1),Tr,(0,o.Wm)(m,{tags:e.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,o.Wm)(g,{total:a.feed.articlesCount,limit:a.limit,"current-page":a.currentPage,url:a.baseUrl},null,8,["total","limit","current-page","url"])])):(0,o.kq)("",!0)],64)}const $r=5,Dr=e=>{try{return new Date(e)}catch(t){console.log("Error convert date",t)}};var qr=r(4782);const Er={class:"pagination"};function Ir(e,t,r,a,s,i){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("ul",Er,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.pages,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e,class:(0,l.C_)(["page-item",{active:r.currentPage===e}])},[(0,o.Wm)(n,{to:{path:r.url,query:{page:e}},class:"page-link"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e),1)])),_:2},1032,["to"])],2)))),128))])}const jr=(e,t)=>[...Array(t).keys()].map((t=>t+e));var xr={name:"AppPagination",props:{total:{type:Number,requred:!0},limit:{type:Number,requred:!0},currentPage:{type:Number,requred:!0},url:{type:String,requred:!0}},setup(e){const t=(0,o.Fl)((()=>{const t=Math.ceil(e.total/e.limit);return jr(1,t)}));return{pages:t}}};const Wr=(0,At.Z)(xr,[["render",Ir]]);var Or=Wr;const Zr={key:0,class:"tag-list"};function Vr(e,t,r,a,s,i){return r.tags.length?((0,o.wg)(),(0,o.iD)("ul",Zr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.tags,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e,class:"tag-default tag-pill tag-outline ng-binding ng-scope"},(0,l.zw)(e),1)))),128))])):(0,o.kq)("",!0)}var Mr={name:"AppTagsList",props:{tags:{type:Array,required:!0}}};const Nr=(0,At.Z)(Mr,[["render",Vr]]);var Rr=Nr;const Hr=(0,o._)("i",{class:"ion-heart"},null,-1);function zr(e,t,r,a,s,i){return(0,o.wg)(),(0,o.iD)("button",{class:(0,l.C_)(["btn btn-sm",{"btn-primary":a.isFavoritedOptimistic,"btn-outline-primary":!a.isFavoritedOptimistic}]),onClick:t[0]||(t[0]=(...e)=>a.handleLike&&a.handleLike(...e))},[Hr,(0,o.Uk)(" "+(0,l.zw)(a.favoritesCountOptimistic),1)],2)}var Yr=r(4870),Br={name:"AppAddToFavorites",props:{isFavorited:{type:Boolean,requred:!0},articleSlug:{type:String,requred:!0},favoritesCount:{type:Number,requred:!0},text:{type:String,requred:!1}},setup(e){const t=(0,P.oR)(bt),r=(0,Yr.iH)(e.isFavorited),a=(0,Yr.iH)(e.favoritesCount),s=()=>{t.dispatch(Ne.addToFavorites,{slug:e.articleSlug,isFavorited:r.value}),r.value?a.value-=1:a.value+=1,r.value=!r.value};return{handleLike:s,isFavoritedOptimistic:r,favoritesCountOptimistic:a}}};const Jr=(0,At.Z)(Br,[["render",zr]]);var Kr=Jr;const Gr={key:0,class:"user-info"},Qr=["src"],Xr={class:"info"},ea={key:0,class:"date"};function ta(e,t,r,a,s,i){const n=(0,o.up)("router-link");return r.user?((0,o.wg)(),(0,o.iD)("div",Gr,[(0,o.Wm)(n,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:r.user.username}}},{default:(0,o.w5)((()=>[(0,o._)("img",{class:"comment-author-img",src:r.user.image},null,8,Qr)])),_:1},8,["to"]),(0,o._)("div",Xr,[(0,o.Wm)(n,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:r.user.username}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(r.user.username),1)])),_:1},8,["to"]),r.date?((0,o.wg)(),(0,o.iD)("span",ea,(0,l.zw)(r.date),1)):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)}var ra={name:"AppUserInfo",props:{user:{type:Object,requred:!0},date:{type:String,requred:!1}}};const aa=(0,At.Z)(ra,[["render",ta]]);var sa=aa,ia={name:"AppFeedItem",components:{AppPagination:Or,AppLoadingItem:Bt,AppErrorMessage:Qt,AppTagsList:Rr,AppAddToFavorites:Kr,AppUserInfo:sa},props:{apiUrl:{type:String,requred:!0}},setup(e){const t=(0,kt.yj)(),r=(0,P.oR)(bt),a=(0,o.Fl)((()=>Number(t.query.page||"1"))),s=(0,o.Fl)((()=>a.value*$r-$r)),{isLoading:i,data:n,error:l}=Wt("feed"),u=(0,o.Fl)((()=>t.path));(0,o.bv)((()=>c())),(0,o.YP)(a,(()=>c())),(0,o.YP)((()=>e.apiUrl),(()=>c()));const c=()=>{const t=(0,qr.parseUrl)(e.apiUrl),a=(0,qr.stringify)({limit:$r,offset:s.value,...t.query}),i=`${t.url}?${a}`;r.dispatch(K.getFeed,{apiUrl:i})};return{isLoading:i,feed:n,error:l,currentPage:a,limit:$r,baseUrl:u,convertDateJsonToDate:Dr}}};const oa=(0,At.Z)(ia,[["render",Lr],["__scopeId","data-v-2a58b64a"]]);var na=oa,la={name:"AppGlobalFeed",components:{AppFeedItem:na},setup(){return{apiUrl:(0,Yr.iH)("/articles")}}};const ua=(0,At.Z)(la,[["render",_r]]);var ca=ua;const da={class:"home-page"};function ma(e,t,r,a,s,i){const n=(0,o.up)("app-feed-item");return(0,o.wg)(),(0,o.iD)("div",da,[(0,o.Wm)(n,{"api-url":a.apiUrl},null,8,["api-url"])])}var pa={name:"AppYourFeed",components:{AppFeedItem:na},setup(){return{apiUrl:(0,Yr.iH)("/articles/feed")}}};const ga=(0,At.Z)(pa,[["render",ma]]);var va=ga;function fa(e,t,r,a,s,i){const n=(0,o.up)("app-feed-item");return(0,o.wg)(),(0,o.j4)(n,{"api-url":a.apiUrl},null,8,["api-url"])}var Sa={name:"AppYourFeed",components:{AppFeedItem:na},setup(){const e=(0,kt.yj)(),t=(0,o.Fl)((()=>e.params.slug));return{tagName:t,apiUrl:(0,o.Fl)((()=>`articles?tag=${t.value}`))}}};const ba=(0,At.Z)(Sa,[["render",fa]]);var wa=ba;const Fa={class:"auth-page"},Aa={class:"container page"},ya={class:"row"},ha={class:"col-md-6 offset-md-3 col-xs-12"},_a=(0,o._)("h1",{class:"text-xs-center"},"Sign up",-1),Ua={class:"text-xs-center"},Ca=(0,o.Uk)(" Have an account? "),ka={class:"form-group"},Pa={class:"form-group"},Ta={class:"form-group"},La=["disabled"];function $a(e,t,r,a,s,n){const l=(0,o.up)("router-link"),u=(0,o.up)("app-validation-errors");return(0,o.wg)(),(0,o.iD)("div",Fa,[(0,o._)("div",Aa,[(0,o._)("div",ya,[(0,o._)("div",ha,[_a,(0,o._)("p",Ua,[(0,o.Wm)(l,{to:{name:"login"}},{default:(0,o.w5)((()=>[Ca])),_:1})]),a.validationErrors?((0,o.wg)(),(0,o.j4)(u,{key:0,"validation-errors":a.validationErrors},null,8,["validation-errors"])):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[3]||(t[3]=(0,i.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,o._)("fieldset",ka,[(0,o.wy)((0,o._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>a.user.username=e)},null,512),[[i.nr,a.user.username]])]),(0,o._)("fieldset",Pa,[(0,o.wy)((0,o._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=e=>a.user.email=e)},null,512),[[i.nr,a.user.email]])]),(0,o._)("fieldset",Ta,[(0,o.wy)((0,o._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>a.user.password=e)},null,512),[[i.nr,a.user.password]])]),(0,o._)("button",{disabled:a.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign Up ",8,La)],32)])])])])}const Da={class:"error-messages"};function qa(e,t,r,a,s,i){return(0,o.wg)(),(0,o.iD)("ul",Da,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.errorMessages,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e},(0,l.zw)(e),1)))),128))])}var Ea={name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},setup(e){const t=(0,o.Fl)((()=>Object.keys(e.validationErrors).map((t=>{const r=e.validationErrors[t].join(", ");return`${t} ${r}`}))));return{errorMessages:t}}};const Ia=(0,At.Z)(Ea,[["render",qa]]);var ja=Ia,xa={name:"AppRegisterPage",setup(){const e=(0,P.oR)(bt),t=(0,kt.tv)(),r=(0,Yr.qj)({username:"",email:"",password:""}),a=(0,o.Fl)((()=>e.state.auth.isSubmitting)),s=(0,o.Fl)((()=>e.state.auth.validationErrors)),i=()=>{e.dispatch(D.register,r).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:i,isSubmitting:a,validationErrors:s,user:r}},components:{AppValidationErrors:ja}};const Wa=(0,At.Z)(xa,[["render",$a]]);var Oa=Wa;const Za={class:"auth-page"},Va={class:"container page"},Ma={class:"row"},Na={class:"col-md-6 offset-md-3 col-xs-12"},Ra=(0,o._)("h1",{class:"text-xs-center"},"Sign in",-1),Ha={class:"text-xs-center"},za=(0,o.Uk)(" Need an account? "),Ya={class:"form-group"},Ba={class:"form-group"},Ja=["disabled"];function Ka(e,t,r,a,s,n){const l=(0,o.up)("router-link"),u=(0,o.up)("app-validation-errors");return(0,o.wg)(),(0,o.iD)("div",Za,[(0,o._)("div",Va,[(0,o._)("div",Ma,[(0,o._)("div",Na,[Ra,(0,o._)("p",Ha,[(0,o.Wm)(l,{to:{name:"register"}},{default:(0,o.w5)((()=>[za])),_:1})]),a.validationErrors?((0,o.wg)(),(0,o.j4)(u,{key:0,"validation-errors":a.validationErrors},null,8,["validation-errors"])):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,o._)("fieldset",Ya,[(0,o.wy)((0,o._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>a.user.email=e)},null,512),[[i.nr,a.user.email]])]),(0,o._)("fieldset",Ba,[(0,o.wy)((0,o._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>a.user.password=e)},null,512),[[i.nr,a.user.password]])]),(0,o._)("button",{disabled:a.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign In ",8,Ja)],32)])])])])}var Ga={name:"AppLoginPage",setup(){const e=(0,P.oR)(bt),t=(0,kt.tv)(),r=(0,Yr.qj)({email:"",password:""}),a=(0,o.Fl)((()=>e.state.auth.isSubmitting)),s=(0,o.Fl)((()=>e.state.auth.validationErrors)),i=()=>{e.dispatch(D.login,{user:r}).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:i,isSubmitting:a,validationErrors:s,user:r}},components:{AppValidationErrors:ja}};const Qa=(0,At.Z)(Ga,[["render",Ka]]);var Xa=Qa;const es={key:0,class:"article-page"},ts={class:"banner"},rs={class:"container"},as={class:"article-meta"},ss={class:"container page"},is={class:"row article-content"},os={class:"col-xs-12"},ns=(0,o._)("hr",null,null,-1),ls={class:"row"},us={class:"col-xs-12 col-md-8 offset-md-2"},cs={class:"article-actions"};function ds(e,t,r,a,s,i){const n=(0,o.up)("app-article-user-info"),u=(0,o.up)("app-loading-item"),c=(0,o.up)("app-error-message"),d=(0,o.up)("app-tags-list"),m=(0,o.up)("app-add-comment-form"),p=(0,o.up)("app-comment-list");return a.article?((0,o.wg)(),(0,o.iD)("div",es,[(0,o._)("div",ts,[(0,o._)("div",rs,[(0,o._)("h1",null,(0,l.zw)(a.article.title),1),(0,o._)("div",as,[(0,o.Wm)(n,{article:a.article},null,8,["article"])])])]),(0,o._)("div",ss,[a.isLoading?((0,o.wg)(),(0,o.j4)(u,{key:0})):(0,o.kq)("",!0),a.error?((0,o.wg)(),(0,o.j4)(c,{key:1,message:a.error},null,8,["message"])):(0,o.kq)("",!0),(0,o._)("div",is,[(0,o._)("div",os,[(0,o._)("div",null,[(0,o._)("p",null,(0,l.zw)(a.article.body),1)]),(0,o.Wm)(d,{tags:a.article.tagList},null,8,["tags"])])]),ns,(0,o._)("div",ls,[(0,o._)("div",us,[(0,o._)("div",cs,[(0,o.Wm)(n,{article:a.article},null,8,["article"])]),(0,o.Wm)(m,{onAddComment:a.addComment,"is-submitting":a.isSubmittingAddComment,errors:a.validationErrors},null,8,["onAddComment","is-submitting","errors"]),(0,o.Wm)(p,{slug:a.article.slug},null,8,["slug"])])])])])):(0,o.kq)("",!0)}const ms={key:0};function ps(e,t,r,a,s,i){const n=(0,o.up)("app-comment-item");return a.comments?((0,o.wg)(),(0,o.iD)("div",ms,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.comments,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o.Wm)(n,{comment:e,onDeleteComment:a.deleteComment},null,8,["comment","onDeleteComment"])])))),128))])):(0,o.kq)("",!0)}const gs=e=>((0,o.dD)("data-v-3f016858"),e=e(),(0,o.Cn)(),e),vs={key:0,class:"card"},fs={class:"card-block"},Ss={class:"card-text"},bs={class:"card-footer"},ws=gs((()=>(0,o._)("i",{class:"ion-trash-a"},null,-1))),Fs=[ws];function As(e,t,r,a,s,i){const n=(0,o.up)("app-user-info");return r.comment?((0,o.wg)(),(0,o.iD)("div",vs,[(0,o._)("div",fs,[(0,o._)("p",Ss,(0,l.zw)(r.comment.body),1)]),(0,o._)("div",bs,[(0,o.Wm)(n,{user:r.comment.author,date:a.convertDateJsonToDate(r.comment.createdAt).toLocaleString()},null,8,["user","date"]),a.isCurrentUserProfile?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"mod-options",onClick:t[0]||(t[0]=e=>a.deleteComment(r.comment.id))},Fs)):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)}function ys(e){const t=(0,P.oR)(bt),r=(0,o.Fl)((()=>t.getters[L.currentUser])),a=(0,o.Fl)((()=>!!(e&&r.value&&e.value)&&r.value.username===e.value.username));return{currentUser:r,isCurrentUserProfile:a}}var hs={name:"AppCommentItem",emits:["deleteComment"],components:{AppUserInfo:sa},props:{comment:{type:Object,required:!0}},setup(e,{emit:t}){const{currentUser:r,isCurrentUserProfile:a}=ys((0,Yr.iH)(e.comment.author)),s=e=>{t("deleteComment",{slugComment:e})};return{isCurrentUserProfile:a,currentUser:r,deleteComment:s,convertDateJsonToDate:Dr}}};const _s=(0,At.Z)(hs,[["render",As],["__scopeId","data-v-3f016858"]]);var Us=_s,Cs={name:"AppCommentList",components:{AppCommentItem:Us},props:{slug:{type:String,required:!0}},setup(e){const t=(0,P.oR)(bt);(0,o.bv)((()=>{t.dispatch(ut.getComments,{slug:e.slug})}));const{isLoading:r,data:a,error:s}=Wt("comments"),i=({slugComment:r})=>{const a={slugArticle:e.slug,slugComment:r};t.dispatch(ut.deleteComment,a)};return{isLoading:r,comments:a,error:s,deleteComment:i}}};const ks=(0,At.Z)(Cs,[["render",ps]]);var Ps=ks;const Ts={key:0},Ls={class:"card-block"},$s=["disabled"],Ds={class:"card-footer"},qs=["src"],Es=["disabled"];function Is(e,t,r,a,s,n){const l=(0,o.up)("app-validation-errors");return a.currentUser?((0,o.wg)(),(0,o.iD)("div",Ts,[r.errors?((0,o.wg)(),(0,o.j4)(l,{key:0,"validation-errors":r.errors},null,8,["validation-errors"])):(0,o.kq)("",!0),(0,o._)("form",{class:"card comment-form",onSubmit:t[1]||(t[1]=(0,i.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,o._)("div",Ls,[(0,o.wy)((0,o._)("textarea",{class:"form-control",disabled:r.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=e=>a.commentInput.body=e)},null,8,$s),[[i.nr,a.commentInput.body]])]),(0,o._)("div",Ds,[(0,o._)("img",{class:"comment-author-img",src:a.currentUser.image},null,8,qs),(0,o._)("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:r.isSubmitting},"Post Comment",8,Es)])],32)])):(0,o.kq)("",!0)}var js={name:"AppAddCommentForm",emits:["addComment"],props:{isSubmitting:{type:Boolean,default:!1},errors:{type:Object,required:!1}},components:{AppValidationErrors:ja},setup(e,{emit:t}){const r=(0,P.oR)(bt),a=(0,Yr.qj)({body:""});(0,o.YP)((()=>e.isSubmitting),(e=>{e||(a.body="")}));const s=()=>{t("addComment",a)};return{commentInput:a,onSubmit:s,currentUser:(0,o.Fl)((()=>r.getters[L.currentUser]))}}};const xs=(0,At.Z)(js,[["render",Is]]);var Ws=xs;const Os={class:"article-meta d-flex"},Zs={key:0},Vs=(0,o._)("i",{class:"ion-edit"},null,-1),Ms=(0,o.Uk)(" Edit Article "),Ns=(0,o.Uk)("   "),Rs=(0,o._)("i",{class:"ion-trash-a"},null,-1),Hs=(0,o.Uk)(" Delete Article "),zs=[Rs,Hs],Ys={key:1},Bs=(0,o._)("i",{class:"ion-plus-round"},null,-1),Js={key:0},Ks={key:1},Gs=(0,o.Uk)("   ");function Qs(e,t,r,a,s,i){const n=(0,o.up)("app-user-info"),u=(0,o.up)("router-link"),c=(0,o.up)("app-add-to-favorites");return(0,o.wg)(),(0,o.iD)("div",Os,[(0,o.Wm)(n,{user:r.article.author,date:a.convertDateJsonToDate(r.article.createdAt).toLocaleString()},null,8,["user","date"]),r.article?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[a.isAuthor?((0,o.wg)(),(0,o.iD)("span",Zs,[(0,o.Wm)(u,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:r.article.slug}}},{default:(0,o.w5)((()=>[Vs,Ms])),_:1},8,["to"]),Ns,(0,o._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=(...t)=>e.deleteArticle&&e.deleteArticle(...t))},zs)])):((0,o.wg)(),(0,o.iD)("span",Ys,[(0,o._)("button",{type:"button",class:(0,l.C_)(["btn btn-sm action-btn",{"btn-secondary":a.isFollowing,"btn-outline-secondary":!a.isFollowing}]),onClick:t[1]||(t[1]=(...e)=>a.onFallow&&a.onFallow(...e))},[Bs,a.isFollowing?((0,o.wg)(),(0,o.iD)("span",Js," UnFollow "+(0,l.zw)(r.article.author.username),1)):((0,o.wg)(),(0,o.iD)("span",Ks," Follow "+(0,l.zw)(r.article.author.username),1))],2),Gs,(0,o.Wm)(c,{"is-favorited":r.article.favorited,"article-slug":r.article.slug,"favorites-count":r.article.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])]))],64)):(0,o.kq)("",!0)])}var Xs={name:"AppArticleUserInfo",props:{article:{type:Object,required:!0}},components:{AppUserInfo:sa,AppAddToFavorites:Kr},setup(e){const t=(0,P.oR)(bt),r=(0,Yr.iH)(e.article.author.following),{isCurrentUserProfile:a}=ys((0,Yr.iH)(e.article.author)),s=()=>{t.dispatch(Qe.addToFallow,{slug:e.article.author.username,isFallow:e.article.author.following}).then((()=>r.value=!r.value))};return{convertDateJsonToDate:Dr,onFallow:s,isFollowing:r,isAuthor:a}}};const ei=(0,At.Z)(Xs,[["render",Qs]]);var ti=ei,ri={name:"AppArticleItem",components:{AppLoadingItem:Bt,AppErrorMessage:Qt,AppTagsList:Rr,AppCommentList:Ps,AppAddCommentForm:Ws,AppArticleUserInfo:ti},setup(){const e=(0,P.oR)(bt),t=(0,kt.yj)(),r=(0,kt.tv)(),{isLoading:a,data:i,error:o}=Wt("article"),n=(0,Yr.iH)(!1);e.dispatch(ge.getArticle,{slug:t.params.slug});const l=r=>{n.value=!0,e.dispatch(s.actionsTypes.addComment,{slugArticle:t.params.slug,commentInput:r}).then((()=>n.value=!1)).catch((()=>n.value=!1))},u=()=>{e.dispatch(ge.deleteArticle,{slug:t.params.slug}).then((()=>{r.push({name:"globalFeed"})}))};return{isLoading:a,error:o,article:i,isSubmittingAddComment:n,validationErrors:(0,Yr.Fl)((()=>e.state.comments.validationErrors)),deleteArticle:u,addComment:l}}};const ai=(0,At.Z)(ri,[["render",ds]]);var si=ai;function ii(e,t,r,a,s,i){const n=(0,o.up)("app-article-form");return(0,o.wg)(),(0,o.j4)(n,{"initial-values":a.initialValues,errors:a.validationErrors,"is-submitting":a.isSubmitting,onArticleSubmit:a.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])}const oi={class:"editor-page"},ni={class:"container page"},li={class:"row"},ui={class:"col-md-10 offset-md-1 col-xs-12"},ci={class:"form-group"},di=["disabled"],mi={class:"form-group"},pi=["disabled"],gi={class:"form-group"},vi=["disabled"],fi={class:"form-group"},Si=["disabled"],bi={class:"form-group"},wi=["disabled"];function Fi(e,t,r,a,s,n){const l=(0,o.up)("app-validation-errors");return(0,o.wg)(),(0,o.iD)("div",oi,[(0,o._)("div",ni,[(0,o._)("div",li,[(0,o._)("div",ui,[r.errors?((0,o.wg)(),(0,o.j4)(l,{key:0,"validation-errors":r.errors},null,8,["validation-errors"])):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[4]||(t[4]=(0,i.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,o._)("fieldset",null,[(0,o._)("fieldset",ci,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title",disabled:r.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=e=>a.dataForm.title=e)},null,8,di),[[i.nr,a.dataForm.title]])]),(0,o._)("fieldset",mi,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description",disabled:r.isSubmitting,"onUpdate:modelValue":t[1]||(t[1]=e=>a.dataForm.description=e)},null,8,pi),[[i.nr,a.dataForm.description]])]),(0,o._)("fieldset",gi,[(0,o.wy)((0,o._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?",disabled:r.isSubmitting,"onUpdate:modelValue":t[2]||(t[2]=e=>a.dataForm.body=e)},null,8,vi),[[i.nr,a.dataForm.body]])]),(0,o._)("fieldset",fi,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags",disabled:r.isSubmitting,"onUpdate:modelValue":t[3]||(t[3]=e=>a.dataForm.tagList=e)},null,8,Si),[[i.nr,a.dataForm.tagList]])]),(0,o._)("fieldset",bi,[(0,o._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:r.isSubmitting}," Publish Article ",8,wi)])])],32)])])])])}var Ai={name:"AppArticleForm",emits:["articleSubmit"],components:{AppValidationErrors:ja},props:{initialValues:{type:Object,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},setup(e,{emit:t}){const r=(0,Yr.qj)(e.initialValues),a=()=>{const e={title:r.title,description:r.description,body:r.description,tagList:r.tagList.toString().split(" ")};t("articleSubmit",e)};return{dataForm:r,onSubmit:a}}};const yi=(0,At.Z)(Ai,[["render",Fi]]);var hi=yi,_i={name:"AppCreateArticle",components:{AppArticleForm:hi},setup(){const e=(0,P.oR)(bt),t=(0,kt.tv)(),r={title:"",description:"",body:"",tagList:[]},s=r=>{e.dispatch(a.actionsTypes.createArticle,{articleInput:r}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:r,validationErrors:(0,o.Fl)((()=>e.state.createArticle.validationErrors)),isSubmitting:(0,o.Fl)((()=>e.state.createArticle.isSubmitting)),onSubmit:s}}};const Ui=(0,At.Z)(_i,[["render",ii]]);var Ci=Ui;function ki(e,t,r,a,s,i){const n=(0,o.up)("app-loading-item"),l=(0,o.up)("app-article-form");return(0,o.wg)(),(0,o.iD)(o.HY,null,[a.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0})):(0,o.kq)("",!0),a.initialValues?((0,o.wg)(),(0,o.j4)(l,{key:1,"initial-values":a.initialValues,errors:a.validationErrors,"is-submitting":a.isSubmitting,onArticleSubmit:a.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])):(0,o.kq)("",!0)],64)}var Pi={name:"AppEditArticle",components:{AppArticleForm:hi,AppLoadingItem:Bt},setup(){const e=(0,P.oR)(bt),t=(0,kt.tv)(),r=(0,kt.yj)(),a=(0,o.Fl)((()=>e.state.editArticle.article)),s=(0,o.Fl)((()=>a.value?{title:a.value.title,description:a.value.description,body:a.value.body,tagList:a.value.tagList.toString()}:null));(0,o.bv)((()=>{e.dispatch(qe.getArticle,{slug:r.params.slug})}));const i=a=>{e.dispatch(qe.updateArticle,{slug:r.params.slug,articleInput:a}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:s,validationErrors:(0,o.Fl)((()=>e.state.editArticle.validationErrors)),isSubmitting:(0,o.Fl)((()=>e.state.editArticle.isSubmitting)),isLoading:(0,o.Fl)((()=>e.state.editArticle.isLoading)),onSubmit:i,article:a}}};const Ti=(0,At.Z)(Pi,[["render",ki]]);var Li=Ti;const $i={key:0,class:"settings-page"},Di={class:"container page"},qi={class:"row"},Ei={class:"col-md-6 offset-md-3 col-xs-12"},Ii=(0,o._)("h1",{class:"text-xs-center"},"Settings",-1),ji={class:"form-group"},xi=["disabled"],Wi={class:"form-group"},Oi=["disabled"],Zi={class:"form-group"},Vi=["disabled"],Mi={class:"form-group"},Ni=["disabled"],Ri={class:"form-group"},Hi=["disabled"],zi=["disabled"],Yi=(0,o._)("hr",null,null,-1);function Bi(e,t,r,a,s,n){const l=(0,o.up)("app-validation-errors");return a.currentUser?((0,o.wg)(),(0,o.iD)("div",$i,[(0,o._)("div",Di,[(0,o._)("div",qi,[(0,o._)("div",Ei,[Ii,a.validationErrors?((0,o.wg)(),(0,o.j4)(l,{key:0,"validation-errors":a.validationErrors},null,8,["validation-errors"])):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[5]||(t[5]=(0,i.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,o._)("fieldset",null,[(0,o._)("fieldset",ji,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>a.form.image=e),disabled:a.isSubmitting,placeholder:"URL of profile image"},null,8,xi),[[i.nr,a.form.image]])]),(0,o._)("fieldset",Wi,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=e=>a.form.username=e),disabled:a.isSubmitting,placeholder:"Username"},null,8,Oi),[[i.nr,a.form.username]])]),(0,o._)("fieldset",Zi,[(0,o.wy)((0,o._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=e=>a.form.bio=e),disabled:a.isSubmitting,placeholder:"Short bio about you"},null,8,Vi),[[i.nr,a.form.bio]])]),(0,o._)("fieldset",Mi,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=e=>a.form.email=e),disabled:a.isSubmitting,placeholder:"Email"},null,8,Ni),[[i.nr,a.form.email]])]),(0,o._)("fieldset",Ri,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=e=>a.form.password=e),disabled:a.isSubmitting,placeholder:"New password"},null,8,Hi),[[i.nr,a.form.password]])]),(0,o._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:a.isSubmitting}," Update settings ",8,zi)])],32),Yi,(0,o._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...e)=>a.logout&&a.logout(...e)),type:"text"}," Or cick here to logout ")])])])])):(0,o.kq)("",!0)}var Ji={name:"AppSettingsPage",components:{AppValidationErrors:ja},setup(){const e=(0,P.oR)(bt),t=(0,kt.tv)(),r=(0,o.Fl)((()=>e.getters[L.currentUser])),a=(0,o.Fl)((()=>({username:r.value.username,bio:r.value.bio,image:r.value.image,email:r.value.email,password:""}))),s=()=>{e.dispatch(D.updateCurrentUser,{currentUserInput:a.value}).then((()=>{t.push({name:"userProfileMyPosts",params:{slug:r.value.username}})}))},i=()=>{e.dispatch(D.logout).then((()=>{t.push({name:"globalFeed"})}))};return{isSubmitting:(0,o.Fl)((()=>e.state.settings.isSubmitting)),validationErrors:(0,o.Fl)((()=>e.state.settings.validationErrors)),currentUser:r,form:a,onSubmit:s,logout:i}}};const Ki=(0,At.Z)(Ji,[["render",Bi]]);var Gi=Ki;const Qi={key:0,class:"profile-page"},Xi={class:"profile-page__user-info"},eo={class:"container"},to={class:"row"},ro={class:"col-xs-12 col-md-10 offset-md-1"},ao=["src"],so=(0,o.Uk)(" FOLLOW USER BUTTON "),io=(0,o.Uk)(" Edit Profile Settings "),oo={class:"container"},no={class:"row"},lo={class:"col-xs-12 col-md-10 offset-md-1"},uo={class:"article-toggle"},co={class:"nav nav-pills outline-active"},mo={class:"nav-item"},po=(0,o.Uk)(" My Posts "),go={class:"nav-item"},vo=(0,o.Uk)(" Favorites Posts ");function fo(e,t,r,a,s,i){const n=(0,o.up)("router-link"),u=(0,o.up)("router-view");return a.userProfile?((0,o.wg)(),(0,o.iD)("div",Qi,[(0,o._)("div",Xi,[(0,o._)("div",eo,[(0,o._)("div",to,[(0,o._)("div",ro,[(0,o._)("img",{class:"user-img",src:a.userProfile.image},null,8,ao),(0,o._)("h4",null,(0,l.zw)(a.userProfile.username),1),(0,o._)("p",null,(0,l.zw)(a.userProfile.bio),1),(0,o._)("div",null,[so,a.isCurrentUserProfile?((0,o.wg)(),(0,o.j4)(n,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,o.w5)((()=>[io])),_:1})):(0,o.kq)("",!0)])])])])]),(0,o._)("div",oo,[(0,o._)("div",no,[(0,o._)("div",lo,[(0,o._)("div",uo,[(0,o._)("ul",co,[(0,o._)("li",mo,[(0,o.Wm)(n,{to:{name:"userProfileMyPosts",params:{slug:a.userProfile.username}},class:(0,l.C_)(["nav-link",{active:"userProfileMyPosts"===a.routeName}])},{default:(0,o.w5)((()=>[po])),_:1},8,["to","class"])]),(0,o._)("li",go,[(0,o.Wm)(n,{to:{name:"userProfileFavorites",params:{slug:a.userProfile.username}},class:(0,l.C_)(["nav-link",{active:"userProfileFavorites"===a.routeName}])},{default:(0,o.w5)((()=>[vo])),_:1},8,["to","class"])])])]),(0,o.Wm)(u)])])])])):(0,o.kq)("",!0)}var So={name:"AppUserProfile",setup(){const e=(0,P.oR)(bt),t=(0,kt.yj)(),{isLoading:r,data:a,error:s}=Wt("userProfile"),{isCurrentUserProfile:i}=ys(a),n=(0,o.Fl)((()=>t.params.slug)),l=(0,o.Fl)((()=>t.name));(0,o.YP)((()=>n.value),(()=>u())),(0,o.bv)((()=>u()));const u=()=>{e.dispatch(Qe.getUserProfile,{slug:n.value})};return{isLoading:r,userProfile:a,error:s,isCurrentUserProfile:i,routeName:l}}};const bo=(0,At.Z)(So,[["render",fo]]);var wo=bo;function Fo(e,t,r,a,s,i){const n=(0,o.up)("app-feed-item");return(0,o.wg)(),(0,o.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}function Ao(){const e=(0,kt.yj)(),t=(0,o.Fl)((()=>e.params.slug)),r=(0,o.Fl)((()=>{const r=e.path.includes("favorites");return r?`/articles?favorited=${t.value}`:`/articles?author=${t.value}`}));return{apiUrl:r}}var yo={name:"AppUserProfileMyPosts",components:{AppFeedItem:na},setup(){return{...Ao()}}};const ho=(0,At.Z)(yo,[["render",Fo]]);var _o=ho;function Uo(e,t,r,a,s,i){const n=(0,o.up)("app-feed-item");return(0,o.wg)(),(0,o.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var Co={name:"AppUserProfileFavorites",components:{AppFeedItem:na},setup(){return{...Ao()}}};const ko=(0,At.Z)(Co,[["render",Uo]]);var Po=ko;const To=[{path:"/register",name:"register",component:Oa},{path:"/login",name:"login",component:Xa},{path:"/",name:"mainFeed",component:hr,children:[{path:"/",name:"globalFeed",component:ca},{path:"/yourFeed",name:"yourFeed",component:va},{path:"/tags/:slug",name:"tag",component:wa}]},{path:"/articles/new",name:"createArticle",component:Ci},{path:"/articles/:slug",name:"article",component:si},{path:"/articles/:slug/edit",name:"editArticle",component:Li},{path:"/settings",name:"settings",component:Gi},{path:"/profiles",name:"userProfile",component:wo,children:[{path:"/profiles/:slug",name:"userProfileMyPosts",component:_o},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:Po}]}],Lo=(0,kt.p7)({history:(0,kt.PO)("/"),routes:To});var $o=Lo;(0,i.ri)(Ct).use(wt,bt).use($o).mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,i){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],i=e[c][2];for(var n=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,s,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,o=a[0],n=a[1],l=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var c=l(r)}for(t&&t(a);u<o.length;u++)i=o[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},a=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5799)}));a=r.O(a)})();