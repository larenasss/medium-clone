(function(){"use strict";var e={142:function(e,t,r){var a=r(9242),s=r(3396);function o(e,t,r,a,o,i){const n=(0,s.up)("app-top-bar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n),(0,s.Wm)(l)],64)}var i=r(7139);const n={class:"navbar navbar-light"},l={class:"container"},u=(0,s.Uk)(" MediumClone "),c={class:"nav navbar-nav pull-xs-right"},d={class:"nav-item"},p=(0,s.Uk)(" Home "),m={class:"nav-item"},g=(0,s._)("i",{class:"ion-compose"},null,-1),v=(0,s.Uk)(" New Article "),f={class:"nav-item"},h=(0,s._)("i",{class:"ion-gear-a"},null,-1),w=(0,s.Uk)(" Settings "),b={class:"nav-item"},y=["src"],_={class:"nav-item"},A=(0,s.Uk)(" Sing in "),k={class:"nav-item"},F=(0,s.Uk)(" Sing up ");function S(e,t,r,a,o,S){const U=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",n,[(0,s._)("div",l,[(0,s.Wm)(U,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,s.w5)((()=>[u])),_:1}),(0,s._)("ul",c,[(0,s._)("li",d,[(0,s.Wm)(U,{class:"nav-link",to:{name:"globalFeed"},"active-class":"active"},{default:(0,s.w5)((()=>[p])),_:1})]),e.isLoggedIn?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("li",m,[(0,s.Wm)(U,{class:"nav-link",to:{name:"createArticle"},"active-class":"active"},{default:(0,s.w5)((()=>[g,v])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(U,{class:"nav-link",to:{name:"settings"},"active-class":"active"},{default:(0,s.w5)((()=>[h,w])),_:1})]),(0,s._)("li",b,[(0,s.Wm)(U,{class:"nav-link",to:{name:"userProfileMyPosts",params:{userSlug:e.currentUser.username}},"active-class":"active"},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"user-pic",src:e.currentUser.image},null,8,y),(0,s.Uk)(" "+(0,i.zw)(e.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,s.kq)("",!0),e.isAnonymous?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("li",_,[(0,s.Wm)(U,{class:"nav-link",to:{name:"login"},"active-class":"active"},{default:(0,s.w5)((()=>[A])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(U,{class:"nav-link",to:{name:"register"},"active-class":"active"},{default:(0,s.w5)((()=>[F])),_:1})])],64)):(0,s.kq)("",!0)])])])}var U=r(3766);const Z=e=>{try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return console.log("Error getting data from localstorage",t),null}},C=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log("Error saving data in localstorage",r)}};var L=r(6265),P=r.n(L);const D="accessToken",$=()=>Z(D);P().defaults.baseURL="https://conduit.productionready.io/api",P().interceptors.request.use((e=>{const t=$(),r=t?`Token ${t}`:"";return e.headers={Authorization:r},e}));var q=P();const E=e=>q.post("/users/login",{user:e}).then((e=>e.data.user)),j=()=>q.get("/user").then((e=>e.data.user)),x=e=>q.put("/user",{user:e}).then((e=>e.data.user));var I={login:E,getCurrentUser:j,updateCurrentUserProfile:x};const W=(0,U.Q_)("settings",{state:()=>({isSubmitting:!1,validationErrors:null})}),T=(0,U.Q_)("auth",{state:()=>({isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null}),getters:{isAnonymous:e=>null===e.isLoggedIn},actions:{async login(e){try{this.$patch({validationErrors:null,isSubmitting:!0});const t=await I.login(e);C("accessToken",t.token),this.updateCurrentUser(t)}catch(t){throw this.$patch({isSubmitting:!1,validationErrors:t.response.data.errors}),t}},async logout(){try{C("accessToken",""),this.$reset()}catch(e){throw console.log(e),e}},async getCurrentUser(){try{this.$patch({isLoading:!0});const e=await I.getCurrentUser();this.updateCurrentUser(e)}catch(e){throw this.$reset(),e}},async updateCurrentUserProfile(e){const t=W();try{t.$patch({isSubmitting:!0,validationErrors:null});const r=await I.updateCurrentUserProfile(e);this.updateCurrentUser(r),t.$patch({isSubmitting:!1})}catch(r){throw t.$patch({isSubmitting:!1,validationErrors:r.response.data.errors}),this.$patch({isSubmitting:!1,validationErrors:r.response.data.errors}),r}},updateCurrentUser(e){this.$patch({currentUser:e,isLoading:!1,isLoggedIn:!0})}}});var O=(0,s.aZ)({name:"AppTopBar",setup(){const e=T(),t=(0,s.Fl)((()=>e.currentUser)),r=(0,s.Fl)((()=>e.isLoggedIn)),a=(0,s.Fl)((()=>e.isAnonymous));return{currentUser:t,isAnonymous:a,isLoggedIn:r}}}),M=r(89);const V=(0,M.Z)(O,[["render",S]]);var H=V,N=(0,s.aZ)({name:"App",components:{AppTopBar:H},setup(){const e=T();(0,s.bv)((()=>e.getCurrentUser()))}});const z=(0,M.Z)(N,[["render",o]]);var Y=z,Q=r(678);const R={class:"home-page"},B={class:"container page"},K={class:"row"},J={class:"col-md-9"},G={class:"col-md-3"};function X(e,t,r,a,o,i){const n=(0,s.up)("app-banner-item"),l=(0,s.up)("app-feed-toggle"),u=(0,s.up)("router-view"),c=(0,s.up)("app-popular-tags");return(0,s.wg)(),(0,s.iD)("div",R,[(0,s.Wm)(n),(0,s._)("div",B,[(0,s._)("div",K,[(0,s._)("div",J,[(0,s.Wm)(l,{"tag-name":e.tagName},null,8,["tag-name"]),(0,s.Wm)(u)]),(0,s._)("div",G,[(0,s.Wm)(c)])])])])}const ee={key:2,class:"sidebar"},te=(0,s._)("p",null,"Popular Tags",-1),re={class:"tag-list"};function ae(e,t,r,a,o,n){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[e.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),e.tags?((0,s.wg)(),(0,s.iD)("div",ee,[te,(0,s._)("div",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tags,(e=>((0,s.wg)(),(0,s.j4)(c,{key:e,to:{name:"tag",params:{slug:e}},class:"tag-default tag-pill"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e),1)])),_:2},1032,["to"])))),128))])])):(0,s.kq)("",!0)])}const se=e=>((0,s.dD)("data-v-314d36a7"),e=e(),(0,s.Cn)(),e),oe={class:"loader"},ie=se((()=>(0,s._)("div",{class:"inner one"},null,-1))),ne=se((()=>(0,s._)("div",{class:"inner two"},null,-1))),le=se((()=>(0,s._)("div",{class:"inner three"},null,-1))),ue=[ie,ne,le];function ce(e,t,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",oe,ue)}var de=(0,s.aZ)({name:"AppLoadingItem"});const pe=(0,M.Z)(de,[["render",ce],["__scopeId","data-v-314d36a7"]]);var me=pe;function ge(e,t,r,a,o,n){return(0,s.wg)(),(0,s.iD)("div",null,(0,i.zw)(e.message),1)}var ve=(0,s.aZ)({name:"AppErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}});const fe=(0,M.Z)(ve,[["render",ge]]);var he=fe;const we=()=>q.get("/tags").then((e=>e.data.tags));var be={getPopularTags:we};const ye=(0,U.Q_)("popularTags",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getPopularTags(){try{this.$patch({isLoading:!0,data:null});const e=await be.getPopularTags();this.$patch({isLoading:!1,data:e})}catch(e){throw this.$reset(),e}}}});var _e=(0,s.aZ)({name:"AppPopularTags",components:{AppLoadingItem:me,AppErrorMessage:he},setup(){const e=ye();return(0,s.bv)((()=>e.getPopularTags())),{isLoading:(0,s.Fl)((()=>e.isLoading)),tags:(0,s.Fl)((()=>e.data)),error:(0,s.Fl)((()=>e.error))}}});const Ae=(0,M.Z)(_e,[["render",ae]]);var ke=Ae;const Fe={class:"banner"},Se=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Medium clone"),(0,s._)("p",null,"A place to share knowledge")],-1),Ue=[Se];function Ze(e,t,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Fe,Ue)}var Ce=(0,s.aZ)({name:"AppBannerItem"});const Le=(0,M.Z)(Ce,[["render",Ze]]);var Pe=Le;const De={class:"feed-toggle"},$e={class:"nav nav-pills outline-active"},qe={key:0,class:"nav-item"},Ee=(0,s.Uk)(" Your Feed "),je={class:"nav-item"},xe=(0,s.Uk)(" Global Feed "),Ie={key:1,class:"nav-item"},We=(0,s._)("i",{class:"ion-pound"},null,-1);function Te(e,t,r,a,o,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",De,[(0,s._)("ul",$e,[e.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",qe,[(0,s.Wm)(l,{to:{name:"yourFeed"},class:(0,i.C_)(["nav-link",{active:"yourFeed"===e.routeName}])},{default:(0,s.w5)((()=>[Ee])),_:1},8,["class"])])):(0,s.kq)("",!0),(0,s._)("li",je,[(0,s.Wm)(l,{to:{name:"globalFeed"},class:(0,i.C_)(["nav-link",{active:"globalFeed"===e.routeName}])},{default:(0,s.w5)((()=>[xe])),_:1},8,["class"])]),e.tagName?((0,s.wg)(),(0,s.iD)("li",Ie,[(0,s.Wm)(l,{to:{name:"tag"},class:(0,i.C_)(["nav-link",{active:"tag"===e.routeName}])},{default:(0,s.w5)((()=>[We,(0,s.Uk)(" "+(0,i.zw)(e.tagName),1)])),_:1},8,["class"])])):(0,s.kq)("",!0)])])}var Oe=(0,s.aZ)({name:"AppFeedToggle",props:{tagName:{type:String,required:!1}},setup(){const e=T(),t=(0,Q.yj)(),r=(0,s.Fl)((()=>e.isLoggedIn)),a=(0,s.Fl)((()=>t.name));return{isLoggedIn:r,routeName:a}}});const Me=(0,M.Z)(Oe,[["render",Te]]);var Ve=Me,He=(0,s.aZ)({name:"AppFeedPage",components:{AppPopularTags:ke,AppBannerItem:Pe,AppFeedToggle:Ve},setup(){const e=(0,Q.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t}}});const Ne=(0,M.Z)(He,[["render",X]]);var ze=Ne;function Ye(e,t,r,a,o,i){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}const Qe=e=>((0,s.dD)("data-v-459d38f0"),e=e(),(0,s.Cn)(),e),Re={key:2},Be={class:"article-meta"},Ke={class:"pull-xs-right"},Je=Qe((()=>(0,s._)("span",null,"Read more...",-1)));function Ge(e,t,r,a,o,n){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("app-user-info"),d=(0,s.up)("app-add-to-favorites"),p=(0,s.up)("app-tags-list"),m=(0,s.up)("router-link"),g=(0,s.up)("app-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),e.feed?((0,s.wg)(),(0,s.iD)("div",Re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.feed.articles,((t,r)=>((0,s.wg)(),(0,s.iD)("div",{class:"article-preview",key:r},[(0,s._)("div",Be,[(0,s.Wm)(c,{user:t.author,date:e.dateString(t.createdAt)},null,8,["user","date"]),(0,s._)("div",Ke,[(0,s.Wm)(d,{"is-favorited":t.favorited,"article-slug":t.slug,"favorites-count":t.favoritesCount,onHandleLike:e.handleLike},null,8,["is-favorited","article-slug","favorites-count","onHandleLike"])])]),(0,s.Wm)(m,{to:{name:"article",params:{slug:t.slug}},class:"preview-link"},{default:(0,s.w5)((()=>[(0,s._)("h1",null,(0,i.zw)(t.title),1),(0,s._)("p",null,(0,i.zw)(t.description),1),Je,(0,s.Wm)(p,{tags:t.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,s.Wm)(g,{total:e.feed.articlesCount,limit:e.limit,"current-page":e.currentPage,url:e.baseUrl},null,8,["total","limit","current-page","url"])])):(0,s.kq)("",!0)],64)}const Xe=5,et=e=>{try{return new Date(e)}catch(t){console.log("Error convert date",t)}};var tt=r(4782);const rt={class:"pagination"};function at(e,t,r,a,o,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("ul",rt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pages,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:(0,i.C_)(["page-item",{active:e.currentPage===t}])},[(0,s.Wm)(l,{to:{path:e.url,query:{page:t}},class:"page-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(t),1)])),_:2},1032,["to"])],2)))),128))])}const st=(e,t)=>[...Array(t).keys()].map((t=>t+e));var ot=(0,s.aZ)({name:"AppPagination",props:{total:{type:Number,requred:!0},limit:{type:Number,requred:!0},currentPage:{type:Number,requred:!0},url:{type:String,requred:!0}},setup(e){const t=(0,s.Fl)((()=>{const t=Math.ceil((e.total??0)/(e.limit??0));return st(1,t)}));return{pages:t}}});const it=(0,M.Z)(ot,[["render",at]]);var nt=it;const lt={key:0,class:"tag-list"};function ut(e,t,r,a,o,n){return e.tags.length?((0,s.wg)(),(0,s.iD)("ul",lt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tags,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:"tag-default tag-pill tag-outline ng-binding ng-scope"},(0,i.zw)(e),1)))),128))])):(0,s.kq)("",!0)}var ct=(0,s.aZ)({name:"AppTagsList",props:{tags:{type:Array,required:!0}}});const dt=(0,M.Z)(ct,[["render",ut]]);var pt=dt;const mt=(0,s._)("i",{class:"ion-heart"},null,-1);function gt(e,t,r,a,o,n){return(0,s.wg)(),(0,s.iD)("button",{class:(0,i.C_)(["btn btn-sm",{"btn-primary":e.isFavoritedOptimistic,"btn-outline-primary":!e.isFavoritedOptimistic}]),onClick:t[0]||(t[0]=(...t)=>e.handleLike&&e.handleLike(...t))},[mt,(0,s.Uk)(" "+(0,i.zw)(e.favoritesCountOptimistic),1)],2)}var vt=r(4870);const ft=e=>q.post(`/articles/${e}/favorite`,{}).then((e=>e.data.article)),ht=e=>q["delete"](`/articles/${e}/favorite`).then((e=>e.data.article));var wt={addToFavorites:ft,removeFromFavorites:ht};const bt=(0,U.Q_)("addToFavorites",{actions:{async addToFavorites({slug:e,isFavorited:t}){try{t?await wt.removeFromFavorites(e):await wt.addToFavorites(e)}catch(r){throw console.error(r),r}}}});var yt=(0,s.aZ)({name:"AppAddToFavorites",props:{isFavorited:{type:Boolean,requred:!0},articleSlug:{type:String,requred:!0},favoritesCount:{type:Number,requred:!0}},setup(e,{emit:t}){const r=bt(),a=(0,vt.iH)(e.isFavorited??!1),o=(0,vt.iH)(e.favoritesCount??0);(0,s.YP)((()=>[e.isFavorited,e.favoritesCount]),(e=>{a.value=!e[0],o.value=e[1]}));const i=()=>{const s={slug:e.articleSlug,isFavorited:a.value,favoritesCount:a.value?o.value-1:o.value+1};r.addToFavorites(s),t("handleLike",s)};return{handleLike:i,isFavoritedOptimistic:a,favoritesCountOptimistic:o}}});const _t=(0,M.Z)(yt,[["render",gt]]);var At=_t;const kt={key:0,class:"user-info"},Ft=["src"],St={class:"info"},Ut={key:0,class:"date"};function Zt(e,t,r,a,o,n){const l=(0,s.up)("router-link");return e.user?((0,s.wg)(),(0,s.iD)("div",kt,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{userSlug:e.user.username}}},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"comment-author-img",src:e.user.image},null,8,Ft)])),_:1},8,["to"]),(0,s._)("div",St,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{userSlug:e.user.username}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.user.username),1)])),_:1},8,["to"]),e.date?((0,s.wg)(),(0,s.iD)("span",Ut,(0,i.zw)(e.date),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}var Ct=(0,s.aZ)({name:"AppUserInfo",props:{user:{type:Object,requred:!0},date:{type:String,requred:!1}}});const Lt=(0,M.Z)(Ct,[["render",Zt]]);var Pt=Lt;const Dt=e=>q.get(e);var $t={getFeed:Dt};const qt=(0,U.Q_)("feed",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getFeed({apiUrl:e}){try{this.$patch({isLoading:!0,data:null});const{data:t}=await $t.getFeed(e);this.$patch({isLoading:!1,data:t})}catch(t){throw this.$reset(),t}}}});var Et=(0,s.aZ)({name:"AppFeedItem",components:{AppPagination:nt,AppLoadingItem:me,AppErrorMessage:he,AppTagsList:pt,AppAddToFavorites:At,AppUserInfo:Pt},props:{apiUrl:{type:String,requred:!0}},setup(e){const t=(0,Q.yj)(),r=qt(),a=(0,s.Fl)((()=>Number(t.query.page||"1"))),o=(0,s.Fl)((()=>a.value*Xe-Xe)),i=(0,s.Fl)((()=>t.path));(0,s.bv)((()=>n())),(0,s.YP)(a,(()=>n())),(0,s.YP)((()=>e.apiUrl),(()=>n()));const n=()=>{const t=(0,tt.parseUrl)(e.apiUrl??""),a=(0,tt.stringify)({limit:Xe,offset:o.value,...t.query}),s=`${t.url}?${a}`;r.getFeed({apiUrl:s})},l=e=>"string"===typeof e?et(e)?.toLocaleString():(new Date).toLocaleString(),u=e=>{r.$patch((t=>{if(t.data){const r=t.data.articles.find((t=>t.slug==e.slug));r.favorited=e.isFavorited,r.favoritesCount=e.favoritesCount}}))};return{isLoading:(0,s.Fl)((()=>r.isLoading)),feed:(0,s.Fl)((()=>r.data)),error:(0,s.Fl)((()=>r.error)),currentPage:a,limit:Xe,baseUrl:i,dateString:l,handleLike:u}}});const jt=(0,M.Z)(Et,[["render",Ge],["__scopeId","data-v-459d38f0"]]);var xt=jt,It=(0,s.aZ)({name:"AppGlobalFeed",components:{AppFeedItem:xt},setup(){return{apiUrl:(0,vt.iH)("/articles")}}});const Wt=(0,M.Z)(It,[["render",Ye]]);var Tt=Wt;const Ot={class:"home-page"};function Mt(e,t,r,a,o,i){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.iD)("div",Ot,[(0,s.Wm)(n,{"api-url":e.apiUrl},null,8,["api-url"])])}var Vt=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:xt},setup(){return{apiUrl:(0,vt.iH)("/articles/feed")}}});const Ht=(0,M.Z)(Vt,[["render",Mt]]);var Nt=Ht;function zt(e,t,r,a,o,i){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var Yt=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:xt},setup(){const e=(0,Q.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t,apiUrl:(0,s.Fl)((()=>`articles?tag=${t.value}`))}}});const Qt=(0,M.Z)(Yt,[["render",zt]]);var Rt=Qt;const Bt={class:"auth-page"},Kt={class:"container page"},Jt={class:"row"},Gt={class:"col-md-6 offset-md-3 col-xs-12"},Xt=(0,s._)("h1",{class:"text-xs-center"},"Sign up",-1),er={class:"text-xs-center"},tr=(0,s.Uk)(" Have an account? "),rr={class:"form-group"},ar={class:"form-group"},sr={class:"form-group"},or=["disabled"];function ir(e,t,r,o,i,n){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Bt,[(0,s._)("div",Kt,[(0,s._)("div",Jt,[(0,s._)("div",Gt,[Xt,(0,s._)("p",er,[(0,s.Wm)(l,{to:{name:"login"}},{default:(0,s.w5)((()=>[tr])),_:1})]),e.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",rr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=t=>e.user.username=t)},null,512),[[a.nr,e.user.username]])]),(0,s._)("fieldset",ar,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=t=>e.user.email=t)},null,512),[[a.nr,e.user.email]])]),(0,s._)("fieldset",sr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=t=>e.user.password=t)},null,512),[[a.nr,e.user.password]])]),(0,s._)("button",{disabled:e.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign Up ",8,or)],32)])])])])}const nr={class:"error-messages"};function lr(e,t,r,a,o,n){return(0,s.wg)(),(0,s.iD)("ul",nr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.errorMessages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,i.zw)(e),1)))),128))])}var ur=(0,s.aZ)({name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},setup(e){const t=(0,s.Fl)((()=>Object.keys(e.validationErrors).map((t=>{const r=e.validationErrors[t].join(", ");return`${t} ${r}`}))));return{errorMessages:t}}});const cr=(0,M.Z)(ur,[["render",lr]]);var dr=cr;const pr=e=>q.post("/users",{user:e}).then((e=>e.data.user)),mr=e=>q.get(`/profiles/${e}`).then((e=>e.data.profile)),gr=e=>q.post(`/profiles/${e}/follow`,{}).then((e=>e.data.profile)),vr=e=>q["delete"](`/profiles/${e}/follow`).then((e=>e.data.profile));var fr={register:pr,getUserProfile:mr,addToFallow:gr,removeFromFallow:vr};const hr=(0,U.Q_)("userProfile",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async register(e){const t=T();try{this.$patch({validationErrors:null,isSubmitting:!0});const r=await fr.register(e);C("accessToken",r.token),t.updateCurrentUser(r)}catch(r){throw t.$patch({isSubmitting:!1,validationErrors:r.response.data.errors}),r}},async getUserProfile({userSlug:e}){try{this.$patch({isLoading:!0,data:null});const t=await fr.getUserProfile(e);this.$patch({isLoading:!0,data:t})}catch(t){throw this.$reset(),t}},async addToFallow({slug:e,isFallow:t}){try{const r=t?await fr.removeFromFallow(e):await fr.addToFallow(e);this.$patch({data:r})}catch(r){throw console.error(r),r}}}});var wr=r(2482);class br{constructor(e,t,r){(0,wr.Z)(this,"username",""),(0,wr.Z)(this,"bio",""),(0,wr.Z)(this,"image",""),this.username=e,this.bio=t,this.image=r}}class yr extends br{constructor(e="",t,r="",a="",s="",o){super(r,a,s),(0,wr.Z)(this,"email",void 0),(0,wr.Z)(this,"password",void 0),(0,wr.Z)(this,"username",void 0),(0,wr.Z)(this,"bio",void 0),(0,wr.Z)(this,"image",void 0),(0,wr.Z)(this,"token",void 0),this.email=e,this.password=t,this.username=r,this.bio=a,this.image=s,this.token=o}}class _r extends br{constructor(e="",t="",r="",a=!1){super(e,t,r),(0,wr.Z)(this,"username",void 0),(0,wr.Z)(this,"bio",void 0),(0,wr.Z)(this,"image",void 0),(0,wr.Z)(this,"following",void 0),this.username=e,this.bio=t,this.image=r,this.following=a}}var Ar=r(211),kr=function(e,t,r,a){var s,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},Fr=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Sr=class{constructor(e="",t=""){(0,wr.Z)(this,"email",void 0),(0,wr.Z)(this,"password",void 0),this.email=e,this.password=t}};Sr=kr([(0,Ar.mapTo)(yr),Fr("design:paramtypes",[String,String])],Sr);let Ur=class extends Sr{constructor(e="",t="",r=""){super(e,t),(0,wr.Z)(this,"email",void 0),(0,wr.Z)(this,"password",void 0),(0,wr.Z)(this,"username",void 0),this.email=e,this.password=t,this.username=r}};Ur=kr([(0,Ar.mapTo)(yr),Fr("design:paramtypes",[String,String,String])],Ur);const Zr=new Ar.Mapper;Zr.createMap(Sr);var Cr=Zr,Lr=(0,s.aZ)({name:"AppRegisterPage",setup(){const e=T(),t=hr(),r=(0,Q.tv)(),a=(0,vt.qj)(new Ur),o=(0,s.Fl)((()=>e.isSubmitting)),i=(0,s.Fl)((()=>e.validationErrors)),n=()=>{const e=Cr.map(a);t.register(e).then((()=>r.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:n,isSubmitting:o,validationErrors:i,user:a}},components:{AppValidationErrors:dr}});const Pr=(0,M.Z)(Lr,[["render",ir]]);var Dr=Pr;const $r={class:"auth-page"},qr={class:"container page"},Er={class:"row"},jr={class:"col-md-6 offset-md-3 col-xs-12"},xr=(0,s._)("h1",{class:"text-xs-center"},"Sign in",-1),Ir={class:"text-xs-center"},Wr=(0,s.Uk)(" Need an account? "),Tr={class:"form-group"},Or={class:"form-group"},Mr=["disabled"];function Vr(e,t,r,o,i,n){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",$r,[(0,s._)("div",qr,[(0,s._)("div",Er,[(0,s._)("div",jr,[xr,(0,s._)("p",Ir,[(0,s.Wm)(l,{to:{name:"register"}},{default:(0,s.w5)((()=>[Wr])),_:1})]),e.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",Tr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=t=>e.user.email=t)},null,512),[[a.nr,e.user.email]])]),(0,s._)("fieldset",Or,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=t=>e.user.password=t)},null,512),[[a.nr,e.user.password]])]),(0,s._)("button",{disabled:e.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign In ",8,Mr)],32)])])])])}var Hr=(0,s.aZ)({name:"AppLoginPage",setup(){const e=T(),t=(0,Q.tv)(),r=(0,vt.qj)(new Sr),a=(0,s.Fl)((()=>e.isSubmitting)),o=(0,s.Fl)((()=>e.validationErrors)),i=()=>{const a=Cr.map(r);e.login(a).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:i,isSubmitting:a,validationErrors:o,user:r}},components:{AppValidationErrors:dr}});const Nr=(0,M.Z)(Hr,[["render",Vr]]);var zr=Nr;const Yr={key:0,class:"article-page"},Qr={class:"banner"},Rr={class:"container"},Br={class:"article-meta"},Kr={class:"container page"},Jr={class:"row article-content"},Gr={class:"col-xs-12"},Xr=(0,s._)("hr",null,null,-1),ea={class:"row"},ta={class:"col-xs-12 col-md-8 offset-md-2"},ra={class:"article-actions"};function aa(e,t,r,a,o,n){const l=(0,s.up)("app-article-user-info"),u=(0,s.up)("app-loading-item"),c=(0,s.up)("app-error-message"),d=(0,s.up)("app-tags-list"),p=(0,s.up)("app-add-comment-form"),m=(0,s.up)("app-comment-list");return e.article?((0,s.wg)(),(0,s.iD)("div",Yr,[(0,s._)("div",Qr,[(0,s._)("div",Rr,[(0,s._)("h1",null,(0,i.zw)(e.article.title),1),(0,s._)("div",Br,[(0,s.Wm)(l)])])]),(0,s._)("div",Kr,[e.isLoading?((0,s.wg)(),(0,s.j4)(u,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(c,{key:1,message:e.error},null,8,["message"])):(0,s.kq)("",!0),(0,s._)("div",Jr,[(0,s._)("div",Gr,[(0,s._)("div",null,[(0,s._)("p",null,(0,i.zw)(e.article.body),1)]),(0,s.Wm)(d,{tags:e.article.tagList},null,8,["tags"])])]),Xr,(0,s._)("div",ea,[(0,s._)("div",ta,[(0,s._)("div",ra,[(0,s.Wm)(l)]),(0,s.Wm)(p,{onAddComment:e.addComment,"is-submitting":e.isSubmittingAddComment,errors:e.validationErrors},null,8,["onAddComment","is-submitting","errors"]),(0,s.Wm)(m,{slug:e.article.slug??""},null,8,["slug"])])])])])):(0,s.kq)("",!0)}const sa={key:0};function oa(e,t,r,a,o,i){const n=(0,s.up)("app-comment-item");return e.comments?((0,s.wg)(),(0,s.iD)("div",sa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.comments,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s.Wm)(n,{comment:t,onDeleteComment:e.deleteComment},null,8,["comment","onDeleteComment"])])))),128))])):(0,s.kq)("",!0)}const ia=e=>((0,s.dD)("data-v-5edd36fe"),e=e(),(0,s.Cn)(),e),na={key:0,class:"card"},la={class:"card-block"},ua={class:"card-text"},ca={class:"card-footer"},da=ia((()=>(0,s._)("i",{class:"ion-trash-a"},null,-1))),pa=[da];function ma(e,t,r,a,o,n){const l=(0,s.up)("app-user-info");return e.comment?((0,s.wg)(),(0,s.iD)("div",na,[(0,s._)("div",la,[(0,s._)("p",ua,(0,i.zw)(e.comment.body),1)]),(0,s._)("div",ca,[(0,s.Wm)(l,{user:e.comment.author,date:e.dateString(e.comment.createdAt)},null,8,["user","date"]),e.isCurrentUserProfile?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"mod-options",onClick:t[0]||(t[0]=t=>e.deleteComment(e.comment.id))},pa)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}function ga(e){const t=T(),r=(0,s.Fl)((()=>t.currentUser)),a=(0,s.Fl)((()=>!!(e&&r.value&&e.value)&&r.value.username===e.value.username));return{currentUser:r,isCurrentUserProfile:a}}var va=(0,s.aZ)({name:"AppCommentItem",emits:["deleteComment"],components:{AppUserInfo:Pt},props:{comment:{type:Object,required:!0}},setup(e,{emit:t}){const{currentUser:r,isCurrentUserProfile:a}=ga((0,s.Fl)((()=>e.comment.author))),o=e=>{t("deleteComment",{slugComment:e})},i=e=>et(e)?.toLocaleString();return{isCurrentUserProfile:a,currentUser:r,deleteComment:o,dateString:i}}});const fa=(0,M.Z)(va,[["render",ma],["__scopeId","data-v-5edd36fe"]]);var ha=fa;const wa=e=>q.get(`/articles/${e}/comments`).then((e=>e.data.comments)),ba=({slugArticle:e,comment:t})=>q.post(`/articles/${e}/comments`,{comment:t}).then((e=>e.data.comment)),ya=({slugArticle:e,slugComment:t})=>q["delete"](`/articles/${e}/comments/${t}`);var _a={getComments:wa,deleteComment:ya,addComment:ba};const Aa=(0,U.Q_)("comments",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getComments({slug:e}){try{this.$patch({isLoading:!0,data:null});const t=await _a.getComments(e);this.$patch({isLoading:!0,data:t.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))})}catch(t){throw this.$reset(),t}},async addComment(e){try{const t=await _a.addComment(e);this.$patch((e=>{e.data?.unshift(t)}))}catch(t){throw this.$patch({error:t}),t}},async deleteComment(e){try{await _a.deleteComment(e),this.$patch((t=>{null!=t.data&&(t.data=t.data.filter((t=>t.id!=e.slugComment)))}))}catch(t){throw console.error(t),t}}}});var ka=(0,s.aZ)({name:"AppCommentList",components:{AppCommentItem:ha},props:{slug:{type:String,required:!0}},setup(e){const t=Aa();(0,s.bv)((()=>{t.getComments({slug:e.slug})}));const r=({slugComment:r})=>{const a={slugArticle:e.slug,slugComment:r};t.deleteComment(a)};return{isLoading:(0,s.Fl)((()=>t.isLoading)),comments:(0,s.Fl)((()=>t.data)),error:(0,s.Fl)((()=>t.error)),deleteComment:r}}});const Fa=(0,M.Z)(ka,[["render",oa]]);var Sa=Fa;const Ua={key:0},Za={class:"card-block"},Ca=["disabled"],La={class:"card-footer"},Pa=["src"],Da=["disabled"];function $a(e,t,r,o,i,n){const l=(0,s.up)("app-validation-errors");return e.currentUser?((0,s.wg)(),(0,s.iD)("div",Ua,[e.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{class:"card comment-form",onSubmit:t[1]||(t[1]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("div",Za,[(0,s.wy)((0,s._)("textarea",{class:"form-control",disabled:e.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=t=>e.commentInput.body=t)},null,8,Ca),[[a.nr,e.commentInput.body]])]),(0,s._)("div",La,[(0,s._)("img",{class:"comment-author-img",src:e.currentUser.image},null,8,Pa),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:e.isSubmitting},"Post Comment",8,Da)])],32)])):(0,s.kq)("",!0)}class qa{constructor(e={id:0,author:new _r,body:"",createdAt:"",updatedAt:""}){(0,wr.Z)(this,"id",void 0),(0,wr.Z)(this,"author",void 0),(0,wr.Z)(this,"body",void 0),(0,wr.Z)(this,"createdAt",void 0),(0,wr.Z)(this,"updatedAt",void 0),this.id=e.id,this.author=e.author,this.body=e.body,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt}}var Ea=(0,s.aZ)({name:"AppAddCommentForm",emits:["addComment"],props:{isSubmitting:{type:Boolean,default:!1},errors:{type:Object,required:!1}},components:{AppValidationErrors:dr},setup(e,{emit:t}){const r=T(),a=(0,vt.qj)(new qa);(0,s.YP)((()=>e.isSubmitting),(e=>{e||(a.body="")}));const o=()=>t("addComment",a);return{commentInput:a,onSubmit:o,currentUser:(0,s.Fl)((()=>r.currentUser))}}});const ja=(0,M.Z)(Ea,[["render",$a]]);var xa=ja;const Ia={class:"article-meta d-flex"},Wa={key:0},Ta=(0,s._)("i",{class:"ion-edit"},null,-1),Oa=(0,s.Uk)(" Edit Article "),Ma=(0,s.Uk)("   "),Va=(0,s._)("i",{class:"ion-trash-a"},null,-1),Ha=(0,s.Uk)(" Delete Article "),Na=[Va,Ha],za={key:1},Ya=(0,s.Uk)("   ");function Qa(e,t,r,a,o,i){const n=(0,s.up)("app-user-info"),l=(0,s.up)("router-link"),u=(0,s.up)("app-user-profile-fallow"),c=(0,s.up)("app-add-to-favorites");return(0,s.wg)(),(0,s.iD)("div",Ia,[(0,s.Wm)(n,{user:e.article.author,date:e.convertDateJsonToDate(e.article.createdAt).toLocaleString()},null,8,["user","date"]),e.article?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.isAuthor?((0,s.wg)(),(0,s.iD)("span",Wa,[(0,s.Wm)(l,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:e.article.slug}}},{default:(0,s.w5)((()=>[Ta,Oa])),_:1},8,["to"]),Ma,(0,s._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=t=>e.deleteArticle(e.article.slug))},Na)])):((0,s.wg)(),(0,s.iD)("span",za,[(0,s.Wm)(u,{userFallow:e.userProfile},null,8,["userFallow"]),Ya,(0,s.Wm)(c,{"is-favorited":e.article.favorited,"article-slug":e.article.slug,"favorites-count":e.article.favoritesCount,onHandleLike:e.handleLike},null,8,["is-favorited","article-slug","favorites-count","onHandleLike"])]))],64)):(0,s.kq)("",!0)])}const Ra=(0,s._)("i",{class:"ion-plus-round"},null,-1),Ba={key:0},Ka={key:1};function Ja(e,t,r,a,o,n){return e.followingAuthor?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:(0,i.C_)(["btn btn-sm action-btn",{"btn-secondary":e.followingAuthor.following,"btn-outline-secondary":!e.followingAuthor.following}]),onClick:t[0]||(t[0]=(...t)=>e.onFallow&&e.onFallow(...t))},[Ra,e.followingAuthor.following?((0,s.wg)(),(0,s.iD)("span",Ba," UnFollow "+(0,i.zw)(e.followingAuthor.username),1)):((0,s.wg)(),(0,s.iD)("span",Ka," Follow "+(0,i.zw)(e.followingAuthor.username),1))],2)):(0,s.kq)("",!0)}var Ga=(0,s.aZ)({props:{userFallow:{type:Object,required:!0}},setup(e){const t=hr(),r=(0,s.Fl)((()=>e.userFallow)),a=()=>{t.addToFallow({slug:e.userFallow?.username,isFallow:e.userFallow?.following})};return{onFallow:a,followingAuthor:r}}});const Xa=(0,M.Z)(Ga,[["render",Ja]]);var es=Xa;const ts=e=>q.get(`/articles/${e}`).then((e=>e.data.article)),rs=e=>q.post("/articles",{article:e}).then((e=>e.data.article)),as=(e,t)=>q.put(`/articles/${e}`,{article:t}).then((e=>e.data.article)),ss=e=>q["delete"](`/articles/${e}`);var os={getArticle:ts,deleteArticle:ss,createArticle:rs,updateArticle:as};const is=(0,U.Q_)("article",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getArticle({slug:e}){try{this.$patch({isLoading:!0,data:null});const t=await os.getArticle(e);this.$patch({isLoading:!1,data:t});const r=hr();r.$patch({data:t.author})}catch(t){throw this.$reset(),t}},async deleteArticle({slug:e}){try{await os.deleteArticle(e)}catch(t){throw console.error(t),t}}}});var ns=(0,s.aZ)({name:"AppArticleUserInfo",components:{AppUserInfo:Pt,AppAddToFavorites:At,AppUserProfileFallow:es},setup(){const e=is(),t=hr(),r=(0,Q.tv)(),a=(0,s.Fl)((()=>e.data)),o=(0,s.Fl)((()=>a.value.author?.following)),{isCurrentUserProfile:i}=ga((0,s.Fl)((()=>a.value.author??null))),n=()=>{e.deleteArticle({slug:a.value.slug}).then((()=>{r.push({name:"globalFeed"})}))},l=t=>{e.$patch((e=>{e.data&&(e.data.favorited=t.isFavorited,e.data.favoritesCount=t.favoritesCount)}))};return{article:a,userProfile:(0,s.Fl)((()=>t.data)),convertDateJsonToDate:et,isFollowing:o,isAuthor:i,deleteArticle:n,handleLike:l}}});const ls=(0,M.Z)(ns,[["render",Qa]]);var us=ls,cs=(0,s.aZ)({name:"AppArticleItem",components:{AppLoadingItem:me,AppErrorMessage:he,AppTagsList:pt,AppCommentList:Sa,AppAddCommentForm:xa,AppArticleUserInfo:us},setup(){const e=Aa(),t=is(),r=(0,Q.yj)(),a=(0,vt.iH)(!1);t.getArticle({slug:r.params.slug});const s=t=>{a.value=!0,e.addComment({slugArticle:r.params.slug,comment:t}).then((()=>a.value=!1)).catch((()=>a.value=!1))};return{isLoading:(0,vt.Fl)((()=>t.isLoading)),error:(0,vt.Fl)((()=>t.error)),article:(0,vt.Fl)((()=>t.data)),isSubmittingAddComment:a,validationErrors:(0,vt.Fl)((()=>e.error)),addComment:s}}});const ds=(0,M.Z)(cs,[["render",aa]]);var ps=ds;function ms(e,t,r,a,o,i){const n=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.j4)(n,{"initial-values":e.initialValues,errors:e.validationErrors,"is-submitting":e.isSubmitting,onArticleSubmit:e.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])}const gs={class:"editor-page"},vs={class:"container page"},fs={class:"row"},hs={class:"col-md-10 offset-md-1 col-xs-12"},ws={class:"form-group"},bs=["disabled"],ys={class:"form-group"},_s=["disabled"],As={class:"form-group"},ks=["disabled"],Fs={class:"form-group"},Ss=["disabled"],Us={class:"form-group"},Zs=["disabled"];function Cs(e,t,r,o,i,n){const l=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",gs,[(0,s._)("div",vs,[(0,s._)("div",fs,[(0,s._)("div",hs,[e.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",ws,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title",disabled:e.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dataForm.title=t)},null,8,bs),[[a.nr,e.dataForm.title]])]),(0,s._)("fieldset",ys,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description",disabled:e.isSubmitting,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dataForm.description=t)},null,8,_s),[[a.nr,e.dataForm.description]])]),(0,s._)("fieldset",As,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?",disabled:e.isSubmitting,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dataForm.body=t)},null,8,ks),[[a.nr,e.dataForm.body]])]),(0,s._)("fieldset",Fs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags",disabled:e.isSubmitting,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dataForm.tagList=t)},null,8,Ss),[[a.nr,e.dataForm.tagList]])]),(0,s._)("fieldset",Us,[(0,s._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:e.isSubmitting}," Publish Article ",8,Zs)])])],32)])])])])}class Ls{constructor(e={title:"",description:"",body:"",tagList:[],createdAt:"",favorited:!1,favoritesCount:0,slug:"",updatedAt:""}){(0,wr.Z)(this,"title",void 0),(0,wr.Z)(this,"description",void 0),(0,wr.Z)(this,"body",void 0),(0,wr.Z)(this,"tagList",void 0),(0,wr.Z)(this,"createdAt",void 0),(0,wr.Z)(this,"favorited",void 0),(0,wr.Z)(this,"favoritesCount",void 0),(0,wr.Z)(this,"slug",void 0),(0,wr.Z)(this,"updatedAt",void 0),(0,wr.Z)(this,"author",void 0),this.title=e.title,this.description=e.description,this.body=e.body,this.tagList=e.tagList}}var Ps=(0,s.aZ)({name:"AppArticleForm",emits:["articleSubmit"],components:{AppValidationErrors:dr},props:{initialValues:{type:Ls,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},setup(e,{emit:t}){const r=(0,vt.qj)(new Ls(e.initialValues)),a=()=>t("articleSubmit",r);return{dataForm:r,onSubmit:a}}});const Ds=(0,M.Z)(Ps,[["render",Cs]]);var $s=Ds;const qs=(0,U.Q_)("createArticle",{state:()=>({isSubmitting:!1,validationErrors:null}),actions:{async createArticle(e){try{this.$patch({isSubmitting:!0});const t=await os.createArticle(e);return this.$reset(),t}catch(t){throw this.$patch({isSubmitting:!1,validationErrors:t.response.data.errors}),t}}}});var Es=(0,s.aZ)({name:"AppCreateArticle",components:{AppArticleForm:$s},setup(){const e=qs(),t=(0,Q.tv)(),r=new Ls,a=r=>{e.createArticle(r).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:r,validationErrors:(0,s.Fl)((()=>e.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.isSubmitting)),onSubmit:a}}});const js=(0,M.Z)(Es,[["render",ms]]);var xs=js;function Is(e,t,r,a,o,i){const n=(0,s.up)("app-loading-item"),l=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isLoading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),e.initialValues?((0,s.wg)(),(0,s.j4)(l,{key:1,"initial-values":e.initialValues,errors:e.validationErrors,"is-submitting":e.isSubmitting,onArticleSubmit:e.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])):(0,s.kq)("",!0)],64)}const Ws=(0,U.Q_)("editArticle",{state:()=>({isSubmitting:!1,validationErrors:null,isLoading:!1,article:null}),actions:{async updateArticle({slug:e,articleInput:t}){try{this.$patch({isSubmitting:!0});const r=await os.updateArticle(e,t);return this.$patch({isSubmitting:!1}),r}catch(r){throw this.$patch({isSubmitting:!1,validationErrors:r.response.data.errors}),r}},async getArticle({slug:e}){try{this.$patch({isLoading:!0});const t=await os.getArticle(e);return this.$patch({isLoading:!1,article:t}),t}catch(t){throw this.$patch({isLoading:!1}),t}}}});var Ts=(0,s.aZ)({name:"AppEditArticle",components:{AppArticleForm:$s,AppLoadingItem:me},setup(){const e=Ws(),t=(0,Q.tv)(),r=(0,Q.yj)(),a=(0,s.Fl)((()=>e.article)),o=(0,s.Fl)((()=>a.value?new Ls(a.value):null));(0,s.bv)((()=>{e.getArticle({slug:r.params.slug})}));const i=a=>{e.updateArticle({slug:r.params.slug,articleInput:a}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:o,validationErrors:(0,s.Fl)((()=>e.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.isSubmitting)),isLoading:(0,s.Fl)((()=>e.isLoading)),onSubmit:i,article:a}}});const Os=(0,M.Z)(Ts,[["render",Is]]);var Ms=Os;const Vs={key:0,class:"settings-page"},Hs={class:"container page"},Ns={class:"row"},zs={class:"col-md-6 offset-md-3 col-xs-12"},Ys=(0,s._)("h1",{class:"text-xs-center"},"Settings",-1),Qs={class:"form-group"},Rs=["disabled"],Bs={class:"form-group"},Ks=["disabled"],Js={class:"form-group"},Gs=["disabled"],Xs={class:"form-group"},eo=["disabled"],to={class:"form-group"},ro=["disabled"],ao=["disabled"],so=(0,s._)("hr",null,null,-1);function oo(e,t,r,o,i,n){const l=(0,s.up)("app-validation-errors");return e.currentUser?((0,s.wg)(),(0,s.iD)("div",Vs,[(0,s._)("div",Hs,[(0,s._)("div",Ns,[(0,s._)("div",zs,[Ys,e.validationErrors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",Qs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.image=t),disabled:e.isSubmitting,placeholder:"URL of profile image"},null,8,Rs),[[a.nr,e.form.image]])]),(0,s._)("fieldset",Bs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.username=t),disabled:e.isSubmitting,placeholder:"Username"},null,8,Ks),[[a.nr,e.form.username]])]),(0,s._)("fieldset",Js,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.bio=t),disabled:e.isSubmitting,placeholder:"Short bio about you"},null,8,Gs),[[a.nr,e.form.bio]])]),(0,s._)("fieldset",Xs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.email=t),disabled:e.isSubmitting,placeholder:"Email"},null,8,eo),[[a.nr,e.form.email]])]),(0,s._)("fieldset",to,[(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.password=t),disabled:e.isSubmitting,placeholder:"New password"},null,8,ro),[[a.nr,e.form.password]])]),(0,s._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:e.isSubmitting}," Update settings ",8,ao)])],32),so,(0,s._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...t)=>e.logout&&e.logout(...t))}," Or cick here to logout ")])])])])):(0,s.kq)("",!0)}var io=(0,s.aZ)({name:"AppSettingsPage",components:{AppValidationErrors:dr},setup(){const e=W(),t=T(),r=(0,Q.tv)(),a=(0,s.Fl)((()=>t.currentUser)),o=(0,s.Fl)((()=>a.value)),i=()=>{t.updateCurrentUserProfile(o.value).then((()=>{r.push({name:"userProfileMyPosts",params:{userSlug:a.value.username}})}))},n=()=>{t.logout().then((()=>{r.push({name:"globalFeed"})}))};return{isSubmitting:(0,s.Fl)((()=>e.isSubmitting)),validationErrors:(0,s.Fl)((()=>e.validationErrors)),currentUser:a,form:o,onSubmit:i,logout:n}}});const no=(0,M.Z)(io,[["render",oo]]);var lo=no;const uo={key:0,class:"profile-page"},co={class:"profile-page__user-info"},po={class:"container"},mo={class:"row"},go={class:"col-xs-12 col-md-10 offset-md-1"},vo=["src"],fo=(0,s.Uk)(" Edit Profile Settings "),ho={class:"container"},wo={class:"row"},bo={class:"col-xs-12 col-md-10 offset-md-1"},yo={class:"article-toggle"},_o={class:"nav nav-pills outline-active"},Ao={class:"nav-item"},ko=(0,s.Uk)(" My Posts "),Fo={class:"nav-item"},So=(0,s.Uk)(" Favorites Posts ");function Uo(e,t,r,a,o,n){const l=(0,s.up)("router-link"),u=(0,s.up)("app-user-profile-fallow"),c=(0,s.up)("router-view");return e.userProfile?((0,s.wg)(),(0,s.iD)("div",uo,[(0,s._)("div",co,[(0,s._)("div",po,[(0,s._)("div",mo,[(0,s._)("div",go,[(0,s._)("img",{class:"user-img",src:e.userProfile.image},null,8,vo),(0,s._)("h4",null,(0,i.zw)(e.userProfile.username),1),(0,s._)("p",null,(0,i.zw)(e.userProfile.bio),1),(0,s._)("div",null,[e.isCurrentUserProfile?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,s.w5)((()=>[fo])),_:1})):((0,s.wg)(),(0,s.j4)(u,{key:1,userFallow:e.userProfile},null,8,["userFallow"]))])])])])]),(0,s._)("div",ho,[(0,s._)("div",wo,[(0,s._)("div",bo,[(0,s._)("div",yo,[(0,s._)("ul",_o,[(0,s._)("li",Ao,[(0,s.Wm)(l,{to:{name:"userProfileMyPosts",params:{userSlug:e.userProfile.username}},class:(0,i.C_)(["nav-link",{active:"userProfileMyPosts"===e.routeName}])},{default:(0,s.w5)((()=>[ko])),_:1},8,["to","class"])]),(0,s._)("li",Fo,[(0,s.Wm)(l,{to:{name:"userProfileFavorites",params:{userSlug:e.userProfile.username}},class:(0,i.C_)(["nav-link",{active:"userProfileFavorites"===e.routeName}])},{default:(0,s.w5)((()=>[So])),_:1},8,["to","class"])])])]),(0,s.Wm)(c)])])])])):(0,s.kq)("",!0)}var Zo=(0,s.aZ)({name:"AppUserProfile",components:{AppUserProfileFallow:es},setup(){const e=hr(),t=(0,Q.yj)(),r=(0,s.Fl)((()=>e.data)),{isCurrentUserProfile:a}=ga(r),o=(0,s.Fl)((()=>t.params.userSlug)),i=(0,s.Fl)((()=>t.name));(0,s.YP)((()=>o.value),(()=>{o.value&&n()})),(0,s.bv)((()=>n()));const n=()=>{e.getUserProfile({userSlug:o.value})};return{isLoading:(0,s.Fl)((()=>e.isLoading)),userProfile:r,error:(0,s.Fl)((()=>e.error)),isCurrentUserProfile:a,routeName:i}}});const Co=(0,M.Z)(Zo,[["render",Uo]]);var Lo=Co;function Po(e,t,r,a,o,i){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}function Do(){const e=(0,Q.yj)(),t=(0,s.Fl)((()=>e.params.userSlug)),r=(0,s.Fl)((()=>{const r=e.path.includes("favorites");return r?`/articles?favorited=${t.value}`:`/articles?author=${t.value}`}));return{apiUrl:r}}var $o=(0,s.aZ)({name:"AppUserProfileMyPosts",components:{AppFeedItem:xt},setup(){return{...Do()}}});const qo=(0,M.Z)($o,[["render",Po]]);var Eo=qo;function jo(e,t,r,a,o,i){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var xo=(0,s.aZ)({name:"AppUserProfileFavorites",components:{AppFeedItem:xt},setup(){return{...Do()}}});const Io=(0,M.Z)(xo,[["render",jo]]);var Wo=Io;function To({next:e,nextMiddleware:t}){const r=T();if(!r.isLoggedIn){const t=$();t||e("/")}return t(e,t)}function Oo(e,t,r){console.log(e);const a=t[r];return a?()=>{const s=Oo(e,t,r+1);a(e,s)}:e.next}var Mo=Oo;const Vo=[{path:"/register",name:"register",component:Dr},{path:"/login",name:"login",component:zr},{path:"/",name:"mainFeed",component:ze,children:[{path:"/",name:"globalFeed",component:Tt},{path:"/yourFeed",name:"yourFeed",meta:{middlewares:[To]},component:Nt},{path:"/tags/:slug",name:"tag",meta:{middlewares:[To]},component:Rt}]},{path:"/articles/new",name:"createArticle",meta:{middlewares:[To]},component:xs},{path:"/articles/:slug",name:"article",meta:{middlewares:[To]},component:ps},{path:"/articles/:slug/edit",name:"editArticle",meta:{middlewares:[To]},component:Ms},{path:"/settings",name:"settings",component:lo,meta:{middlewares:[To]}},{path:"/profiles",name:"userProfile",meta:{middlewares:[To]},component:Lo,children:[{path:"/profiles/:userSlug",name:"userProfileMyPosts",meta:{middlewares:[To]},component:Eo},{path:"/profiles/:userSlug/favorites",name:"userProfileFavorites",meta:{middlewares:[To]},component:Wo}]}],Ho=(0,Q.p7)({history:(0,Q.PO)("/"),routes:Vo});Ho.beforeEach(((e,t,r)=>{const a=e.meta.middlewares;if(!a?.length)return r();const s={to:e,from:t,next:r},o=0,i=1;return a[o]({...s,nextMiddleware:Mo(s,a,i)})}));var No=Ho;(0,a.ri)(Y).use((0,U.WB)()).use(No).mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,o){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],o=e[c][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,s,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,i=a[0],n=a[1],l=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var c=l(r)}for(t&&t(a);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},a=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(142)}));a=r.O(a)})();