(function(){"use strict";var e={2534:function(e,t,r){var a=r(9242),s=r(3396);function i(e,t,r,a,i,o){const n=(0,s.up)("app-top-bar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n),(0,s.Wm)(l)],64)}var o=r(7139);const n={class:"navbar navbar-light"},l={class:"container"},u=(0,s.Uk)(" MediumClone "),c={class:"nav navbar-nav pull-xs-right"},d={class:"nav-item"},m=(0,s.Uk)(" Home "),g={class:"nav-item"},p=(0,s._)("i",{class:"ion-compose"},null,-1),v=(0,s.Uk)(" New Article "),f={class:"nav-item"},b=(0,s._)("i",{class:"ion-gear-a"},null,-1),w=(0,s.Uk)(" Settings "),S={class:"nav-item"},F=["src"],h={class:"nav-item"},A=(0,s.Uk)(" Sing in "),y={class:"nav-item"},_=(0,s.Uk)(" Sing up ");function U(e,t,r,a,i,U){const C=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",n,[(0,s._)("div",l,[(0,s.Wm)(C,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,s.w5)((()=>[u])),_:1}),(0,s._)("ul",c,[(0,s._)("li",d,[(0,s.Wm)(C,{class:"nav-link",to:{name:"globalFeed"},"active-class":"active"},{default:(0,s.w5)((()=>[m])),_:1})]),e.isLoggedIn?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("li",g,[(0,s.Wm)(C,{class:"nav-link",to:{name:"createArticle"},"active-class":"active"},{default:(0,s.w5)((()=>[p,v])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(C,{class:"nav-link",to:{name:"settings"},"active-class":"active"},{default:(0,s.w5)((()=>[b,w])),_:1})]),(0,s._)("li",S,[(0,s.Wm)(C,{class:"nav-link",to:{name:"userProfileMyPosts",params:{slug:e.currentUser.username}},"active-class":"active"},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"user-pic",src:e.currentUser.image},null,8,F),(0,s.Uk)(" "+(0,o.zw)(e.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,s.kq)("",!0),e.isAnonymous?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("li",h,[(0,s.Wm)(C,{class:"nav-link",to:{name:"login"},"active-class":"active"},{default:(0,s.w5)((()=>[A])),_:1})]),(0,s._)("li",y,[(0,s.Wm)(C,{class:"nav-link",to:{name:"register"},"active-class":"active"},{default:(0,s.w5)((()=>[_])),_:1})])],64)):(0,s.kq)("",!0)])])])}var C=r(65);const k="auth",P={currentUser:`[${k}] currentUser`,isLoggedIn:`[${k}] isLoggedIn`,isAnonymous:`[${k}] isAnonymous`},L={registerStart:`[${k}] registerStart`,registerSuccess:`[${k}] registerSuccess`,registerFailure:`[${k}] registerFailure`,loginStart:`[${k}] loginStart`,loginSuccess:`[${k}] loginSuccess`,loginFailure:`[${k}] loginFailure`,getCurrentUserStart:`[${k}] getCurrentUserStart`,getCurrentUserSuccess:`[${k}] getCurrentUserSuccess`,getCurrentUserFailure:`[${k}] getCurrentUserFailure`,updateCurrentUserStart:`[${k}] updateCurrentUserStart`,updateCurrentUserSuccess:`[${k}] updateCurrentUserSuccess`,updateCurrentUserFailure:`[${k}] updateCurrentUserFailure`,logout:`[${k}] logout`},$={register:`[${k}] register`,login:`[${k}] login`,getCurrentUser:`[${k}] getCurrentUser`,updateCurrentUser:`[${k}] updateCurreUser`,logout:`[${k}] logout`},T={[L.registerStart](e){e.isSubmitting=!0,e.validationErrors=null},[L.registerSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[L.registerFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[L.loginStart](e){e.isSubmitting=!0,e.validationErrors=null},[L.loginSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[L.loginFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[L.getCurrentUserStart](e){e.isLoading=!0},[L.getCurrentUserSuccess](e,t){e.currentUser=t,e.isLoading=!1,e.isLoggedIn=!0},[L.getCurrentUserFailure](e){e.isLoading=!1,e.isLoggedIn=!1,e.currentUser=null},[L.updateCurrentUserStart](){},[L.updateCurrentUserSuccess](e,t){e.currentUser=t},[L.updateCurrentUserFailure](){},[L.logout](e){e.currentUser=null,e.isLoggedIn=!1}};var Z=r(6265),D=r.n(Z);const q=e=>{try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return console.log("Error getting data from localstorage",t),null}},E=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log("Error saving data in localstorage",r)}};D().defaults.baseURL="https://conduit.productionready.io/api",D().interceptors.request.use((e=>{const t=q("accessToken"),r=t?`Token ${t}`:"";return e.headers={Authorization:r},e}));var I=D();const j=e=>I.post("/users",{user:e}),x=e=>I.post("/users/login",e),W=()=>I.get("/user"),O=e=>I.put("/user",{user:e}).then((e=>e.data.user));var V={register:j,login:x,getCurrentUser:W,updateCurrentUser:O};const M={[$.register]:async({commit:e},t)=>{try{e(L.registerStart);const{data:r}=await V.register(t);E("accessToken",r.user.token),e(L.registerSuccess,r.user)}catch(r){throw e(L.registerFailure,r.response.data.errors),r}},[$.login]:async({commit:e},t)=>{try{e(L.loginStart);const{data:r}=await V.login(t);E("accessToken",r.user.token),e(L.loginSuccess,r.user)}catch(r){throw e(L.loginFailure,r.response.data.errors),r}},[$.getCurrentUser]:async({commit:e})=>{try{e(L.getCurrentUserStart);const{data:t}=await V.getCurrentUser();e(L.getCurrentUserSuccess,t.user)}catch(t){throw e(L.getCurrentUserFailure),t}},[$.updateCurrentUser]:async({commit:e},{currentUserInput:t})=>{try{e(L.updateCurrentUserStart);const r=await V.updateCurrentUser(t);e(L.updateCurrentUserSuccess,r)}catch(r){throw console.dir(r),e(L.updateCurrentUserFailure,r.response.data.errors),r}},[$.logout]:async({commit:e})=>{try{E("accessToken",""),e(L.logout)}catch(t){throw console.log(t),t}}},N={[P.currentUser]:e=>e.currentUser,[P.isLoggedIn]:e=>Boolean(e.isLoggedIn),[P.isAnonymous]:e=>!1===e.isLoggedIn},R={isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null},H={state:R,getters:N,mutations:T,actions:M},z="feed",Y={getFeedStart:`[${z}] getFeedStart`,getFeedSuccess:`[${z}] getFeedSuccess`,getFeedFailure:`[${z}] getFeedFailure`},B={getFeed:`[${z}] getFeed`},J={[Y.getFeedStart](e){e.isLoading=!0,e.data=null},[Y.getFeedSuccess](e,t){e.isLoading=!1,e.data=t},[Y.getFeedFailure](e){e.isLoading=!1}},K=e=>I.get(e);var G={getFeed:K};const Q={[B.getFeed]:async({commit:e},{apiUrl:t})=>{try{e(Y.getFeedStart);const{data:r}=await G.getFeed(t);e(Y.getFeedSuccess,r)}catch(r){throw e(Y.getFeedFailure),r}}},X={data:null,isLoading:!1,error:null},ee={state:X,mutations:J,actions:Q},te="popularTags",re={getPopularTagsStart:`[${te}] getPopularTagsStart`,getPopularTagsSuccess:`[${te}] getPopularTagsSuccess`,getPopularTagsFailure:`[${te}] getPopularTagsFailure`},ae={getPopularTags:`[${te}] getPopularTags`},se={[re.getPopularTagsStart](e){e.isLoading=!0,e.data=null},[re.getPopularTagsSuccess](e,t){e.isLoading=!1,e.data=t},[re.getPopularTagsFailure](e){e.isLoading=!1}},ie=()=>I.get("/tags").then((e=>e.data.tags));var oe={getPopularTags:ie};const ne={[ae.getPopularTags]:async({commit:e})=>{try{e(re.getPopularTagsStart);const t=await oe.getPopularTags();e(re.getPopularTagsSuccess,t)}catch(t){throw e(re.getPopularTagsFailure),t}}},le={data:null,isLoading:!1,error:null},ue={state:le,mutations:se,actions:ne},ce="article",de={getArticleStart:`[${ce}] getArticleStart`,getArticleSuccess:`[${ce}] getArticleSuccess`,getArticleFailure:`[${ce}] getArticleFailure`,deleteArticleStart:`[${ce}] deleteArticleStart`,deleteArticleSuccess:`[${ce}] deleteArticleSuccess`,deleteArticleFailure:`[${ce}] deleteArticleFailure`},me={getArticle:`[${ce}] getArticle`,deleteArticle:`[${ce}] deleteArticle`},ge={[de.getArticleStart](e){e.isLoading=!0,e.data=null},[de.getArticleSuccess](e,t){e.isLoading=!1,e.data=t},[de.getArticleFailure](e){e.isLoading=!1},[de.deleteArticleStart](){},[de.deleteArticleSuccess](){},[de.deleteArticleFailure](){}},pe=e=>I.get(`/articles/${e}`).then((e=>e.data.article)),ve=e=>I.post("/articles",{article:e}).then((e=>e.data.article)),fe=(e,t)=>I.put(`/articles/${e}`,{article:t}).then((e=>e.data.article)),be=e=>I["delete"](`/articles/${e}`);var we={getArticle:pe,deleteArticle:be,createArticle:ve,updateArticle:fe};const Se={[me.getArticle]:async({commit:e},{slug:t})=>{try{e(de.getArticleStart);const r=await we.getArticle(t);e(de.getArticleSuccess,r)}catch(r){throw e(de.getArticleFailure),r}},[me.deleteArticle]:async({commit:e},{slug:t})=>{try{e(de.deleteArticleStart),await we.deleteArticle(t),e(de.deleteArticleSuccess)}catch(r){throw e(de.deleteArticleFailure),r}}},Fe={data:null,isLoading:!1,error:null},he={state:Fe,mutations:ge,actions:Se},Ae="createArticle",ye={createArticleStart:`[${Ae}] createArticleStart`,createArticleSuccess:`[${Ae}] createArticleSuccess`,createArticleFailure:`[${Ae}] createArticleFailure`},_e={createArticle:`[${Ae}] createArticle`},Ue={[ye.createArticleStart](e){e.isSubmitting=!0},[ye.createArticleSuccess](e){e.isSubmitting=!1},[ye.createArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},Ce={[_e.createArticle]:async({commit:e},t)=>{try{e(ye.createArticleStart);const r=await we.createArticle(t);return e(ye.createArticleSuccess),r}catch(r){throw e(ye.createArticleFailure,r.response.data.errors),r}}},ke={isSubmitting:!1,validationErrors:null},Pe={state:ke,mutations:Ue,actions:Ce},Le="editArticle",$e={updateArticleStart:`[${Le}] updateArticleStart`,updateArticleSuccess:`[${Le}] updateArticleSuccess`,updateArticleFailure:`[${Le}] updateArticleFailure`,getArticleStart:`[${Le}] getArticleStart`,getArticleSuccess:`[${Le}] getArticleSuccess`,getArticleFailure:`[${Le}] getArticleFailure`},Te={updateArticle:`[${Le}] updateArticle`,getArticle:`[${Le}] getArticle`},Ze={[$e.updateArticleStart](e){e.isSubmitting=!0},[$e.updateArticleSuccess](e){e.isSubmitting=!1},[$e.updateArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[$e.getArticleStart](e){e.isLoading=!0},[$e.getArticleSuccess](e,t){e.isLoading=!1,e.article=t},[$e.getArticleFailure](e){e.isLoading=!1}},De={[Te.updateArticle]:async({commit:e},{slug:t,articleInput:r})=>{try{e($e.updateArticleStart);const a=await we.updateArticle(t,r);return e($e.updateArticleSuccess,a),a}catch(a){throw e($e.updateArticleFailure,a.response.data.errors),a}},[Te.getArticle]:async({commit:e},{slug:t})=>{try{e($e.getArticleStart);const r=await we.getArticle(t);return e($e.getArticleSuccess,r),r}catch(r){throw e($e.getArticleFailure),r}}},qe={isSubmitting:!1,validationErrors:null,isLoading:!1,article:null},Ee={state:qe,mutations:Ze,actions:De},Ie={[L.updateCurrentUserStart](e){e.isSubmitting=!0,e.validationErrors=null},[L.updateCurrentUserSuccess](e){e.isSubmitting=!1},[L.updateCurrentUserFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},je={isSubmitting:!1,validationErrors:null},xe={state:je,mutations:Ie},We="addToFavorites",Oe={addToFavoritesStart:`[${We}] addToFavoritesStart`,addToFavoritesSuccess:`[${We}] addToFavoritesSuccess`,addToFavoritesFailure:`[${We}] addToFavoritesFailure`},Ve={addToFavorites:`[${We}] addToFavorites`},Me={[Oe.addToFavoritesStart](){},[Oe.addToFavoritesSuccess](){},[Oe.addToFavoritesFailure](){}},Ne=e=>I.post(`/articles/${e}/favorite`,{}).then((e=>e.data.article)),Re=e=>I["delete"](`/articles/${e}/favorite`).then((e=>e.data.article));var He={addToFavorites:Ne,removeFromFavorites:Re};const ze={[Ve.addToFavorites]:async({commit:e},{slug:t,isFavorited:r})=>{try{e(Oe.addToFavoritesStart);const a=r?await He.removeFromFavorites(t):await He.addToFavorites(t);e(Oe.addToFavoritesSuccess,a)}catch(a){throw e(Oe.addToFavoritesFailure),a}}},Ye={mutations:Me,actions:ze},Be="userProfile",Je={getUserProfileStart:`[${Be}] getUserProfileStart`,getUserProfileSuccess:`[${Be}] getUserProfileSuccess`,getUserProfileFailure:`[${Be}] getUserProfileFailure`,addToFallowStart:`[${Be}] addToFallowStart`,addToFallowSuccess:`[${Be}] addToFallowSuccess`,addToFallowFailure:`[${Be}] addToFallowFailure`},Ke={getUserProfile:`[${Be}] getUserProfile`,addToFallow:`[${Be}] addToFallow`},Ge={[Je.getUserProfileStart](e){e.isLoading=!0,e.data=null},[Je.getUserProfileSuccess](e,t){e.isLoading=!1,e.data=t},[Je.getUserProfileFailure](e){e.isLoading=!1},[Je.addToFallowStart](){},[Je.addToFallowSuccess](){},[Je.addToFallowFailure](){}},Qe=e=>I.get(`/profiles/${e}`).then((e=>e.data.profile)),Xe=e=>I.post(`/profiles/${e}/follow`,{}).then((e=>e.data.profile)),et=e=>I["delete"](`/profiles/${e}/follow`).then((e=>e.data.profile));var tt={getUserProfile:Qe,addToFallow:Xe,removeFromFallow:et};const rt={[Ke.getUserProfile]:async({commit:e},{slug:t})=>{try{e(Je.getUserProfileStart);const r=await tt.getUserProfile(t);e(Je.getUserProfileSuccess,r)}catch(r){throw e(Je.getUserProfileFailure),r}},[Ke.addToFallow]:async({commit:e},{slug:t,isFallow:r})=>{try{e(Je.addToFallowStart),r?await tt.removeFromFallow(t):await tt.addToFallow(t),e(Je.addToFallowSuccess)}catch(a){throw e(Je.addToFallowFailure),a}}},at={data:null,isLoading:!1,error:null},st={state:at,mutations:Ge,actions:rt},it="comments",ot={getCommentsStart:`[${it}] getCommentsStart`,getCommentsSuccess:`[${it}] getCommentsSuccess`,getCommentsFailure:`[${it}] getCommentsFailure`,deleteCommentStart:`[${it}] deleteCommentStart`,deleteCommentSuccess:`[${it}] deleteCommentSuccess`,deleteCommentFailure:`[${it}] deleteCommentFailure`,addCommentStart:`[${it}] addCommentStart`,addCommentSuccess:`[${it}] addCommentSuccess`,addCommentFailure:`[${it}] addCommentFailure`},nt={getComments:`[${it}] getComments`,deleteComment:`[${it}] deleteComment`,addComment:`[${it}] addComment`},lt={[ot.getCommentsStart](e){e.isLoading=!0,e.data=null},[ot.getCommentsSuccess](e,t){e.isLoading=!1,e.data=t.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))},[ot.getCommentsFailure](e){e.isLoading=!1},[ot.deleteCommentStart](){},[ot.deleteCommentSuccess](e,{slugComment:t}){e.data=e.data.filter((e=>e.id!=t))},[ot.deleteCommentFailure](){},[ot.addCommentStart](){},[ot.addCommentSuccess](e,t){e.data.unshift(t)},[ot.addCommentFailure](e,t){e.error=t}},ut=e=>I.get(`/articles/${e}/comments`).then((e=>e.data.comments)),ct=({slugArticle:e,comment:t})=>I.post(`/articles/${e}/comments`,{comment:t}).then((e=>e.data.comment)),dt=({slugArticle:e,slugComment:t})=>I["delete"](`/articles/${e}/comments/${t}`);var mt={getComments:ut,deleteComment:dt,addComment:ct};const gt={[nt.getComments]:async({commit:e},{slug:t})=>{try{e(ot.getCommentsStart);const r=await mt.getComments(t);e(ot.getCommentsSuccess,r)}catch(r){throw e(ot.getCommentsFailure),r}},[nt.addComment]:async({commit:e},t)=>{try{e(ot.addCommentStart);const r=await mt.addComment(t);e(ot.addCommentSuccess,r)}catch(r){throw e(ot.addCommentFailure,r.response.data.errors),r}},[nt.deleteComment]:async({commit:e},t)=>{try{e(ot.deleteCommentStart),await mt.deleteComment(t),e(ot.deleteCommentSuccess,t)}catch(r){throw e(ot.deleteCommentFailure),r}}},pt={data:null,isLoading:!1,error:null},vt={state:pt,mutations:lt,actions:gt},ft=Symbol(),bt=(0,C.MT)({mutations:{},actions:{},modules:{auth:H,feed:ee,popularTags:ue,article:he,createArticle:Pe,editArticle:Ee,settings:xe,addToFavorites:Ye,userProfile:st,comments:vt}});var wt=(0,s.aZ)({name:"AppTopBar",setup(){const e=(0,C.oR)(ft),t=(0,s.Fl)((()=>e.getters[P.currentUser])),r=(0,s.Fl)((()=>e.getters[P.isLoggedIn])),a=(0,s.Fl)((()=>e.getters[P.isAnonymous]));return{currentUser:t,isAnonymous:a,isLoggedIn:r}}}),St=r(89);const Ft=(0,St.Z)(wt,[["render",U]]);var ht=Ft,At=(0,s.aZ)({name:"App",components:{AppTopBar:ht},setup(){const e=(0,C.oR)(ft);(0,s.bv)((()=>{e.dispatch($.getCurrentUser)}))}});const yt=(0,St.Z)(At,[["render",i]]);var _t=yt,Ut=r(678);const Ct={class:"home-page"},kt={class:"container page"},Pt={class:"row"},Lt={class:"col-md-9"},$t={class:"col-md-3"};function Tt(e,t,r,a,i,o){const n=(0,s.up)("app-banner-item"),l=(0,s.up)("app-feed-toggle"),u=(0,s.up)("router-view"),c=(0,s.up)("app-popular-tags");return(0,s.wg)(),(0,s.iD)("div",Ct,[(0,s.Wm)(n),(0,s._)("div",kt,[(0,s._)("div",Pt,[(0,s._)("div",Lt,[(0,s.Wm)(l,{"tag-name":e.tagName},null,8,["tag-name"]),(0,s.Wm)(u)]),(0,s._)("div",$t,[(0,s.Wm)(c)])])])])}const Zt={key:2,class:"sidebar"},Dt=(0,s._)("p",null,"Popular Tags",-1),qt={class:"tag-list"};function Et(e,t,r,a,i,n){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[e.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),e.tags?((0,s.wg)(),(0,s.iD)("div",Zt,[Dt,(0,s._)("div",qt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tags,(e=>((0,s.wg)(),(0,s.j4)(c,{key:e,to:{name:"tag",params:{slug:e}},class:"tag-default tag-pill"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e),1)])),_:2},1032,["to"])))),128))])])):(0,s.kq)("",!0)])}function It(e){const t=(0,C.oR)(ft),r=t.state[e];return{isLoading:(0,s.Fl)((()=>r.isLoading)),data:(0,s.Fl)((()=>r.data)),error:(0,s.Fl)((()=>r.error))}}const jt=e=>((0,s.dD)("data-v-314d36a7"),e=e(),(0,s.Cn)(),e),xt={class:"loader"},Wt=jt((()=>(0,s._)("div",{class:"inner one"},null,-1))),Ot=jt((()=>(0,s._)("div",{class:"inner two"},null,-1))),Vt=jt((()=>(0,s._)("div",{class:"inner three"},null,-1))),Mt=[Wt,Ot,Vt];function Nt(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",xt,Mt)}var Rt=(0,s.aZ)({name:"AppLoadingItem"});const Ht=(0,St.Z)(Rt,[["render",Nt],["__scopeId","data-v-314d36a7"]]);var zt=Ht;function Yt(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("div",null,(0,o.zw)(e.message),1)}var Bt=(0,s.aZ)({name:"AppErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}});const Jt=(0,St.Z)(Bt,[["render",Yt]]);var Kt=Jt,Gt=(0,s.aZ)({name:"AppPopularTags",components:{AppLoadingItem:zt,AppErrorMessage:Kt},setup(){const e=(0,C.oR)(ft),{isLoading:t,data:r,error:a}=It("popularTags");return(0,s.bv)((()=>{e.dispatch(ae.getPopularTags)})),{isLoading:t,tags:r,error:a}}});const Qt=(0,St.Z)(Gt,[["render",Et]]);var Xt=Qt;const er={class:"banner"},tr=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Medium clone"),(0,s._)("p",null,"A place to share knowledge")],-1),rr=[tr];function ar(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",er,rr)}var sr=(0,s.aZ)({name:"AppBannerItem"});const ir=(0,St.Z)(sr,[["render",ar]]);var or=ir;const nr={class:"feed-toggle"},lr={class:"nav nav-pills outline-active"},ur={key:0,class:"nav-item"},cr=(0,s.Uk)(" Your Feed "),dr={class:"nav-item"},mr=(0,s.Uk)(" Global Feed "),gr={key:1,class:"nav-item"},pr=(0,s._)("i",{class:"ion-pound"},null,-1);function vr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",nr,[(0,s._)("ul",lr,[e.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",ur,[(0,s.Wm)(l,{to:{name:"yourFeed"},class:(0,o.C_)(["nav-link",{active:"yourFeed"===e.routeName}])},{default:(0,s.w5)((()=>[cr])),_:1},8,["class"])])):(0,s.kq)("",!0),(0,s._)("li",dr,[(0,s.Wm)(l,{to:{name:"globalFeed"},class:(0,o.C_)(["nav-link",{active:"globalFeed"===e.routeName}])},{default:(0,s.w5)((()=>[mr])),_:1},8,["class"])]),e.tagName?((0,s.wg)(),(0,s.iD)("li",gr,[(0,s.Wm)(l,{to:{name:"tag"},class:(0,o.C_)(["nav-link",{active:"tag"===e.routeName}])},{default:(0,s.w5)((()=>[pr,(0,s.Uk)(" "+(0,o.zw)(e.tagName),1)])),_:1},8,["class"])])):(0,s.kq)("",!0)])])}var fr=(0,s.aZ)({name:"AppFeedToggle",props:{tagName:{type:String,required:!1}},setup(){const e=(0,C.oR)(ft),t=(0,Ut.yj)(),r=(0,s.Fl)((()=>e.getters[P.isLoggedIn])),a=(0,s.Fl)((()=>t.name));return{isLoggedIn:r,routeName:a}}});const br=(0,St.Z)(fr,[["render",vr]]);var wr=br,Sr=(0,s.aZ)({name:"AppFeedPage",components:{AppPopularTags:Xt,AppBannerItem:or,AppFeedToggle:wr},setup(){const e=(0,Ut.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t}}});const Fr=(0,St.Z)(Sr,[["render",Tt]]);var hr=Fr;function Ar(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}const yr=e=>((0,s.dD)("data-v-d47647bc"),e=e(),(0,s.Cn)(),e),_r={key:2},Ur={class:"article-meta"},Cr={class:"pull-xs-right"},kr=yr((()=>(0,s._)("span",null,"Read more...",-1)));function Pr(e,t,r,a,i,n){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("app-user-info"),d=(0,s.up)("app-add-to-favorites"),m=(0,s.up)("app-tags-list"),g=(0,s.up)("router-link"),p=(0,s.up)("app-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),e.feed?((0,s.wg)(),(0,s.iD)("div",_r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.feed.articles,((t,r)=>((0,s.wg)(),(0,s.iD)("div",{class:"article-preview",key:r},[(0,s._)("div",Ur,[(0,s.Wm)(c,{user:t.author,date:e.convertDateJsonToDate(t.createdAt).toLocaleString()},null,8,["user","date"]),(0,s._)("div",Cr,[(0,s.Wm)(d,{"is-favorited":t.favorited,"article-slug":t.slug,"favorites-count":t.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])])]),(0,s.Wm)(g,{to:{name:"article",params:{slug:t.slug}},class:"preview-link"},{default:(0,s.w5)((()=>[(0,s._)("h1",null,(0,o.zw)(t.title),1),(0,s._)("p",null,(0,o.zw)(t.description),1),kr,(0,s.Wm)(m,{tags:t.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,s.Wm)(p,{total:e.feed.articlesCount,limit:e.limit,"current-page":e.currentPage,url:e.baseUrl},null,8,["total","limit","current-page","url"])])):(0,s.kq)("",!0)],64)}const Lr=5,$r=e=>{try{return new Date(e)}catch(t){console.log("Error convert date",t)}};var Tr=r(4782);const Zr={class:"pagination"};function Dr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("ul",Zr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pages,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:(0,o.C_)(["page-item",{active:e.currentPage===t}])},[(0,s.Wm)(l,{to:{path:e.url,query:{page:t}},class:"page-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(t),1)])),_:2},1032,["to"])],2)))),128))])}const qr=(e,t)=>[...Array(t).keys()].map((t=>t+e));var Er=(0,s.aZ)({name:"AppPagination",props:{total:{type:Number,requred:!0},limit:{type:Number,requred:!0},currentPage:{type:Number,requred:!0},url:{type:String,requred:!0}},setup(e){const t=(0,s.Fl)((()=>{const t=Math.ceil((e.total??0)/(e.limit??0));return qr(1,t)}));return{pages:t}}});const Ir=(0,St.Z)(Er,[["render",Dr]]);var jr=Ir;const xr={key:0,class:"tag-list"};function Wr(e,t,r,a,i,n){return e.tags.length?((0,s.wg)(),(0,s.iD)("ul",xr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tags,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:"tag-default tag-pill tag-outline ng-binding ng-scope"},(0,o.zw)(e),1)))),128))])):(0,s.kq)("",!0)}var Or=(0,s.aZ)({name:"AppTagsList",props:{tags:{type:Array,required:!0}}});const Vr=(0,St.Z)(Or,[["render",Wr]]);var Mr=Vr;const Nr=(0,s._)("i",{class:"ion-heart"},null,-1);function Rr(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("button",{class:(0,o.C_)(["btn btn-sm",{"btn-primary":e.isFavoritedOptimistic,"btn-outline-primary":!e.isFavoritedOptimistic}]),onClick:t[0]||(t[0]=(...t)=>e.handleLike&&e.handleLike(...t))},[Nr,(0,s.Uk)(" "+(0,o.zw)(e.favoritesCountOptimistic),1)],2)}var Hr=r(4870),zr=(0,s.aZ)({name:"AppAddToFavorites",props:{isFavorited:{type:Boolean,requred:!0},articleSlug:{type:String,requred:!0},favoritesCount:{type:Number,requred:!0},text:{type:String,requred:!1}},setup(e){const t=(0,C.oR)(ft),r=(0,Hr.iH)(e.isFavorited??!1),a=(0,Hr.iH)(e.favoritesCount??0),s=()=>{t.dispatch(Ve.addToFavorites,{slug:e.articleSlug,isFavorited:r.value}),r.value?a.value-=1:a.value+=1,r.value=!r.value};return{handleLike:s,isFavoritedOptimistic:r,favoritesCountOptimistic:a}}});const Yr=(0,St.Z)(zr,[["render",Rr]]);var Br=Yr;const Jr={key:0,class:"user-info"},Kr=["src"],Gr={class:"info"},Qr={key:0,class:"date"};function Xr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return e.user?((0,s.wg)(),(0,s.iD)("div",Jr,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:e.user.username}}},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"comment-author-img",src:e.user.image},null,8,Kr)])),_:1},8,["to"]),(0,s._)("div",Gr,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:e.user.username}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.user.username),1)])),_:1},8,["to"]),e.date?((0,s.wg)(),(0,s.iD)("span",Qr,(0,o.zw)(e.date),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}var ea=(0,s.aZ)({name:"AppUserInfo",props:{user:{type:Object,requred:!0},date:{type:String,requred:!1}}});const ta=(0,St.Z)(ea,[["render",Xr]]);var ra=ta,aa=(0,s.aZ)({name:"AppFeedItem",components:{AppPagination:jr,AppLoadingItem:zt,AppErrorMessage:Kt,AppTagsList:Mr,AppAddToFavorites:Br,AppUserInfo:ra},props:{apiUrl:{type:String,requred:!0}},setup(e){const t=(0,Ut.yj)(),r=(0,C.oR)(ft),a=(0,s.Fl)((()=>Number(t.query.page||"1"))),i=(0,s.Fl)((()=>a.value*Lr-Lr)),{isLoading:o,data:n,error:l}=It("feed"),u=(0,s.Fl)((()=>t.path));(0,s.bv)((()=>c())),(0,s.YP)(a,(()=>c())),(0,s.YP)((()=>e.apiUrl),(()=>c()));const c=()=>{const t=(0,Tr.parseUrl)(e.apiUrl??""),a=(0,Tr.stringify)({limit:Lr,offset:i.value,...t.query}),s=`${t.url}?${a}`;r.dispatch(B.getFeed,{apiUrl:s})};return{isLoading:o,feed:n,error:l,currentPage:a,limit:Lr,baseUrl:u,convertDateJsonToDate:$r}}});const sa=(0,St.Z)(aa,[["render",Pr],["__scopeId","data-v-d47647bc"]]);var ia=sa,oa=(0,s.aZ)({name:"AppGlobalFeed",components:{AppFeedItem:ia},setup(){return{apiUrl:(0,Hr.iH)("/articles")}}});const na=(0,St.Z)(oa,[["render",Ar]]);var la=na;const ua={class:"home-page"};function ca(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.iD)("div",ua,[(0,s.Wm)(n,{"api-url":e.apiUrl},null,8,["api-url"])])}var da=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:ia},setup(){return{apiUrl:(0,Hr.iH)("/articles/feed")}}});const ma=(0,St.Z)(da,[["render",ca]]);var ga=ma;function pa(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var va=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:ia},setup(){const e=(0,Ut.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t,apiUrl:(0,s.Fl)((()=>`articles?tag=${t.value}`))}}});const fa=(0,St.Z)(va,[["render",pa]]);var ba=fa;const wa={class:"auth-page"},Sa={class:"container page"},Fa={class:"row"},ha={class:"col-md-6 offset-md-3 col-xs-12"},Aa=(0,s._)("h1",{class:"text-xs-center"},"Sign up",-1),ya={class:"text-xs-center"},_a=(0,s.Uk)(" Have an account? "),Ua={class:"form-group"},Ca={class:"form-group"},ka={class:"form-group"},Pa=["disabled"];function La(e,t,r,i,o,n){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",wa,[(0,s._)("div",Sa,[(0,s._)("div",Fa,[(0,s._)("div",ha,[Aa,(0,s._)("p",ya,[(0,s.Wm)(l,{to:{name:"login"}},{default:(0,s.w5)((()=>[_a])),_:1})]),e.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",Ua,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=t=>e.user.username=t)},null,512),[[a.nr,e.user.username]])]),(0,s._)("fieldset",Ca,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=t=>e.user.email=t)},null,512),[[a.nr,e.user.email]])]),(0,s._)("fieldset",ka,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=t=>e.user.password=t)},null,512),[[a.nr,e.user.password]])]),(0,s._)("button",{disabled:e.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign Up ",8,Pa)],32)])])])])}const $a={class:"error-messages"};function Ta(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("ul",$a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.errorMessages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,o.zw)(e),1)))),128))])}var Za=(0,s.aZ)({name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},setup(e){const t=(0,s.Fl)((()=>Object.keys(e.validationErrors).map((t=>{const r=e.validationErrors[t].join(", ");return`${t} ${r}`}))));return{errorMessages:t}}});const Da=(0,St.Z)(Za,[["render",Ta]]);var qa=Da,Ea=(0,s.aZ)({name:"AppRegisterPage",setup(){const e=(0,C.oR)(ft),t=(0,Ut.tv)(),r=(0,Hr.qj)({username:"",email:"",password:""}),a=(0,s.Fl)((()=>e.state.auth.isSubmitting)),i=(0,s.Fl)((()=>e.state.auth.validationErrors)),o=()=>{e.dispatch($.register,r).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:o,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:qa}});const Ia=(0,St.Z)(Ea,[["render",La]]);var ja=Ia;const xa={class:"auth-page"},Wa={class:"container page"},Oa={class:"row"},Va={class:"col-md-6 offset-md-3 col-xs-12"},Ma=(0,s._)("h1",{class:"text-xs-center"},"Sign in",-1),Na={class:"text-xs-center"},Ra=(0,s.Uk)(" Need an account? "),Ha={class:"form-group"},za={class:"form-group"},Ya=["disabled"];function Ba(e,t,r,i,o,n){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",xa,[(0,s._)("div",Wa,[(0,s._)("div",Oa,[(0,s._)("div",Va,[Ma,(0,s._)("p",Na,[(0,s.Wm)(l,{to:{name:"register"}},{default:(0,s.w5)((()=>[Ra])),_:1})]),e.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",Ha,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=t=>e.user.email=t)},null,512),[[a.nr,e.user.email]])]),(0,s._)("fieldset",za,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=t=>e.user.password=t)},null,512),[[a.nr,e.user.password]])]),(0,s._)("button",{disabled:e.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign In ",8,Ya)],32)])])])])}var Ja=(0,s.aZ)({name:"AppLoginPage",setup(){const e=(0,C.oR)(ft),t=(0,Ut.tv)(),r=(0,Hr.qj)({email:"",password:""}),a=(0,s.Fl)((()=>e.state.auth.isSubmitting)),i=(0,s.Fl)((()=>e.state.auth.validationErrors)),o=()=>{e.dispatch($.login,{user:r}).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:o,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:qa}});const Ka=(0,St.Z)(Ja,[["render",Ba]]);var Ga=Ka;const Qa={key:0,class:"article-page"},Xa={class:"banner"},es={class:"container"},ts={class:"article-meta"},rs={class:"container page"},as={class:"row article-content"},ss={class:"col-xs-12"},is=(0,s._)("hr",null,null,-1),os={class:"row"},ns={class:"col-xs-12 col-md-8 offset-md-2"},ls={class:"article-actions"};function us(e,t,r,a,i,n){const l=(0,s.up)("app-article-user-info"),u=(0,s.up)("app-loading-item"),c=(0,s.up)("app-error-message"),d=(0,s.up)("app-tags-list"),m=(0,s.up)("app-add-comment-form"),g=(0,s.up)("app-comment-list");return e.article?((0,s.wg)(),(0,s.iD)("div",Qa,[(0,s._)("div",Xa,[(0,s._)("div",es,[(0,s._)("h1",null,(0,o.zw)(e.article.title),1),(0,s._)("div",ts,[(0,s.Wm)(l,{article:e.article},null,8,["article"])])])]),(0,s._)("div",rs,[e.isLoading?((0,s.wg)(),(0,s.j4)(u,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(c,{key:1,message:e.error},null,8,["message"])):(0,s.kq)("",!0),(0,s._)("div",as,[(0,s._)("div",ss,[(0,s._)("div",null,[(0,s._)("p",null,(0,o.zw)(e.article.body),1)]),(0,s.Wm)(d,{tags:e.article.tagList},null,8,["tags"])])]),is,(0,s._)("div",os,[(0,s._)("div",ns,[(0,s._)("div",ls,[(0,s.Wm)(l,{article:e.article},null,8,["article"])]),(0,s.Wm)(m,{onAddComment:e.addComment,"is-submitting":e.isSubmittingAddComment,errors:e.validationErrors},null,8,["onAddComment","is-submitting","errors"]),(0,s.Wm)(g,{slug:e.article.slug},null,8,["slug"])])])])])):(0,s.kq)("",!0)}const cs={key:0};function ds(e,t,r,a,i,o){const n=(0,s.up)("app-comment-item");return e.comments?((0,s.wg)(),(0,s.iD)("div",cs,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.comments,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s.Wm)(n,{comment:t,onDeleteComment:e.deleteComment},null,8,["comment","onDeleteComment"])])))),128))])):(0,s.kq)("",!0)}const ms=e=>((0,s.dD)("data-v-72ab5827"),e=e(),(0,s.Cn)(),e),gs={key:0,class:"card"},ps={class:"card-block"},vs={class:"card-text"},fs={class:"card-footer"},bs=ms((()=>(0,s._)("i",{class:"ion-trash-a"},null,-1))),ws=[bs];function Ss(e,t,r,a,i,n){const l=(0,s.up)("app-user-info");return e.comment?((0,s.wg)(),(0,s.iD)("div",gs,[(0,s._)("div",ps,[(0,s._)("p",vs,(0,o.zw)(e.comment.body),1)]),(0,s._)("div",fs,[(0,s.Wm)(l,{user:e.comment.author,date:e.convertDateJsonToDate(e.comment.createdAt).toLocaleString()},null,8,["user","date"]),e.isCurrentUserProfile?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"mod-options",onClick:t[0]||(t[0]=t=>e.deleteComment(e.comment.id))},ws)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}function Fs(e){const t=(0,C.oR)(ft),r=(0,s.Fl)((()=>t.getters[P.currentUser])),a=(0,s.Fl)((()=>!!(e&&r.value&&e.value)&&r.value.username===e.value.username));return{currentUser:r,isCurrentUserProfile:a}}var hs=(0,s.aZ)({name:"AppCommentItem",emits:["deleteComment"],components:{AppUserInfo:ra},props:{comment:{type:Object,required:!0}},setup(e,{emit:t}){const{currentUser:r,isCurrentUserProfile:a}=Fs((0,Hr.iH)(e.comment.author)),s=e=>{t("deleteComment",{slugComment:e})};return{isCurrentUserProfile:a,currentUser:r,deleteComment:s,convertDateJsonToDate:$r}}});const As=(0,St.Z)(hs,[["render",Ss],["__scopeId","data-v-72ab5827"]]);var ys=As,_s=(0,s.aZ)({name:"AppCommentList",components:{AppCommentItem:ys},props:{slug:{type:String,required:!0}},setup(e){const t=(0,C.oR)(ft);(0,s.bv)((()=>{t.dispatch(nt.getComments,{slug:e.slug})}));const{isLoading:r,data:a,error:i}=It("comments"),o=({slugComment:r})=>{const a={slugArticle:e.slug,slugComment:r};t.dispatch(nt.deleteComment,a)};return{isLoading:r,comments:a,error:i,deleteComment:o}}});const Us=(0,St.Z)(_s,[["render",ds]]);var Cs=Us;const ks={key:0},Ps={class:"card-block"},Ls=["disabled"],$s={class:"card-footer"},Ts=["src"],Zs=["disabled"];function Ds(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return e.currentUser?((0,s.wg)(),(0,s.iD)("div",ks,[e.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{class:"card comment-form",onSubmit:t[1]||(t[1]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("div",Ps,[(0,s.wy)((0,s._)("textarea",{class:"form-control",disabled:e.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=t=>e.commentInput.body=t)},null,8,Ls),[[a.nr,e.commentInput.body]])]),(0,s._)("div",$s,[(0,s._)("img",{class:"comment-author-img",src:e.currentUser.image},null,8,Ts),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:e.isSubmitting},"Post Comment",8,Zs)])],32)])):(0,s.kq)("",!0)}var qs=r(2482);class Es{constructor(e={username:"",bio:"",image:""}){(0,qs.Z)(this,"username",void 0),(0,qs.Z)(this,"bio",void 0),(0,qs.Z)(this,"image",void 0),this.username=e.username,this.bio=e.bio,this.image=e.image}}class Is extends Es{constructor(e={username:"",bio:"",image:"",following:!1}){super(e),(0,qs.Z)(this,"following",void 0),this.following=e.following}}class js{constructor(e={id:0,author:new Is,body:"",createdAt:"",updatedAt:""}){(0,qs.Z)(this,"id",void 0),(0,qs.Z)(this,"author",void 0),(0,qs.Z)(this,"body",void 0),(0,qs.Z)(this,"createdAt",void 0),(0,qs.Z)(this,"updatedAt",void 0),this.id=e.id,this.author=e.author,this.body=e.body,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt}}var xs=(0,s.aZ)({name:"AppAddCommentForm",emits:["addComment"],props:{isSubmitting:{type:Boolean,default:!1},errors:{type:Object,required:!1}},components:{AppValidationErrors:qa},setup(e,{emit:t}){const r=(0,C.oR)(ft),a=(0,Hr.qj)(new js);(0,s.YP)((()=>e.isSubmitting),(e=>{e||(a.body="")}));const i=()=>t("addComment",a);return{commentInput:a,onSubmit:i,currentUser:(0,s.Fl)((()=>r.getters[P.currentUser]))}}});const Ws=(0,St.Z)(xs,[["render",Ds]]);var Os=Ws;const Vs={class:"article-meta d-flex"},Ms={key:0},Ns=(0,s._)("i",{class:"ion-edit"},null,-1),Rs=(0,s.Uk)(" Edit Article "),Hs=(0,s.Uk)("   "),zs=(0,s._)("i",{class:"ion-trash-a"},null,-1),Ys=(0,s.Uk)(" Delete Article "),Bs=[zs,Ys],Js={key:1},Ks=(0,s._)("i",{class:"ion-plus-round"},null,-1),Gs={key:0},Qs={key:1},Xs=(0,s.Uk)("   ");function ei(e,t,r,a,i,n){const l=(0,s.up)("app-user-info"),u=(0,s.up)("router-link"),c=(0,s.up)("app-add-to-favorites");return(0,s.wg)(),(0,s.iD)("div",Vs,[(0,s.Wm)(l,{user:e.article.author,date:e.convertDateJsonToDate(e.article.createdAt).toLocaleString()},null,8,["user","date"]),e.article?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.isAuthor?((0,s.wg)(),(0,s.iD)("span",Ms,[(0,s.Wm)(u,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:e.article.slug}}},{default:(0,s.w5)((()=>[Ns,Rs])),_:1},8,["to"]),Hs,(0,s._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=(...t)=>e.deleteArticle&&e.deleteArticle(...t))},Bs)])):((0,s.wg)(),(0,s.iD)("span",Js,[(0,s._)("button",{type:"button",class:(0,o.C_)(["btn btn-sm action-btn",{"btn-secondary":e.isFollowing,"btn-outline-secondary":!e.isFollowing}]),onClick:t[1]||(t[1]=(...t)=>e.onFallow&&e.onFallow(...t))},[Ks,e.isFollowing?((0,s.wg)(),(0,s.iD)("span",Gs," UnFollow "+(0,o.zw)(e.article.author.username),1)):((0,s.wg)(),(0,s.iD)("span",Qs," Follow "+(0,o.zw)(e.article.author.username),1))],2),Xs,(0,s.Wm)(c,{"is-favorited":e.article.favorited,"article-slug":e.article.slug,"favorites-count":e.article.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])]))],64)):(0,s.kq)("",!0)])}var ti=(0,s.aZ)({name:"AppArticleUserInfo",props:{article:{type:Object,required:!0}},components:{AppUserInfo:ra,AppAddToFavorites:Br},setup(e){const t=(0,C.oR)(ft),r=(0,Hr.iH)(e.article.author.following),{isCurrentUserProfile:a}=Fs((0,Hr.iH)(e.article.author)),s=()=>{t.dispatch(Ke.addToFallow,{slug:e.article.author.username,isFallow:e.article.author.following}).then((()=>r.value=!r.value))};return{convertDateJsonToDate:$r,onFallow:s,isFollowing:r,isAuthor:a}}});const ri=(0,St.Z)(ti,[["render",ei]]);var ai=ri,si=(0,s.aZ)({name:"AppArticleItem",components:{AppLoadingItem:zt,AppErrorMessage:Kt,AppTagsList:Mr,AppCommentList:Cs,AppAddCommentForm:Os,AppArticleUserInfo:ai},setup(){const e=(0,C.oR)(ft),t=(0,Ut.yj)(),r=(0,Ut.tv)(),{isLoading:a,data:s,error:i}=It("article"),o=(0,Hr.iH)(!1);e.dispatch(me.getArticle,{slug:t.params.slug});const n=r=>{o.value=!0,e.dispatch(nt.addComment,{slugArticle:t.params.slug,comment:r}).then((()=>o.value=!1)).catch((()=>o.value=!1))},l=()=>{e.dispatch(me.deleteArticle,{slug:t.params.slug}).then((()=>{r.push({name:"globalFeed"})}))};return{isLoading:a,error:i,article:s,isSubmittingAddComment:o,validationErrors:(0,Hr.Fl)((()=>e.state.comments.error)),deleteArticle:l,addComment:n}}});const ii=(0,St.Z)(si,[["render",us]]);var oi=ii;function ni(e,t,r,a,i,o){const n=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.j4)(n,{"initial-values":e.initialValues,errors:e.validationErrors,"is-submitting":e.isSubmitting,onArticleSubmit:e.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])}const li={class:"editor-page"},ui={class:"container page"},ci={class:"row"},di={class:"col-md-10 offset-md-1 col-xs-12"},mi={class:"form-group"},gi=["disabled"],pi={class:"form-group"},vi=["disabled"],fi={class:"form-group"},bi=["disabled"],wi={class:"form-group"},Si=["disabled"],Fi={class:"form-group"},hi=["disabled"];function Ai(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",li,[(0,s._)("div",ui,[(0,s._)("div",ci,[(0,s._)("div",di,[e.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",mi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title",disabled:e.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dataForm.title=t)},null,8,gi),[[a.nr,e.dataForm.title]])]),(0,s._)("fieldset",pi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description",disabled:e.isSubmitting,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dataForm.description=t)},null,8,vi),[[a.nr,e.dataForm.description]])]),(0,s._)("fieldset",fi,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?",disabled:e.isSubmitting,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dataForm.body=t)},null,8,bi),[[a.nr,e.dataForm.body]])]),(0,s._)("fieldset",wi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags",disabled:e.isSubmitting,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dataForm.tagList=t)},null,8,Si),[[a.nr,e.dataForm.tagList]])]),(0,s._)("fieldset",Fi,[(0,s._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:e.isSubmitting}," Publish Article ",8,hi)])])],32)])])])])}class yi{constructor(e={title:"",description:"",body:"",tagList:[],createdAt:"",favorited:!1,favoritesCount:0,slug:"",updatedAt:""}){(0,qs.Z)(this,"title",void 0),(0,qs.Z)(this,"description",void 0),(0,qs.Z)(this,"body",void 0),(0,qs.Z)(this,"tagList",void 0),(0,qs.Z)(this,"createdAt",void 0),(0,qs.Z)(this,"favorited",void 0),(0,qs.Z)(this,"favoritesCount",void 0),(0,qs.Z)(this,"slug",void 0),(0,qs.Z)(this,"updatedAt",void 0),this.title=e.title,this.description=e.description,this.body=e.body,this.tagList=e.tagList}}var _i=(0,s.aZ)({name:"AppArticleForm",emits:["articleSubmit"],components:{AppValidationErrors:qa},props:{initialValues:{type:yi,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},setup(e,{emit:t}){const r=(0,Hr.qj)(new yi(e.initialValues)),a=()=>t("articleSubmit",r);return{dataForm:r,onSubmit:a}}});const Ui=(0,St.Z)(_i,[["render",Ai]]);var Ci=Ui,ki=(0,s.aZ)({name:"AppCreateArticle",components:{AppArticleForm:Ci},setup(){const e=(0,C.oR)(ft),t=(0,Ut.tv)(),r=new yi,a=r=>{e.dispatch(_e.createArticle,r).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:r,validationErrors:(0,s.Fl)((()=>e.state.createArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.createArticle.isSubmitting)),onSubmit:a}}});const Pi=(0,St.Z)(ki,[["render",ni]]);var Li=Pi;function $i(e,t,r,a,i,o){const n=(0,s.up)("app-loading-item"),l=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isLoading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),e.initialValues?((0,s.wg)(),(0,s.j4)(l,{key:1,"initial-values":e.initialValues,errors:e.validationErrors,"is-submitting":e.isSubmitting,onArticleSubmit:e.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])):(0,s.kq)("",!0)],64)}var Ti=(0,s.aZ)({name:"AppEditArticle",components:{AppArticleForm:Ci,AppLoadingItem:zt},setup(){const e=(0,C.oR)(ft),t=(0,Ut.tv)(),r=(0,Ut.yj)(),a=(0,s.Fl)((()=>e.state.editArticle.article)),i=(0,s.Fl)((()=>a.value?new yi({title:a.value.title,description:a.value.description,body:a.value.body,tagList:a.value.tagList.toString()}):null));(0,s.bv)((()=>{e.dispatch(Te.getArticle,{slug:r.params.slug})}));const o=a=>{e.dispatch(Te.updateArticle,{slug:r.params.slug,articleInput:a}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:i,validationErrors:(0,s.Fl)((()=>e.state.editArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.editArticle.isSubmitting)),isLoading:(0,s.Fl)((()=>e.state.editArticle.isLoading)),onSubmit:o,article:a}}});const Zi=(0,St.Z)(Ti,[["render",$i]]);var Di=Zi;const qi={key:0,class:"settings-page"},Ei={class:"container page"},Ii={class:"row"},ji={class:"col-md-6 offset-md-3 col-xs-12"},xi=(0,s._)("h1",{class:"text-xs-center"},"Settings",-1),Wi={class:"form-group"},Oi=["disabled"],Vi={class:"form-group"},Mi=["disabled"],Ni={class:"form-group"},Ri=["disabled"],Hi={class:"form-group"},zi=["disabled"],Yi={class:"form-group"},Bi=["disabled"],Ji=["disabled"],Ki=(0,s._)("hr",null,null,-1);function Gi(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return e.currentUser?((0,s.wg)(),(0,s.iD)("div",qi,[(0,s._)("div",Ei,[(0,s._)("div",Ii,[(0,s._)("div",ji,[xi,e.validationErrors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",Wi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.image=t),disabled:e.isSubmitting,placeholder:"URL of profile image"},null,8,Oi),[[a.nr,e.form.image]])]),(0,s._)("fieldset",Vi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.username=t),disabled:e.isSubmitting,placeholder:"Username"},null,8,Mi),[[a.nr,e.form.username]])]),(0,s._)("fieldset",Ni,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.bio=t),disabled:e.isSubmitting,placeholder:"Short bio about you"},null,8,Ri),[[a.nr,e.form.bio]])]),(0,s._)("fieldset",Hi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.email=t),disabled:e.isSubmitting,placeholder:"Email"},null,8,zi),[[a.nr,e.form.email]])]),(0,s._)("fieldset",Yi,[(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.password=t),disabled:e.isSubmitting,placeholder:"New password"},null,8,Bi),[[a.nr,e.form.password]])]),(0,s._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:e.isSubmitting}," Update settings ",8,Ji)])],32),Ki,(0,s._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...t)=>e.logout&&e.logout(...t)),type:"text"}," Or cick here to logout ")])])])])):(0,s.kq)("",!0)}var Qi=(0,s.aZ)({name:"AppSettingsPage",components:{AppValidationErrors:qa},setup(){const e=(0,C.oR)(ft),t=(0,Ut.tv)(),r=(0,s.Fl)((()=>e.getters[P.currentUser])),a=(0,s.Fl)((()=>({username:r.value.username,bio:r.value.bio,image:r.value.image,email:r.value.email,password:""}))),i=()=>{e.dispatch($.updateCurrentUser,{currentUserInput:a.value}).then((()=>{t.push({name:"userProfileMyPosts",params:{slug:r.value.username}})}))},o=()=>{e.dispatch($.logout).then((()=>{t.push({name:"globalFeed"})}))};return{isSubmitting:(0,s.Fl)((()=>e.state.settings.isSubmitting)),validationErrors:(0,s.Fl)((()=>e.state.settings.validationErrors)),currentUser:r,form:a,onSubmit:i,logout:o}}});const Xi=(0,St.Z)(Qi,[["render",Gi]]);var eo=Xi;const to={key:0,class:"profile-page"},ro={class:"profile-page__user-info"},ao={class:"container"},so={class:"row"},io={class:"col-xs-12 col-md-10 offset-md-1"},oo=["src"],no=(0,s.Uk)(" FOLLOW USER BUTTON "),lo=(0,s.Uk)(" Edit Profile Settings "),uo={class:"container"},co={class:"row"},mo={class:"col-xs-12 col-md-10 offset-md-1"},go={class:"article-toggle"},po={class:"nav nav-pills outline-active"},vo={class:"nav-item"},fo=(0,s.Uk)(" My Posts "),bo={class:"nav-item"},wo=(0,s.Uk)(" Favorites Posts ");function So(e,t,r,a,i,n){const l=(0,s.up)("router-link"),u=(0,s.up)("router-view");return e.userProfile?((0,s.wg)(),(0,s.iD)("div",to,[(0,s._)("div",ro,[(0,s._)("div",ao,[(0,s._)("div",so,[(0,s._)("div",io,[(0,s._)("img",{class:"user-img",src:e.userProfile.image},null,8,oo),(0,s._)("h4",null,(0,o.zw)(e.userProfile.username),1),(0,s._)("p",null,(0,o.zw)(e.userProfile.bio),1),(0,s._)("div",null,[no,e.isCurrentUserProfile?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,s.w5)((()=>[lo])),_:1})):(0,s.kq)("",!0)])])])])]),(0,s._)("div",uo,[(0,s._)("div",co,[(0,s._)("div",mo,[(0,s._)("div",go,[(0,s._)("ul",po,[(0,s._)("li",vo,[(0,s.Wm)(l,{to:{name:"userProfileMyPosts",params:{slug:e.userProfile.username}},class:(0,o.C_)(["nav-link",{active:"userProfileMyPosts"===e.routeName}])},{default:(0,s.w5)((()=>[fo])),_:1},8,["to","class"])]),(0,s._)("li",bo,[(0,s.Wm)(l,{to:{name:"userProfileFavorites",params:{slug:e.userProfile.username}},class:(0,o.C_)(["nav-link",{active:"userProfileFavorites"===e.routeName}])},{default:(0,s.w5)((()=>[wo])),_:1},8,["to","class"])])])]),(0,s.Wm)(u)])])])])):(0,s.kq)("",!0)}var Fo=(0,s.aZ)({name:"AppUserProfile",setup(){const e=(0,C.oR)(ft),t=(0,Ut.yj)(),{isLoading:r,data:a,error:i}=It("userProfile"),{isCurrentUserProfile:o}=Fs(a),n=(0,s.Fl)((()=>t.params.slug)),l=(0,s.Fl)((()=>t.name));(0,s.YP)((()=>n.value),(()=>u())),(0,s.bv)((()=>u()));const u=()=>{e.dispatch(Ke.getUserProfile,{slug:n.value})};return{isLoading:r,userProfile:a,error:i,isCurrentUserProfile:o,routeName:l}}});const ho=(0,St.Z)(Fo,[["render",So]]);var Ao=ho;function yo(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}function _o(){const e=(0,Ut.yj)(),t=(0,s.Fl)((()=>e.params.slug)),r=(0,s.Fl)((()=>{const r=e.path.includes("favorites");return r?`/articles?favorited=${t.value}`:`/articles?author=${t.value}`}));return{apiUrl:r}}var Uo=(0,s.aZ)({name:"AppUserProfileMyPosts",components:{AppFeedItem:ia},setup(){return{..._o()}}});const Co=(0,St.Z)(Uo,[["render",yo]]);var ko=Co;function Po(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var Lo=(0,s.aZ)({name:"AppUserProfileFavorites",components:{AppFeedItem:ia},setup(){return{..._o()}}});const $o=(0,St.Z)(Lo,[["render",Po]]);var To=$o;const Zo=[{path:"/register",name:"register",component:ja},{path:"/login",name:"login",component:Ga},{path:"/",name:"mainFeed",component:hr,children:[{path:"/",name:"globalFeed",component:la},{path:"/yourFeed",name:"yourFeed",component:ga},{path:"/tags/:slug",name:"tag",component:ba}]},{path:"/articles/new",name:"createArticle",component:Li},{path:"/articles/:slug",name:"article",component:oi},{path:"/articles/:slug/edit",name:"editArticle",component:Di},{path:"/settings",name:"settings",component:eo},{path:"/profiles",name:"userProfile",component:Ao,children:[{path:"/profiles/:slug",name:"userProfileMyPosts",component:ko},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:To}]}],Do=(0,Ut.p7)({history:(0,Ut.PO)("/"),routes:Zo});var qo=Do;(0,a.ri)(_t).use(bt,ft).use(qo).mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,i){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],i=e[c][2];for(var n=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,s,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,o=a[0],n=a[1],l=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var c=l(r)}for(t&&t(a);u<o.length;u++)i=o[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},a=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(2534)}));a=r.O(a)})();