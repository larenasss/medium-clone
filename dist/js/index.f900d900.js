(function(){"use strict";var e={1861:function(e,t,r){var a=r(9242),s=r(3396);function i(e,t,r,a,i,o){const n=(0,s.up)("app-top-bar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n),(0,s.Wm)(l)],64)}var o=r(7139);const n={class:"navbar navbar-light"},l={class:"container"},c=(0,s.Uk)(" MediumClone "),u={class:"nav navbar-nav pull-xs-right"},d={class:"nav-item"},m=(0,s.Uk)(" Home "),p={class:"nav-item"},g=(0,s._)("i",{class:"ion-compose"},null,-1),v=(0,s.Uk)(" New Article "),f={class:"nav-item"},w=(0,s._)("i",{class:"ion-gear-a"},null,-1),b=(0,s.Uk)(" Settings "),h={class:"nav-item"},A=["src"],F={class:"nav-item"},S=(0,s.Uk)(" Sing in "),y={class:"nav-item"},_=(0,s.Uk)(" Sing up ");function k(e,t,r,a,i,k){const C=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",n,[(0,s._)("div",l,[(0,s.Wm)(C,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,s.w5)((()=>[c])),_:1}),(0,s._)("ul",u,[(0,s._)("li",d,[(0,s.Wm)(C,{class:"nav-link",to:{name:"globalFeed"},"active-class":"active"},{default:(0,s.w5)((()=>[m])),_:1})]),e.isLoggedIn?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("li",p,[(0,s.Wm)(C,{class:"nav-link",to:{name:"createArticle"},"active-class":"active"},{default:(0,s.w5)((()=>[g,v])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(C,{class:"nav-link",to:{name:"settings"},"active-class":"active"},{default:(0,s.w5)((()=>[w,b])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(C,{class:"nav-link",to:{name:"userProfileMyPosts",params:{slug:e.currentUser.username}},"active-class":"active"},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"user-pic",src:e.currentUser.image},null,8,A),(0,s.Uk)(" "+(0,o.zw)(e.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,s.kq)("",!0),e.isAnonymous?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("li",F,[(0,s.Wm)(C,{class:"nav-link",to:{name:"login"},"active-class":"active"},{default:(0,s.w5)((()=>[S])),_:1})]),(0,s._)("li",y,[(0,s.Wm)(C,{class:"nav-link",to:{name:"register"},"active-class":"active"},{default:(0,s.w5)((()=>[_])),_:1})])],64)):(0,s.kq)("",!0)])])])}var C=r(3766);const U=e=>{try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return console.log("Error getting data from localstorage",t),null}},P=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log("Error saving data in localstorage",r)}};var T=r(6265),L=r.n(T);L().defaults.baseURL="https://conduit.productionready.io/api",L().interceptors.request.use((e=>{const t=U("accessToken"),r=t?`Token ${t}`:"";return e.headers={Authorization:r},e}));var Z=L();const $=e=>Z.post("/users",{user:e}).then((e=>e.data.user)),D=e=>Z.post("/users/login",{user:e}).then((e=>e.data.user)),q=()=>Z.get("/user").then((e=>e.data.user)),E=e=>Z.put("/user",{user:e}).then((e=>e.data.user));var j={register:$,login:D,getCurrentUser:q,updateCurrentUserProfile:E};const x=(0,C.Q_)("auth/user",{state:()=>({isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null}),getters:{isAnonymous:e=>null===e.isLoggedIn},actions:{async register(e){try{this.$patch({validationErrors:null,isSubmitting:!0});const t=await j.register(e);P("accessToken",t.token),this.updateCurrentUser(t)}catch(t){throw this.$patch({isSubmitting:!1,validationErrors:t.response.data.errors}),t}},async login(e){try{this.$patch({validationErrors:null,isSubmitting:!0});const t=await j.login(e);P("accessToken",t.token),this.updateCurrentUser(t)}catch(t){throw this.$patch({isSubmitting:!1,validationErrors:t.response.data.errors}),t}},async logout(){try{P("accessToken",""),this.$reset()}catch(e){throw console.log(e),e}},async getCurrentUser(){try{this.$patch({isLoading:!0});const e=await j.getCurrentUser();this.updateCurrentUser(e)}catch(e){throw this.$reset(),e}},async updateCurrentUserProfile(e){try{const t=await j.updateCurrentUserProfile(e);this.updateCurrentUser(t)}catch(t){throw this.$patch({isSubmitting:!1,validationErrors:t.response.data.errors}),t}},updateCurrentUser(e){this.$patch({currentUser:e,isLoading:!1,isLoggedIn:!0})}}});var W=(0,s.aZ)({name:"AppTopBar",setup(){const e=x(),t=(0,s.Fl)((()=>e.currentUser)),r=(0,s.Fl)((()=>e.isLoggedIn)),a=(0,s.Fl)((()=>e.isAnonymous));return{currentUser:t,isAnonymous:a,isLoggedIn:r}}}),I=r(89);const O=(0,I.Z)(W,[["render",k]]);var V=O,M=(0,s.aZ)({name:"App",components:{AppTopBar:V},setup(){const e=x();(0,s.bv)((()=>e.getCurrentUser()))}});const N=(0,I.Z)(M,[["render",i]]);var H=N,z=r(678);const Y={class:"home-page"},R={class:"container page"},B={class:"row"},K={class:"col-md-9"},J={class:"col-md-3"};function G(e,t,r,a,i,o){const n=(0,s.up)("app-banner-item"),l=(0,s.up)("app-feed-toggle"),c=(0,s.up)("router-view"),u=(0,s.up)("app-popular-tags");return(0,s.wg)(),(0,s.iD)("div",Y,[(0,s.Wm)(n),(0,s._)("div",R,[(0,s._)("div",B,[(0,s._)("div",K,[(0,s.Wm)(l,{"tag-name":e.tagName},null,8,["tag-name"]),(0,s.Wm)(c)]),(0,s._)("div",J,[(0,s.Wm)(u)])])])])}const Q={key:2,class:"sidebar"},X=(0,s._)("p",null,"Popular Tags",-1),ee={class:"tag-list"};function te(e,t,r,a,i,n){const l=(0,s.up)("app-loading-item"),c=(0,s.up)("app-error-message"),u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[e.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(c,{key:1})):(0,s.kq)("",!0),e.tags?((0,s.wg)(),(0,s.iD)("div",Q,[X,(0,s._)("div",ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tags,(e=>((0,s.wg)(),(0,s.j4)(u,{key:e,to:{name:"tag",params:{slug:e}},class:"tag-default tag-pill"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e),1)])),_:2},1032,["to"])))),128))])])):(0,s.kq)("",!0)])}var re=r(65);const ae="popularTags",se={getPopularTagsStart:`[${ae}] getPopularTagsStart`,getPopularTagsSuccess:`[${ae}] getPopularTagsSuccess`,getPopularTagsFailure:`[${ae}] getPopularTagsFailure`},ie={getPopularTags:`[${ae}] getPopularTags`},oe="feed",ne={getFeedStart:`[${oe}] getFeedStart`,getFeedSuccess:`[${oe}] getFeedSuccess`,getFeedFailure:`[${oe}] getFeedFailure`},le={getFeed:`[${oe}] getFeed`},ce={[ne.getFeedStart](e){e.isLoading=!0,e.data=null},[ne.getFeedSuccess](e,t){e.isLoading=!1,e.data=t},[ne.getFeedFailure](e){e.isLoading=!1}},ue=e=>Z.get(e);var de={getFeed:ue};const me={[le.getFeed]:async({commit:e},{apiUrl:t})=>{try{e(ne.getFeedStart);const{data:r}=await de.getFeed(t);e(ne.getFeedSuccess,r)}catch(r){throw e(ne.getFeedFailure),r}}},pe={data:null,isLoading:!1,error:null},ge={state:pe,mutations:ce,actions:me},ve={[se.getPopularTagsStart](e){e.isLoading=!0,e.data=null},[se.getPopularTagsSuccess](e,t){e.isLoading=!1,e.data=t},[se.getPopularTagsFailure](e){e.isLoading=!1}},fe=()=>Z.get("/tags").then((e=>e.data.tags));var we={getPopularTags:fe};const be={[ie.getPopularTags]:async({commit:e})=>{try{e(se.getPopularTagsStart);const t=await we.getPopularTags();e(se.getPopularTagsSuccess,t)}catch(t){throw e(se.getPopularTagsFailure),t}}},he={data:null,isLoading:!1,error:null},Ae={state:he,mutations:ve,actions:be},Fe="article",Se={getArticleStart:`[${Fe}] getArticleStart`,getArticleSuccess:`[${Fe}] getArticleSuccess`,getArticleFailure:`[${Fe}] getArticleFailure`,deleteArticleStart:`[${Fe}] deleteArticleStart`,deleteArticleSuccess:`[${Fe}] deleteArticleSuccess`,deleteArticleFailure:`[${Fe}] deleteArticleFailure`},ye={getArticle:`[${Fe}] getArticle`,deleteArticle:`[${Fe}] deleteArticle`},_e={[Se.getArticleStart](e){e.isLoading=!0,e.data=null},[Se.getArticleSuccess](e,t){e.isLoading=!1,e.data=t},[Se.getArticleFailure](e){e.isLoading=!1},[Se.deleteArticleStart](){},[Se.deleteArticleSuccess](){},[Se.deleteArticleFailure](){}},ke=e=>Z.get(`/articles/${e}`).then((e=>e.data.article)),Ce=e=>Z.post("/articles",{article:e}).then((e=>e.data.article)),Ue=(e,t)=>Z.put(`/articles/${e}`,{article:t}).then((e=>e.data.article)),Pe=e=>Z["delete"](`/articles/${e}`);var Te={getArticle:ke,deleteArticle:Pe,createArticle:Ce,updateArticle:Ue};const Le={[ye.getArticle]:async({commit:e},{slug:t})=>{try{e(Se.getArticleStart);const r=await Te.getArticle(t);e(Se.getArticleSuccess,r)}catch(r){throw e(Se.getArticleFailure),r}},[ye.deleteArticle]:async({commit:e},{slug:t})=>{try{e(Se.deleteArticleStart),await Te.deleteArticle(t),e(Se.deleteArticleSuccess)}catch(r){throw e(Se.deleteArticleFailure),r}}},Ze={data:null,isLoading:!1,error:null},$e={state:Ze,mutations:_e,actions:Le},De="createArticle",qe={createArticleStart:`[${De}] createArticleStart`,createArticleSuccess:`[${De}] createArticleSuccess`,createArticleFailure:`[${De}] createArticleFailure`},Ee={createArticle:`[${De}] createArticle`},je={[qe.createArticleStart](e){e.isSubmitting=!0},[qe.createArticleSuccess](e){e.isSubmitting=!1},[qe.createArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},xe={[Ee.createArticle]:async({commit:e},t)=>{try{e(qe.createArticleStart);const r=await Te.createArticle(t);return e(qe.createArticleSuccess),r}catch(r){throw e(qe.createArticleFailure,r.response.data.errors),r}}},We={isSubmitting:!1,validationErrors:null},Ie={state:We,mutations:je,actions:xe},Oe="editArticle",Ve={updateArticleStart:`[${Oe}] updateArticleStart`,updateArticleSuccess:`[${Oe}] updateArticleSuccess`,updateArticleFailure:`[${Oe}] updateArticleFailure`,getArticleStart:`[${Oe}] getArticleStart`,getArticleSuccess:`[${Oe}] getArticleSuccess`,getArticleFailure:`[${Oe}] getArticleFailure`},Me={updateArticle:`[${Oe}] updateArticle`,getArticle:`[${Oe}] getArticle`},Ne={[Ve.updateArticleStart](e){e.isSubmitting=!0},[Ve.updateArticleSuccess](e){e.isSubmitting=!1},[Ve.updateArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[Ve.getArticleStart](e){e.isLoading=!0},[Ve.getArticleSuccess](e,t){e.isLoading=!1,e.article=t},[Ve.getArticleFailure](e){e.isLoading=!1}},He={[Me.updateArticle]:async({commit:e},{slug:t,articleInput:r})=>{try{e(Ve.updateArticleStart);const a=await Te.updateArticle(t,r);return e(Ve.updateArticleSuccess,a),a}catch(a){throw e(Ve.updateArticleFailure,a.response.data.errors),a}},[Me.getArticle]:async({commit:e},{slug:t})=>{try{e(Ve.getArticleStart);const r=await Te.getArticle(t);return e(Ve.getArticleSuccess,r),r}catch(r){throw e(Ve.getArticleFailure),r}}},ze={isSubmitting:!1,validationErrors:null,isLoading:!1,article:null},Ye={state:ze,mutations:Ne,actions:He},Re={updateCurrentUserStart(e){e.isSubmitting=!0,e.validationErrors=null},updateCurrentUserSuccess(e){e.isSubmitting=!1},updateCurrentUserFailure(e,t){e.isSubmitting=!1,e.validationErrors=t}},Be={isSubmitting:!1,validationErrors:null},Ke={state:Be,mutations:Re},Je="addToFavorites",Ge={addToFavoritesStart:`[${Je}] addToFavoritesStart`,addToFavoritesSuccess:`[${Je}] addToFavoritesSuccess`,addToFavoritesFailure:`[${Je}] addToFavoritesFailure`},Qe={addToFavorites:`[${Je}] addToFavorites`},Xe={[Ge.addToFavoritesStart](){},[Ge.addToFavoritesSuccess](){},[Ge.addToFavoritesFailure](){}},et=e=>Z.post(`/articles/${e}/favorite`,{}).then((e=>e.data.article)),tt=e=>Z["delete"](`/articles/${e}/favorite`).then((e=>e.data.article));var rt={addToFavorites:et,removeFromFavorites:tt};const at={[Qe.addToFavorites]:async({commit:e},{slug:t,isFavorited:r})=>{try{e(Ge.addToFavoritesStart);const a=r?await rt.removeFromFavorites(t):await rt.addToFavorites(t);e(Ge.addToFavoritesSuccess,a)}catch(a){throw e(Ge.addToFavoritesFailure),a}}},st={mutations:Xe,actions:at},it="userProfile",ot={getUserProfileStart:`[${it}] getUserProfileStart`,getUserProfileSuccess:`[${it}] getUserProfileSuccess`,getUserProfileFailure:`[${it}] getUserProfileFailure`,addToFallowStart:`[${it}] addToFallowStart`,addToFallowSuccess:`[${it}] addToFallowSuccess`,addToFallowFailure:`[${it}] addToFallowFailure`},nt={getUserProfile:`[${it}] getUserProfile`,addToFallow:`[${it}] addToFallow`},lt={[ot.getUserProfileStart](e){e.isLoading=!0,e.data=null},[ot.getUserProfileSuccess](e,t){e.isLoading=!1,e.data=t},[ot.getUserProfileFailure](e){e.isLoading=!1},[ot.addToFallowStart](){},[ot.addToFallowSuccess](){},[ot.addToFallowFailure](){}},ct=e=>Z.get(`/profiles/${e}`).then((e=>e.data.profile)),ut=e=>Z.post(`/profiles/${e}/follow`,{}).then((e=>e.data.profile)),dt=e=>Z["delete"](`/profiles/${e}/follow`).then((e=>e.data.profile));var mt={getUserProfile:ct,addToFallow:ut,removeFromFallow:dt};const pt={[nt.getUserProfile]:async({commit:e},{slug:t})=>{try{e(ot.getUserProfileStart);const r=await mt.getUserProfile(t);e(ot.getUserProfileSuccess,r)}catch(r){throw e(ot.getUserProfileFailure),r}},[nt.addToFallow]:async({commit:e},{slug:t,isFallow:r})=>{try{e(ot.addToFallowStart),r?await mt.removeFromFallow(t):await mt.addToFallow(t),e(ot.addToFallowSuccess)}catch(a){throw e(ot.addToFallowFailure),a}}},gt={data:null,isLoading:!1,error:null},vt={state:gt,mutations:lt,actions:pt},ft="comments",wt={getCommentsStart:`[${ft}] getCommentsStart`,getCommentsSuccess:`[${ft}] getCommentsSuccess`,getCommentsFailure:`[${ft}] getCommentsFailure`,deleteCommentStart:`[${ft}] deleteCommentStart`,deleteCommentSuccess:`[${ft}] deleteCommentSuccess`,deleteCommentFailure:`[${ft}] deleteCommentFailure`,addCommentStart:`[${ft}] addCommentStart`,addCommentSuccess:`[${ft}] addCommentSuccess`,addCommentFailure:`[${ft}] addCommentFailure`},bt={getComments:`[${ft}] getComments`,deleteComment:`[${ft}] deleteComment`,addComment:`[${ft}] addComment`},ht={[wt.getCommentsStart](e){e.isLoading=!0,e.data=null},[wt.getCommentsSuccess](e,t){e.isLoading=!1,e.data=t.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))},[wt.getCommentsFailure](e){e.isLoading=!1},[wt.deleteCommentStart](){},[wt.deleteCommentSuccess](e,{slugComment:t}){e.data=e.data.filter((e=>e.id!=t))},[wt.deleteCommentFailure](){},[wt.addCommentStart](){},[wt.addCommentSuccess](e,t){e.data.unshift(t)},[wt.addCommentFailure](e,t){e.error=t}},At=e=>Z.get(`/articles/${e}/comments`).then((e=>e.data.comments)),Ft=({slugArticle:e,comment:t})=>Z.post(`/articles/${e}/comments`,{comment:t}).then((e=>e.data.comment)),St=({slugArticle:e,slugComment:t})=>Z["delete"](`/articles/${e}/comments/${t}`);var yt={getComments:At,deleteComment:St,addComment:Ft};const _t={[bt.getComments]:async({commit:e},{slug:t})=>{try{e(wt.getCommentsStart);const r=await yt.getComments(t);e(wt.getCommentsSuccess,r)}catch(r){throw e(wt.getCommentsFailure),r}},[bt.addComment]:async({commit:e},t)=>{try{e(wt.addCommentStart);const r=await yt.addComment(t);e(wt.addCommentSuccess,r)}catch(r){throw e(wt.addCommentFailure,r.response.data.errors),r}},[bt.deleteComment]:async({commit:e},t)=>{try{e(wt.deleteCommentStart),await yt.deleteComment(t),e(wt.deleteCommentSuccess,t)}catch(r){throw e(wt.deleteCommentFailure),r}}},kt={data:null,isLoading:!1,error:null},Ct={state:kt,mutations:ht,actions:_t},Ut=Symbol(),Pt=(0,re.MT)({mutations:{},actions:{},modules:{feed:ge,popularTags:Ae,article:$e,createArticle:Ie,editArticle:Ye,settings:Ke,addToFavorites:st,userProfile:vt,comments:Ct}});function Tt(e){const t=(0,re.oR)(Ut),r=t.state[e];return{isLoading:(0,s.Fl)((()=>r.isLoading)),data:(0,s.Fl)((()=>r.data)),error:(0,s.Fl)((()=>r.error))}}const Lt=e=>((0,s.dD)("data-v-314d36a7"),e=e(),(0,s.Cn)(),e),Zt={class:"loader"},$t=Lt((()=>(0,s._)("div",{class:"inner one"},null,-1))),Dt=Lt((()=>(0,s._)("div",{class:"inner two"},null,-1))),qt=Lt((()=>(0,s._)("div",{class:"inner three"},null,-1))),Et=[$t,Dt,qt];function jt(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",Zt,Et)}var xt=(0,s.aZ)({name:"AppLoadingItem"});const Wt=(0,I.Z)(xt,[["render",jt],["__scopeId","data-v-314d36a7"]]);var It=Wt;function Ot(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("div",null,(0,o.zw)(e.message),1)}var Vt=(0,s.aZ)({name:"AppErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}});const Mt=(0,I.Z)(Vt,[["render",Ot]]);var Nt=Mt,Ht=(0,s.aZ)({name:"AppPopularTags",components:{AppLoadingItem:It,AppErrorMessage:Nt},setup(){const e=(0,re.oR)(Ut),{isLoading:t,data:r,error:a}=Tt("popularTags");return(0,s.bv)((()=>{e.dispatch(ie.getPopularTags)})),{isLoading:t,tags:r,error:a}}});const zt=(0,I.Z)(Ht,[["render",te]]);var Yt=zt;const Rt={class:"banner"},Bt=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Medium clone"),(0,s._)("p",null,"A place to share knowledge")],-1),Kt=[Bt];function Jt(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",Rt,Kt)}var Gt=(0,s.aZ)({name:"AppBannerItem"});const Qt=(0,I.Z)(Gt,[["render",Jt]]);var Xt=Qt;const er={class:"feed-toggle"},tr={class:"nav nav-pills outline-active"},rr={key:0,class:"nav-item"},ar=(0,s.Uk)(" Your Feed "),sr={class:"nav-item"},ir=(0,s.Uk)(" Global Feed "),or={key:1,class:"nav-item"},nr=(0,s._)("i",{class:"ion-pound"},null,-1);function lr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",er,[(0,s._)("ul",tr,[e.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",rr,[(0,s.Wm)(l,{to:{name:"yourFeed"},class:(0,o.C_)(["nav-link",{active:"yourFeed"===e.routeName}])},{default:(0,s.w5)((()=>[ar])),_:1},8,["class"])])):(0,s.kq)("",!0),(0,s._)("li",sr,[(0,s.Wm)(l,{to:{name:"globalFeed"},class:(0,o.C_)(["nav-link",{active:"globalFeed"===e.routeName}])},{default:(0,s.w5)((()=>[ir])),_:1},8,["class"])]),e.tagName?((0,s.wg)(),(0,s.iD)("li",or,[(0,s.Wm)(l,{to:{name:"tag"},class:(0,o.C_)(["nav-link",{active:"tag"===e.routeName}])},{default:(0,s.w5)((()=>[nr,(0,s.Uk)(" "+(0,o.zw)(e.tagName),1)])),_:1},8,["class"])])):(0,s.kq)("",!0)])])}var cr=(0,s.aZ)({name:"AppFeedToggle",props:{tagName:{type:String,required:!1}},setup(){const e=x(),t=(0,z.yj)(),r=(0,s.Fl)((()=>e.isLoggedIn)),a=(0,s.Fl)((()=>t.name));return{isLoggedIn:r,routeName:a}}});const ur=(0,I.Z)(cr,[["render",lr]]);var dr=ur,mr=(0,s.aZ)({name:"AppFeedPage",components:{AppPopularTags:Yt,AppBannerItem:Xt,AppFeedToggle:dr},setup(){const e=(0,z.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t}}});const pr=(0,I.Z)(mr,[["render",G]]);var gr=pr;function vr(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}const fr=e=>((0,s.dD)("data-v-3b9133ec"),e=e(),(0,s.Cn)(),e),wr={key:2},br={class:"article-meta"},hr={class:"pull-xs-right"},Ar=fr((()=>(0,s._)("span",null,"Read more...",-1)));function Fr(e,t,r,a,i,n){const l=(0,s.up)("app-loading-item"),c=(0,s.up)("app-error-message"),u=(0,s.up)("app-user-info"),d=(0,s.up)("app-add-to-favorites"),m=(0,s.up)("app-tags-list"),p=(0,s.up)("router-link"),g=(0,s.up)("app-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(c,{key:1})):(0,s.kq)("",!0),e.feed?((0,s.wg)(),(0,s.iD)("div",wr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.feed.articles,((t,r)=>((0,s.wg)(),(0,s.iD)("div",{class:"article-preview",key:r},[(0,s._)("div",br,[(0,s.Wm)(u,{user:t.author,date:e.dateString(t.createdAt)},null,8,["user","date"]),(0,s._)("div",hr,[(0,s.Wm)(d,{"is-favorited":t.favorited,"article-slug":t.slug,"favorites-count":t.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])])]),(0,s.Wm)(p,{to:{name:"article",params:{slug:t.slug}},class:"preview-link"},{default:(0,s.w5)((()=>[(0,s._)("h1",null,(0,o.zw)(t.title),1),(0,s._)("p",null,(0,o.zw)(t.description),1),Ar,(0,s.Wm)(m,{tags:t.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,s.Wm)(g,{total:e.feed.articlesCount,limit:e.limit,"current-page":e.currentPage,url:e.baseUrl},null,8,["total","limit","current-page","url"])])):(0,s.kq)("",!0)],64)}const Sr=5,yr=e=>{try{return new Date(e)}catch(t){console.log("Error convert date",t)}};var _r=r(4782);const kr={class:"pagination"};function Cr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("ul",kr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pages,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:(0,o.C_)(["page-item",{active:e.currentPage===t}])},[(0,s.Wm)(l,{to:{path:e.url,query:{page:t}},class:"page-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(t),1)])),_:2},1032,["to"])],2)))),128))])}const Ur=(e,t)=>[...Array(t).keys()].map((t=>t+e));var Pr=(0,s.aZ)({name:"AppPagination",props:{total:{type:Number,requred:!0},limit:{type:Number,requred:!0},currentPage:{type:Number,requred:!0},url:{type:String,requred:!0}},setup(e){const t=(0,s.Fl)((()=>{const t=Math.ceil((e.total??0)/(e.limit??0));return Ur(1,t)}));return{pages:t}}});const Tr=(0,I.Z)(Pr,[["render",Cr]]);var Lr=Tr;const Zr={key:0,class:"tag-list"};function $r(e,t,r,a,i,n){return e.tags.length?((0,s.wg)(),(0,s.iD)("ul",Zr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tags,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.value,class:"tag-default tag-pill tag-outline ng-binding ng-scope"},(0,o.zw)(e),1)))),128))])):(0,s.kq)("",!0)}var Dr=(0,s.aZ)({name:"AppTagsList",props:{tags:{type:Array,required:!0}}});const qr=(0,I.Z)(Dr,[["render",$r]]);var Er=qr;const jr=(0,s._)("i",{class:"ion-heart"},null,-1);function xr(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("button",{class:(0,o.C_)(["btn btn-sm",{"btn-primary":e.isFavoritedOptimistic,"btn-outline-primary":!e.isFavoritedOptimistic}]),onClick:t[0]||(t[0]=(...t)=>e.handleLike&&e.handleLike(...t))},[jr,(0,s.Uk)(" "+(0,o.zw)(e.favoritesCountOptimistic),1)],2)}var Wr=r(4870),Ir=(0,s.aZ)({name:"AppAddToFavorites",props:{isFavorited:{type:Boolean,requred:!0},articleSlug:{type:String,requred:!0},favoritesCount:{type:Number,requred:!0},text:{type:String,requred:!1}},setup(e){const t=(0,re.oR)(Ut),r=(0,Wr.iH)(e.isFavorited??!1),a=(0,Wr.iH)(e.favoritesCount??0),s=()=>{t.dispatch(Qe.addToFavorites,{slug:e.articleSlug,isFavorited:r.value}),r.value?a.value-=1:a.value+=1,r.value=!r.value};return{handleLike:s,isFavoritedOptimistic:r,favoritesCountOptimistic:a}}});const Or=(0,I.Z)(Ir,[["render",xr]]);var Vr=Or;const Mr={key:0,class:"user-info"},Nr=["src"],Hr={class:"info"},zr={key:0,class:"date"};function Yr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return e.user?((0,s.wg)(),(0,s.iD)("div",Mr,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:e.user.username}}},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"comment-author-img",src:e.user.image},null,8,Nr)])),_:1},8,["to"]),(0,s._)("div",Hr,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:e.user.username}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.user.username),1)])),_:1},8,["to"]),e.date?((0,s.wg)(),(0,s.iD)("span",zr,(0,o.zw)(e.date),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}var Rr=(0,s.aZ)({name:"AppUserInfo",props:{user:{type:Object,requred:!0},date:{type:String,requred:!1}}});const Br=(0,I.Z)(Rr,[["render",Yr]]);var Kr=Br,Jr=(0,s.aZ)({name:"AppFeedItem",components:{AppPagination:Lr,AppLoadingItem:It,AppErrorMessage:Nt,AppTagsList:Er,AppAddToFavorites:Vr,AppUserInfo:Kr},props:{apiUrl:{type:String,requred:!0}},setup(e){const t=(0,z.yj)(),r=(0,re.oR)(Ut),a=(0,s.Fl)((()=>Number(t.query.page||"1"))),i=(0,s.Fl)((()=>a.value*Sr-Sr)),{isLoading:o,data:n,error:l}=Tt("feed"),c=(0,s.Fl)((()=>t.path));(0,s.bv)((()=>u())),(0,s.YP)(a,(()=>u())),(0,s.YP)((()=>e.apiUrl),(()=>u()));const u=()=>{const t=(0,_r.parseUrl)(e.apiUrl??""),a=(0,_r.stringify)({limit:Sr,offset:i.value,...t.query}),s=`${t.url}?${a}`;r.dispatch(le.getFeed,{apiUrl:s})},d=e=>"string"===typeof e?yr(e)?.toLocaleString():(new Date).toLocaleString();return{isLoading:o,feed:n,error:l,currentPage:a,limit:Sr,baseUrl:c,dateString:d}}});const Gr=(0,I.Z)(Jr,[["render",Fr],["__scopeId","data-v-3b9133ec"]]);var Qr=Gr,Xr=(0,s.aZ)({name:"AppGlobalFeed",components:{AppFeedItem:Qr},setup(){return{apiUrl:(0,Wr.iH)("/articles")}}});const ea=(0,I.Z)(Xr,[["render",vr]]);var ta=ea;const ra={class:"home-page"};function aa(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.iD)("div",ra,[(0,s.Wm)(n,{"api-url":e.apiUrl},null,8,["api-url"])])}var sa=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:Qr},setup(){return{apiUrl:(0,Wr.iH)("/articles/feed")}}});const ia=(0,I.Z)(sa,[["render",aa]]);var oa=ia;function na(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var la=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:Qr},setup(){const e=(0,z.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t,apiUrl:(0,s.Fl)((()=>`articles?tag=${t.value}`))}}});const ca=(0,I.Z)(la,[["render",na]]);var ua=ca;const da={class:"auth-page"},ma={class:"container page"},pa={class:"row"},ga={class:"col-md-6 offset-md-3 col-xs-12"},va=(0,s._)("h1",{class:"text-xs-center"},"Sign up",-1),fa={class:"text-xs-center"},wa=(0,s.Uk)(" Have an account? "),ba={class:"form-group"},ha={class:"form-group"},Aa={class:"form-group"},Fa=["disabled"];function Sa(e,t,r,i,o,n){const l=(0,s.up)("router-link"),c=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",da,[(0,s._)("div",ma,[(0,s._)("div",pa,[(0,s._)("div",ga,[va,(0,s._)("p",fa,[(0,s.Wm)(l,{to:{name:"login"}},{default:(0,s.w5)((()=>[wa])),_:1})]),e.validationErrors?((0,s.wg)(),(0,s.j4)(c,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",ba,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=t=>e.user.username=t)},null,512),[[a.nr,e.user.username]])]),(0,s._)("fieldset",ha,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=t=>e.user.email=t)},null,512),[[a.nr,e.user.email]])]),(0,s._)("fieldset",Aa,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=t=>e.user.password=t)},null,512),[[a.nr,e.user.password]])]),(0,s._)("button",{disabled:e.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign Up ",8,Fa)],32)])])])])}const ya={class:"error-messages"};function _a(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("ul",ya,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.errorMessages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,o.zw)(e),1)))),128))])}var ka=(0,s.aZ)({name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},setup(e){const t=(0,s.Fl)((()=>Object.keys(e.validationErrors).map((t=>{const r=e.validationErrors[t].join(", ");return`${t} ${r}`}))));return{errorMessages:t}}});const Ca=(0,I.Z)(ka,[["render",_a]]);var Ua=Ca,Pa=(0,s.aZ)({name:"AppRegisterPage",setup(){const e=x(),t=(0,z.tv)(),r=(0,Wr.qj)({username:"",email:"",password:""}),a=(0,s.Fl)((()=>e.isSubmitting)),i=(0,s.Fl)((()=>e.validationErrors)),o=()=>{e.register(r).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:o,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:Ua}});const Ta=(0,I.Z)(Pa,[["render",Sa]]);var La=Ta;const Za={class:"auth-page"},$a={class:"container page"},Da={class:"row"},qa={class:"col-md-6 offset-md-3 col-xs-12"},Ea=(0,s._)("h1",{class:"text-xs-center"},"Sign in",-1),ja={class:"text-xs-center"},xa=(0,s.Uk)(" Need an account? "),Wa={class:"form-group"},Ia={class:"form-group"},Oa=["disabled"];function Va(e,t,r,i,o,n){const l=(0,s.up)("router-link"),c=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Za,[(0,s._)("div",$a,[(0,s._)("div",Da,[(0,s._)("div",qa,[Ea,(0,s._)("p",ja,[(0,s.Wm)(l,{to:{name:"register"}},{default:(0,s.w5)((()=>[xa])),_:1})]),e.validationErrors?((0,s.wg)(),(0,s.j4)(c,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",Wa,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=t=>e.user.email=t)},null,512),[[a.nr,e.user.email]])]),(0,s._)("fieldset",Ia,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=t=>e.user.password=t)},null,512),[[a.nr,e.user.password]])]),(0,s._)("button",{disabled:e.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign In ",8,Oa)],32)])])])])}var Ma=(0,s.aZ)({name:"AppLoginPage",setup(){const e=x(),t=(0,z.tv)(),r=(0,Wr.qj)({email:"",password:""}),a=(0,s.Fl)((()=>e.isSubmitting)),i=(0,s.Fl)((()=>e.validationErrors)),o=()=>{e.login(r).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:o,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:Ua}});const Na=(0,I.Z)(Ma,[["render",Va]]);var Ha=Na;const za={key:0,class:"article-page"},Ya={class:"banner"},Ra={class:"container"},Ba={class:"article-meta"},Ka={class:"container page"},Ja={class:"row article-content"},Ga={class:"col-xs-12"},Qa=(0,s._)("hr",null,null,-1),Xa={class:"row"},es={class:"col-xs-12 col-md-8 offset-md-2"},ts={class:"article-actions"};function rs(e,t,r,a,i,n){const l=(0,s.up)("app-article-user-info"),c=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),d=(0,s.up)("app-tags-list"),m=(0,s.up)("app-add-comment-form"),p=(0,s.up)("app-comment-list");return e.article?((0,s.wg)(),(0,s.iD)("div",za,[(0,s._)("div",Ya,[(0,s._)("div",Ra,[(0,s._)("h1",null,(0,o.zw)(e.article.title),1),(0,s._)("div",Ba,[(0,s.Wm)(l,{article:e.article},null,8,["article"])])])]),(0,s._)("div",Ka,[e.isLoading?((0,s.wg)(),(0,s.j4)(c,{key:0})):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.j4)(u,{key:1,message:e.error},null,8,["message"])):(0,s.kq)("",!0),(0,s._)("div",Ja,[(0,s._)("div",Ga,[(0,s._)("div",null,[(0,s._)("p",null,(0,o.zw)(e.article.body),1)]),(0,s.Wm)(d,{tags:e.article.tagList},null,8,["tags"])])]),Qa,(0,s._)("div",Xa,[(0,s._)("div",es,[(0,s._)("div",ts,[(0,s.Wm)(l,{article:e.article},null,8,["article"])]),(0,s.Wm)(m,{onAddComment:e.addComment,"is-submitting":e.isSubmittingAddComment,errors:e.validationErrors},null,8,["onAddComment","is-submitting","errors"]),(0,s.Wm)(p,{slug:e.article.slug??""},null,8,["slug"])])])])])):(0,s.kq)("",!0)}const as={key:0};function ss(e,t,r,a,i,o){const n=(0,s.up)("app-comment-item");return e.comments?((0,s.wg)(),(0,s.iD)("div",as,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.comments,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s.Wm)(n,{comment:t,onDeleteComment:e.deleteComment},null,8,["comment","onDeleteComment"])])))),128))])):(0,s.kq)("",!0)}const is=e=>((0,s.dD)("data-v-5edd36fe"),e=e(),(0,s.Cn)(),e),os={key:0,class:"card"},ns={class:"card-block"},ls={class:"card-text"},cs={class:"card-footer"},us=is((()=>(0,s._)("i",{class:"ion-trash-a"},null,-1))),ds=[us];function ms(e,t,r,a,i,n){const l=(0,s.up)("app-user-info");return e.comment?((0,s.wg)(),(0,s.iD)("div",os,[(0,s._)("div",ns,[(0,s._)("p",ls,(0,o.zw)(e.comment.body),1)]),(0,s._)("div",cs,[(0,s.Wm)(l,{user:e.comment.author,date:e.dateString(e.comment.createdAt)},null,8,["user","date"]),e.isCurrentUserProfile?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"mod-options",onClick:t[0]||(t[0]=t=>e.deleteComment(e.comment.id))},ds)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}function ps(e){const t=x(),r=(0,s.Fl)((()=>t.currentUser)),a=(0,s.Fl)((()=>!!(e&&r.value&&e.value)&&r.value.username===e.value.username));return{currentUser:r,isCurrentUserProfile:a}}var gs=(0,s.aZ)({name:"AppCommentItem",emits:["deleteComment"],components:{AppUserInfo:Kr},props:{comment:{type:Object,required:!0}},setup(e,{emit:t}){const{currentUser:r,isCurrentUserProfile:a}=ps((0,s.Fl)((()=>e.comment.author))),i=e=>{t("deleteComment",{slugComment:e})},o=e=>yr(e)?.toLocaleString();return{isCurrentUserProfile:a,currentUser:r,deleteComment:i,dateString:o}}});const vs=(0,I.Z)(gs,[["render",ms],["__scopeId","data-v-5edd36fe"]]);var fs=vs,ws=(0,s.aZ)({name:"AppCommentList",components:{AppCommentItem:fs},props:{slug:{type:String,required:!0}},setup(e){const t=(0,re.oR)(Ut);(0,s.bv)((()=>{t.dispatch(bt.getComments,{slug:e.slug})}));const{isLoading:r,data:a,error:i}=Tt("comments"),o=({slugComment:r})=>{const a={slugArticle:e.slug,slugComment:r};t.dispatch(bt.deleteComment,a)};return{isLoading:r,comments:a,error:i,deleteComment:o}}});const bs=(0,I.Z)(ws,[["render",ss]]);var hs=bs;const As={key:0},Fs={class:"card-block"},Ss=["disabled"],ys={class:"card-footer"},_s=["src"],ks=["disabled"];function Cs(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return e.currentUser?((0,s.wg)(),(0,s.iD)("div",As,[e.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{class:"card comment-form",onSubmit:t[1]||(t[1]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("div",Fs,[(0,s.wy)((0,s._)("textarea",{class:"form-control",disabled:e.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=t=>e.commentInput.body=t)},null,8,Ss),[[a.nr,e.commentInput.body]])]),(0,s._)("div",ys,[(0,s._)("img",{class:"comment-author-img",src:e.currentUser.image},null,8,_s),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:e.isSubmitting},"Post Comment",8,ks)])],32)])):(0,s.kq)("",!0)}var Us=r(2482);class Ps{constructor(e={username:"",bio:"",image:""}){(0,Us.Z)(this,"username",void 0),(0,Us.Z)(this,"bio",void 0),(0,Us.Z)(this,"image",void 0),this.username=e.username,this.bio=e.bio,this.image=e.image}}class Ts extends Ps{constructor(e={username:"",bio:"",image:"",email:"",token:"",password:""}){super(e),(0,Us.Z)(this,"email",void 0),(0,Us.Z)(this,"token",""),(0,Us.Z)(this,"password",void 0),this.email=e.email,this.token=e.token,this.password=e.password}}class Ls extends Ps{constructor(e={username:"",bio:"",image:"",following:!1}){super(e),(0,Us.Z)(this,"following",void 0),this.following=e.following}}class Zs{constructor(e={id:0,author:new Ls,body:"",createdAt:"",updatedAt:""}){(0,Us.Z)(this,"id",void 0),(0,Us.Z)(this,"author",void 0),(0,Us.Z)(this,"body",void 0),(0,Us.Z)(this,"createdAt",void 0),(0,Us.Z)(this,"updatedAt",void 0),this.id=e.id,this.author=e.author,this.body=e.body,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt}}var $s=(0,s.aZ)({name:"AppAddCommentForm",emits:["addComment"],props:{isSubmitting:{type:Boolean,default:!1},errors:{type:Object,required:!1}},components:{AppValidationErrors:Ua},setup(e,{emit:t}){const r=x(),a=(0,Wr.qj)(new Zs);(0,s.YP)((()=>e.isSubmitting),(e=>{e||(a.body="")}));const i=()=>t("addComment",a);return{commentInput:a,onSubmit:i,currentUser:(0,s.Fl)((()=>r.currentUser))}}});const Ds=(0,I.Z)($s,[["render",Cs]]);var qs=Ds;const Es={class:"article-meta d-flex"},js={key:0},xs=(0,s._)("i",{class:"ion-edit"},null,-1),Ws=(0,s.Uk)(" Edit Article "),Is=(0,s.Uk)("   "),Os=(0,s._)("i",{class:"ion-trash-a"},null,-1),Vs=(0,s.Uk)(" Delete Article "),Ms=[Os,Vs],Ns={key:1},Hs=(0,s._)("i",{class:"ion-plus-round"},null,-1),zs={key:0},Ys={key:1},Rs=(0,s.Uk)("   ");function Bs(e,t,r,a,i,n){const l=(0,s.up)("app-user-info"),c=(0,s.up)("router-link"),u=(0,s.up)("app-add-to-favorites");return(0,s.wg)(),(0,s.iD)("div",Es,[(0,s.Wm)(l,{user:e.article.author,date:e.convertDateJsonToDate(e.article.createdAt).toLocaleString()},null,8,["user","date"]),e.article?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.isAuthor?((0,s.wg)(),(0,s.iD)("span",js,[(0,s.Wm)(c,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:e.article.slug}}},{default:(0,s.w5)((()=>[xs,Ws])),_:1},8,["to"]),Is,(0,s._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=(...t)=>e.deleteArticle&&e.deleteArticle(...t))},Ms)])):((0,s.wg)(),(0,s.iD)("span",Ns,[(0,s._)("button",{type:"button",class:(0,o.C_)(["btn btn-sm action-btn",{"btn-secondary":e.isFollowing,"btn-outline-secondary":!e.isFollowing}]),onClick:t[1]||(t[1]=(...t)=>e.onFallow&&e.onFallow(...t))},[Hs,e.isFollowing?((0,s.wg)(),(0,s.iD)("span",zs," UnFollow "+(0,o.zw)(e.article.author.username),1)):((0,s.wg)(),(0,s.iD)("span",Ys," Follow "+(0,o.zw)(e.article.author.username),1))],2),Rs,(0,s.Wm)(u,{"is-favorited":e.article.favorited,"article-slug":e.article.slug,"favorites-count":e.article.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])]))],64)):(0,s.kq)("",!0)])}var Ks=(0,s.aZ)({name:"AppArticleUserInfo",props:{article:{type:Object,required:!0}},components:{AppUserInfo:Kr,AppAddToFavorites:Vr},setup(e){const t=(0,re.oR)(Ut),r=(0,Wr.iH)(e.article.author.following),{isCurrentUserProfile:a}=ps((0,Wr.iH)(e.article.author)),s=()=>{t.dispatch(nt.addToFallow,{slug:e.article.author.username,isFallow:e.article.author.following}).then((()=>r.value=!r.value))};return{convertDateJsonToDate:yr,onFallow:s,isFollowing:r,isAuthor:a}}});const Js=(0,I.Z)(Ks,[["render",Bs]]);var Gs=Js,Qs=(0,s.aZ)({name:"AppArticleItem",components:{AppLoadingItem:It,AppErrorMessage:Nt,AppTagsList:Er,AppCommentList:hs,AppAddCommentForm:qs,AppArticleUserInfo:Gs},setup(){const e=(0,re.oR)(Ut),t=(0,z.yj)(),r=(0,z.tv)(),{isLoading:a,data:s,error:i}=Tt("article"),o=(0,Wr.iH)(!1);e.dispatch(ye.getArticle,{slug:t.params.slug});const n=r=>{o.value=!0,e.dispatch(bt.addComment,{slugArticle:t.params.slug,comment:r}).then((()=>o.value=!1)).catch((()=>o.value=!1))},l=()=>{e.dispatch(ye.deleteArticle,{slug:t.params.slug}).then((()=>{r.push({name:"globalFeed"})}))};return{isLoading:a,error:i,article:s,isSubmittingAddComment:o,validationErrors:(0,Wr.Fl)((()=>e.state.comments.error)),deleteArticle:l,addComment:n}}});const Xs=(0,I.Z)(Qs,[["render",rs]]);var ei=Xs;function ti(e,t,r,a,i,o){const n=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.j4)(n,{"initial-values":e.initialValues,errors:e.validationErrors,"is-submitting":e.isSubmitting,onArticleSubmit:e.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])}const ri={class:"editor-page"},ai={class:"container page"},si={class:"row"},ii={class:"col-md-10 offset-md-1 col-xs-12"},oi={class:"form-group"},ni=["disabled"],li={class:"form-group"},ci=["disabled"],ui={class:"form-group"},di=["disabled"],mi={class:"form-group"},pi=["disabled"],gi={class:"form-group"},vi=["disabled"];function fi(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",ri,[(0,s._)("div",ai,[(0,s._)("div",si,[(0,s._)("div",ii,[e.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",oi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title",disabled:e.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dataForm.title=t)},null,8,ni),[[a.nr,e.dataForm.title]])]),(0,s._)("fieldset",li,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description",disabled:e.isSubmitting,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dataForm.description=t)},null,8,ci),[[a.nr,e.dataForm.description]])]),(0,s._)("fieldset",ui,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?",disabled:e.isSubmitting,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dataForm.body=t)},null,8,di),[[a.nr,e.dataForm.body]])]),(0,s._)("fieldset",mi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags",disabled:e.isSubmitting,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dataForm.tagList=t)},null,8,pi),[[a.nr,e.dataForm.tagList]])]),(0,s._)("fieldset",gi,[(0,s._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:e.isSubmitting}," Publish Article ",8,vi)])])],32)])])])])}class wi{constructor(e={title:"",description:"",body:"",tagList:[],createdAt:"",favorited:!1,favoritesCount:0,slug:"",updatedAt:""}){(0,Us.Z)(this,"title",void 0),(0,Us.Z)(this,"description",void 0),(0,Us.Z)(this,"body",void 0),(0,Us.Z)(this,"tagList",void 0),(0,Us.Z)(this,"createdAt",void 0),(0,Us.Z)(this,"favorited",void 0),(0,Us.Z)(this,"favoritesCount",void 0),(0,Us.Z)(this,"slug",void 0),(0,Us.Z)(this,"updatedAt",void 0),(0,Us.Z)(this,"author",void 0),this.title=e.title,this.description=e.description,this.body=e.body,this.tagList=e.tagList}}var bi=(0,s.aZ)({name:"AppArticleForm",emits:["articleSubmit"],components:{AppValidationErrors:Ua},props:{initialValues:{type:wi,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},setup(e,{emit:t}){const r=(0,Wr.qj)(new wi(e.initialValues)),a=()=>t("articleSubmit",r);return{dataForm:r,onSubmit:a}}});const hi=(0,I.Z)(bi,[["render",fi]]);var Ai=hi,Fi=(0,s.aZ)({name:"AppCreateArticle",components:{AppArticleForm:Ai},setup(){const e=(0,re.oR)(Ut),t=(0,z.tv)(),r=new wi,a=r=>{e.dispatch(Ee.createArticle,r).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:r,validationErrors:(0,s.Fl)((()=>e.state.createArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.createArticle.isSubmitting)),onSubmit:a}}});const Si=(0,I.Z)(Fi,[["render",ti]]);var yi=Si;function _i(e,t,r,a,i,o){const n=(0,s.up)("app-loading-item"),l=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isLoading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),e.initialValues?((0,s.wg)(),(0,s.j4)(l,{key:1,"initial-values":e.initialValues,errors:e.validationErrors,"is-submitting":e.isSubmitting,onArticleSubmit:e.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])):(0,s.kq)("",!0)],64)}var ki=(0,s.aZ)({name:"AppEditArticle",components:{AppArticleForm:Ai,AppLoadingItem:It},setup(){const e=(0,re.oR)(Ut),t=(0,z.tv)(),r=(0,z.yj)(),a=(0,s.Fl)((()=>e.state.editArticle.article)),i=(0,s.Fl)((()=>a.value?new wi(a.value):null));(0,s.bv)((()=>{e.dispatch(Me.getArticle,{slug:r.params.slug})}));const o=a=>{e.dispatch(Me.updateArticle,{slug:r.params.slug,articleInput:a}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:i,validationErrors:(0,s.Fl)((()=>e.state.editArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.editArticle.isSubmitting)),isLoading:(0,s.Fl)((()=>e.state.editArticle.isLoading)),onSubmit:o,article:a}}});const Ci=(0,I.Z)(ki,[["render",_i]]);var Ui=Ci;const Pi={key:0,class:"settings-page"},Ti={class:"container page"},Li={class:"row"},Zi={class:"col-md-6 offset-md-3 col-xs-12"},$i=(0,s._)("h1",{class:"text-xs-center"},"Settings",-1),Di={class:"form-group"},qi=["disabled"],Ei={class:"form-group"},ji=["disabled"],xi={class:"form-group"},Wi=["disabled"],Ii={class:"form-group"},Oi=["disabled"],Vi={class:"form-group"},Mi=["disabled"],Ni=["disabled"],Hi=(0,s._)("hr",null,null,-1);function zi(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return e.currentUser?((0,s.wg)(),(0,s.iD)("div",Pi,[(0,s._)("div",Ti,[(0,s._)("div",Li,[(0,s._)("div",Zi,[$i,e.validationErrors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",Di,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.image=t),disabled:e.isSubmitting,placeholder:"URL of profile image"},null,8,qi),[[a.nr,e.form.image]])]),(0,s._)("fieldset",Ei,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.username=t),disabled:e.isSubmitting,placeholder:"Username"},null,8,ji),[[a.nr,e.form.username]])]),(0,s._)("fieldset",xi,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.bio=t),disabled:e.isSubmitting,placeholder:"Short bio about you"},null,8,Wi),[[a.nr,e.form.bio]])]),(0,s._)("fieldset",Ii,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.email=t),disabled:e.isSubmitting,placeholder:"Email"},null,8,Oi),[[a.nr,e.form.email]])]),(0,s._)("fieldset",Vi,[(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.password=t),disabled:e.isSubmitting,placeholder:"New password"},null,8,Mi),[[a.nr,e.form.password]])]),(0,s._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:e.isSubmitting}," Update settings ",8,Ni)])],32),Hi,(0,s._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...t)=>e.logout&&e.logout(...t))}," Or cick here to logout ")])])])])):(0,s.kq)("",!0)}var Yi=(0,s.aZ)({name:"AppSettingsPage",components:{AppValidationErrors:Ua},setup(){const e=(0,re.oR)(Ut),t=x(),r=(0,z.tv)(),a=(0,s.Fl)((()=>t.currentUser)),i=(0,s.Fl)((()=>new Ts(a.value))),o=()=>{t.updateCurrentUserProfile(i.value).then((()=>{r.push({name:"userProfileMyPosts",params:{slug:a.value.username}})}))},n=()=>{t.logout().then((()=>{r.push({name:"globalFeed"})}))};return{isSubmitting:(0,s.Fl)((()=>e.state.settings.isSubmitting)),validationErrors:(0,s.Fl)((()=>e.state.settings.validationErrors)),currentUser:a,form:i,onSubmit:o,logout:n}}});const Ri=(0,I.Z)(Yi,[["render",zi]]);var Bi=Ri;const Ki={key:0,class:"profile-page"},Ji={class:"profile-page__user-info"},Gi={class:"container"},Qi={class:"row"},Xi={class:"col-xs-12 col-md-10 offset-md-1"},eo=["src"],to=(0,s.Uk)(" FOLLOW USER BUTTON "),ro=(0,s.Uk)(" Edit Profile Settings "),ao={class:"container"},so={class:"row"},io={class:"col-xs-12 col-md-10 offset-md-1"},oo={class:"article-toggle"},no={class:"nav nav-pills outline-active"},lo={class:"nav-item"},co=(0,s.Uk)(" My Posts "),uo={class:"nav-item"},mo=(0,s.Uk)(" Favorites Posts ");function po(e,t,r,a,i,n){const l=(0,s.up)("router-link"),c=(0,s.up)("router-view");return e.userProfile?((0,s.wg)(),(0,s.iD)("div",Ki,[(0,s._)("div",Ji,[(0,s._)("div",Gi,[(0,s._)("div",Qi,[(0,s._)("div",Xi,[(0,s._)("img",{class:"user-img",src:e.userProfile.image},null,8,eo),(0,s._)("h4",null,(0,o.zw)(e.userProfile.username),1),(0,s._)("p",null,(0,o.zw)(e.userProfile.bio),1),(0,s._)("div",null,[to,e.isCurrentUserProfile?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,s.w5)((()=>[ro])),_:1})):(0,s.kq)("",!0)])])])])]),(0,s._)("div",ao,[(0,s._)("div",so,[(0,s._)("div",io,[(0,s._)("div",oo,[(0,s._)("ul",no,[(0,s._)("li",lo,[(0,s.Wm)(l,{to:{name:"userProfileMyPosts",params:{slug:e.userProfile.username}},class:(0,o.C_)(["nav-link",{active:"userProfileMyPosts"===e.routeName}])},{default:(0,s.w5)((()=>[co])),_:1},8,["to","class"])]),(0,s._)("li",uo,[(0,s.Wm)(l,{to:{name:"userProfileFavorites",params:{slug:e.userProfile.username}},class:(0,o.C_)(["nav-link",{active:"userProfileFavorites"===e.routeName}])},{default:(0,s.w5)((()=>[mo])),_:1},8,["to","class"])])])]),(0,s.Wm)(c)])])])])):(0,s.kq)("",!0)}var go=(0,s.aZ)({name:"AppUserProfile",setup(){const e=(0,re.oR)(Ut),t=(0,z.yj)(),{isLoading:r,data:a,error:i}=Tt("userProfile"),{isCurrentUserProfile:o}=ps(a),n=(0,s.Fl)((()=>t.params.slug)),l=(0,s.Fl)((()=>t.name));(0,s.YP)((()=>n.value),(()=>{n.value&&c()})),(0,s.bv)((()=>c()));const c=()=>{e.dispatch(nt.getUserProfile,{slug:n.value})};return{isLoading:r,userProfile:a,error:i,isCurrentUserProfile:o,routeName:l}}});const vo=(0,I.Z)(go,[["render",po]]);var fo=vo;function wo(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}function bo(){const e=(0,z.yj)(),t=(0,s.Fl)((()=>e.params.slug)),r=(0,s.Fl)((()=>{const r=e.path.includes("favorites");return r?`/articles?favorited=${t.value}`:`/articles?author=${t.value}`}));return{apiUrl:r}}var ho=(0,s.aZ)({name:"AppUserProfileMyPosts",components:{AppFeedItem:Qr},setup(){return{...bo()}}});const Ao=(0,I.Z)(ho,[["render",wo]]);var Fo=Ao;function So(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var yo=(0,s.aZ)({name:"AppUserProfileFavorites",components:{AppFeedItem:Qr},setup(){return{...bo()}}});const _o=(0,I.Z)(yo,[["render",So]]);var ko=_o;const Co=[{path:"/register",name:"register",component:La},{path:"/login",name:"login",component:Ha},{path:"/",name:"mainFeed",component:gr,children:[{path:"/",name:"globalFeed",component:ta},{path:"/yourFeed",name:"yourFeed",component:oa},{path:"/tags/:slug",name:"tag",component:ua}]},{path:"/articles/new",name:"createArticle",component:yi},{path:"/articles/:slug",name:"article",component:ei},{path:"/articles/:slug/edit",name:"editArticle",component:Ui},{path:"/settings",name:"settings",component:Bi},{path:"/profiles",name:"userProfile",component:fo,children:[{path:"/profiles/:slug",name:"userProfileMyPosts",component:Fo},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:ko}]}],Uo=(0,z.p7)({history:(0,z.PO)("/"),routes:Co});var Po=Uo;(0,a.ri)(H).use(Pt,Ut).use((0,C.WB)()).use(Po).mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,i){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],i=e[u][2];for(var n=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,s,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,o=a[0],n=a[1],l=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var u=l(r)}for(t&&t(a);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},a=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(1861)}));a=r.O(a)})();