(function(){"use strict";var e={3212:function(e,t,r){var a=r(9242),s=r(3396);function i(e,t,r,a,i,o){const n=(0,s.up)("app-top-bar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n),(0,s.Wm)(l)],64)}var o=r(7139);const n={class:"navbar navbar-light"},l={class:"container"},u=(0,s.Uk)(" MediumClone "),c={class:"nav navbar-nav pull-xs-right"},d={class:"nav-item"},m=(0,s.Uk)(" Home "),p={class:"nav-item"},g=(0,s._)("i",{class:"ion-compose"},null,-1),v=(0,s.Uk)(" New Article "),f={class:"nav-item"},S=(0,s._)("i",{class:"ion-gear-a"},null,-1),b=(0,s.Uk)(" Settings "),w={class:"nav-item"},F=["src"],A={class:"nav-item"},y=(0,s.Uk)(" Sing in "),h={class:"nav-item"},_=(0,s.Uk)(" Sing up ");function U(e,t,r,a,i,U){const C=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",n,[(0,s._)("div",l,[(0,s.Wm)(C,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,s.w5)((()=>[u])),_:1}),(0,s._)("ul",c,[(0,s._)("li",d,[(0,s.Wm)(C,{class:"nav-link",to:{name:"globalFeed"},"active-class":"active"},{default:(0,s.w5)((()=>[m])),_:1})]),a.isLoggedIn?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("li",p,[(0,s.Wm)(C,{class:"nav-link",to:{name:"createArticle"},"active-class":"active"},{default:(0,s.w5)((()=>[g,v])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(C,{class:"nav-link",to:{name:"settings"},"active-class":"active"},{default:(0,s.w5)((()=>[S,b])),_:1})]),(0,s._)("li",w,[(0,s.Wm)(C,{class:"nav-link",to:{name:"userProfileMyPosts",params:{slug:a.currentUser.username}},"active-class":"active"},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"user-pic",src:a.currentUser.image},null,8,F),(0,s.Uk)(" "+(0,o.zw)(a.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,s.kq)("",!0),a.isAnonymous?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("li",A,[(0,s.Wm)(C,{class:"nav-link",to:{name:"login"},"active-class":"active"},{default:(0,s.w5)((()=>[y])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(C,{class:"nav-link",to:{name:"register"},"active-class":"active"},{default:(0,s.w5)((()=>[_])),_:1})])],64)):(0,s.kq)("",!0)])])])}var C=r(65);const k="auth",P={currentUser:`[${k}] currentUser`,isLoggedIn:`[${k}] isLoggedIn`,isAnonymous:`[${k}] isAnonymous`},L={registerStart:`[${k}] registerStart`,registerSuccess:`[${k}] registerSuccess`,registerFailure:`[${k}] registerFailure`,loginStart:`[${k}] loginStart`,loginSuccess:`[${k}] loginSuccess`,loginFailure:`[${k}] loginFailure`,getCurrentUserStart:`[${k}] getCurrentUserStart`,getCurrentUserSuccess:`[${k}] getCurrentUserSuccess`,getCurrentUserFailure:`[${k}] getCurrentUserFailure`,updateCurrentUserStart:`[${k}] updateCurrentUserStart`,updateCurrentUserSuccess:`[${k}] updateCurrentUserSuccess`,updateCurrentUserFailure:`[${k}] updateCurrentUserFailure`,logout:`[${k}] logout`},$={register:`[${k}] register`,login:`[${k}] login`,getCurrentUser:`[${k}] getCurrentUser`,updateCurrentUser:`[${k}] updateCurreUser`,logout:`[${k}] logout`},T={[L.registerStart](e){e.isSubmitting=!0,e.validationErrors=null},[L.registerSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[L.registerFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[L.loginStart](e){e.isSubmitting=!0,e.validationErrors=null},[L.loginSuccess](e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},[L.loginFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[L.getCurrentUserStart](e){e.isLoading=!0},[L.getCurrentUserSuccess](e,t){e.currentUser=t,e.isLoading=!1,e.isLoggedIn=!0},[L.getCurrentUserFailure](e){e.isLoading=!1,e.isLoggedIn=!1,e.currentUser=null},[L.updateCurrentUserStart](){},[L.updateCurrentUserSuccess](e,t){e.currentUser=t},[L.updateCurrentUserFailure](){},[L.logout](e){e.currentUser=null,e.isLoggedIn=!1}};var D=r(6265),q=r.n(D);const E=e=>{try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return console.log("Error getting data from localstorage",t),null}},I=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log("Error saving data in localstorage",r)}};q().defaults.baseURL="https://conduit.productionready.io/api",q().interceptors.request.use((e=>{const t=E("accessToken"),r=t?`Token ${t}`:"";return e.headers={Authorization:r},e}));var j=q();const x=e=>j.post("/users",{user:e}),W=e=>j.post("/users/login",e),O=()=>j.get("/user"),Z=e=>j.put("/user",{user:e}).then((e=>e.data.user));var V={register:x,login:W,getCurrentUser:O,updateCurrentUser:Z};const M={[$.register]:async({commit:e},t)=>{try{e(L.registerStart);const{data:r}=await V.register(t);I("accessToken",r.user.token),e(L.registerSuccess,r.user)}catch(r){throw e(L.registerFailure,r.response.data.errors),r}},[$.login]:async({commit:e},t)=>{try{e(L.loginStart);const{data:r}=await V.login(t);I("accessToken",r.user.token),e(L.loginSuccess,r.user)}catch(r){throw e(L.loginFailure,r.response.data.errors),r}},[$.getCurrentUser]:async({commit:e})=>{try{e(L.getCurrentUserStart);const{data:t}=await V.getCurrentUser();e(L.getCurrentUserSuccess,t.user)}catch(t){throw e(L.getCurrentUserFailure),t}},[$.updateCurrentUser]:async({commit:e},{currentUserInput:t})=>{try{e(L.updateCurrentUserStart);const r=await V.updateCurrentUser(t);e(L.updateCurrentUserSuccess,r)}catch(r){throw console.dir(r),e(L.updateCurrentUserFailure,r.response.data.errors),r}},[$.logout]:async({commit:e})=>{try{I("accessToken",""),e(L.logout)}catch(t){throw console.log(t),t}}},N={[P.currentUser]:e=>e.currentUser,[P.isLoggedIn]:e=>Boolean(e.isLoggedIn),[P.isAnonymous]:e=>!1===e.isLoggedIn},R={isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null},H={state:R,getters:N,mutations:T,actions:M},z=e=>j.get(e);var Y={getFeed:z};const B="feed",J={getFeedStart:`[${B}] getFeedStart`,getFeedSuccess:`[${B}] getFeedSuccess`,getFeedFailure:`[${B}] getFeedFailure`},K={getFeed:`[${B}] getFeed`};var G={state(){return{data:null,isLoading:!1,error:null}},mutations:{[J.getFeedStart](e){e.isLoading=!0,e.data=null},[J.getFeedSuccess](e,t){e.isLoading=!1,e.data=t},[J.getFeedFailure](e){e.isLoading=!1}},actions:{[K.getFeed]:async({commit:e},{apiUrl:t})=>{try{e(J.getFeedStart);const{data:r}=await Y.getFeed(t);e(J.getFeedSuccess,r)}catch(r){throw e(J.getFeedFailure),r}}}};const Q=()=>j.get("/tags").then((e=>e.data.tags));var X={getPopularTags:Q};const ee="popularTags",te={getPopularTagsStart:`[${ee}] getPopularTagsStart`,getPopularTagsSuccess:`[${ee}] getPopularTagsSuccess`,getPopularTagsFailure:`[${ee}] getPopularTagsFailure`},re={getPopularTags:`[${ee}] getPopularTags`};var ae={state(){return{data:null,isLoading:!1,error:null}},mutations:{[te.getPopularTagsStart](e){e.isLoading=!0,e.data=null},[te.getPopularTagsSuccess](e,t){e.isLoading=!1,e.data=t},[te.getPopularTagsFailure](e){e.isLoading=!1}},actions:{[re.getPopularTags]:async({commit:e})=>{try{e(te.getPopularTagsStart);const t=await X.getPopularTags();e(te.getPopularTagsSuccess,t)}catch(t){throw e(te.getPopularTagsFailure),t}}}};const se="article",ie={getArticleStart:`[${se}] getArticleStart`,getArticleSuccess:`[${se}] getArticleSuccess`,getArticleFailure:`[${se}] getArticleFailure`,deleteArticleStart:`[${se}] deleteArticleStart`,deleteArticleSuccess:`[${se}] deleteArticleSuccess`,deleteArticleFailure:`[${se}] deleteArticleFailure`},oe={getArticle:`[${se}] getArticle`,deleteArticle:`[${se}] deleteArticle`},ne={[ie.getArticleStart](e){e.isLoading=!0,e.data=null},[ie.getArticleSuccess](e,t){e.isLoading=!1,e.data=t},[ie.getArticleFailure](e){e.isLoading=!1},[ie.deleteArticleStart](){},[ie.deleteArticleSuccess](){},[ie.deleteArticleFailure](){}},le=e=>j.get(`/articles/${e}`).then((e=>e.data.article)),ue=e=>j.post("/articles",{article:e}).then((e=>e.data.article)),ce=(e,t)=>j.put(`/articles/${e}`,{article:t}).then((e=>e.data.article)),de=e=>j["delete"](`/articles/${e}`);var me={getArticle:le,deleteArticle:de,createArticle:ue,updateArticle:ce};const pe={[oe.getArticle]:async({commit:e},{slug:t})=>{try{e(ie.getArticleStart);const r=await me.getArticle(t);e(ie.getArticleSuccess,r)}catch(r){throw e(ie.getArticleFailure),r}},[oe.deleteArticle]:async({commit:e},{slug:t})=>{try{e(ie.deleteArticleStart),await me.deleteArticle(t),e(ie.deleteArticleSuccess)}catch(r){throw e(ie.deleteArticleFailure),r}}},ge={data:null,isLoading:!1,error:null},ve={state:ge,mutations:ne,actions:pe},fe="createArticle",Se={createArticleStart:`[${fe}] createArticleStart`,createArticleSuccess:`[${fe}] createArticleSuccess`,createArticleFailure:`[${fe}] createArticleFailure`},be={createArticle:`[${fe}] createArticle`};var we={state(){return{isSubmitting:!1,validationErrors:null}},mutations:{[Se.createArticleStart](e){e.isSubmitting=!0},[Se.createArticleSuccess](e){e.isSubmitting=!1},[Se.createArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},actions:{[be.createArticle]:async({commit:e},{articleInput:t})=>{try{e(Se.createArticleStart);const r=await me.createArticle(t);return e(Se.createArticleSuccess),r}catch(r){throw e(Se.createArticleFailure,r.response.data.errors),r}}}};const Fe="editArticle",Ae={updateArticleStart:`[${Fe}] updateArticleStart`,updateArticleSuccess:`[${Fe}] updateArticleSuccess`,updateArticleFailure:`[${Fe}] updateArticleFailure`,getArticleStart:`[${Fe}] getArticleStart`,getArticleSuccess:`[${Fe}] getArticleSuccess`,getArticleFailure:`[${Fe}] getArticleFailure`},ye={updateArticle:`[${Fe}] updateArticle`,getArticle:`[${Fe}] getArticle`};var he={state(){return{isSubmitting:!1,validationErrors:null,isLoading:!1,article:null}},mutations:{[Ae.updateArticleStart](e){e.isSubmitting=!0},[Ae.updateArticleSuccess](e){e.isSubmitting=!1},[Ae.updateArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[Ae.getArticleStart](e){e.isLoading=!0},[Ae.getArticleSuccess](e,t){e.isLoading=!1,e.article=t},[Ae.getArticleFailure](e){e.isLoading=!1}},actions:{[ye.updateArticle]:async({commit:e},{slug:t,articleInput:r})=>{try{e(Ae.updateArticleStart);const a=await me.updateArticle(t,r);return e(Ae.updateArticleSuccess,a),a}catch(a){throw e(Ae.updateArticleFailure,a.response.data.errors),a}},[ye.getArticle]:async({commit:e},{slug:t})=>{try{e(Ae.getArticleStart);const r=await me.getArticle(t);return e(Ae.getArticleSuccess,r),r}catch(r){throw e(Ae.getArticleFailure),r}}}},_e={state(){return{isSubmitting:!1,validationErrors:null}},mutations:{[L.updateCurrentUserStart](e){e.isSubmitting=!0,e.validationErrors=null},[L.updateCurrentUserSuccess](e){e.isSubmitting=!1},[L.updateCurrentUserFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}}};const Ue="addToFavorites",Ce={addToFavoritesStart:`[${Ue}] addToFavoritesStart`,addToFavoritesSuccess:`[${Ue}] addToFavoritesSuccess`,addToFavoritesFailure:`[${Ue}] addToFavoritesFailure`},ke={addToFavorites:`[${Ue}] addToFavorites`},Pe={[Ce.addToFavoritesStart](){},[Ce.addToFavoritesSuccess](){},[Ce.addToFavoritesFailure](){}},Le=e=>j.post(`/articles/${e}/favorite`,{}).then((e=>e.data.article)),$e=e=>j["delete"](`/articles/${e}/favorite`).then((e=>e.data.article));var Te={addToFavorites:Le,removeFromFavorites:$e};const De={[ke.addToFavorites]:async({commit:e},{slug:t,isFavorited:r})=>{try{e(Ce.addToFavoritesStart);const a=r?await Te.removeFromFavorites(t):await Te.addToFavorites(t);e(Ce.addToFavoritesSuccess,a)}catch(a){throw e(Ce.addToFavoritesFailure),a}}},qe={mutations:Pe,actions:De},Ee="userProfile",Ie={getUserProfileStart:`[${Ee}] getUserProfileStart`,getUserProfileSuccess:`[${Ee}] getUserProfileSuccess`,getUserProfileFailure:`[${Ee}] getUserProfileFailure`,addToFallowStart:`[${Ee}] addToFallowStart`,addToFallowSuccess:`[${Ee}] addToFallowSuccess`,addToFallowFailure:`[${Ee}] addToFallowFailure`},je={getUserProfile:`[${Ee}] getUserProfile`,addToFallow:`[${Ee}] addToFallow`},xe={[Ie.getUserProfileStart](e){e.isLoading=!0,e.data=null},[Ie.getUserProfileSuccess](e,t){e.isLoading=!1,e.data=t},[Ie.getUserProfileFailure](e){e.isLoading=!1},[Ie.addToFallowStart](){},[Ie.addToFallowSuccess](){},[Ie.addToFallowFailure](){}},We=e=>j.get(`/profiles/${e}`).then((e=>e.data.profile)),Oe=e=>j.post(`/profiles/${e}/follow`,{}).then((e=>e.data.profile)),Ze=e=>j["delete"](`/profiles/${e}/follow`).then((e=>e.data.profile));var Ve={getUserProfile:We,addToFallow:Oe,removeFromFallow:Ze};const Me={[je.getUserProfile]:async({commit:e},{slug:t})=>{try{e(Ie.getUserProfileStart);const r=await Ve.getUserProfile(t);e(Ie.getUserProfileSuccess,r)}catch(r){throw e(Ie.getUserProfileFailure),r}},[je.addToFallow]:async({commit:e},{slug:t,isFallow:r})=>{try{e(Ie.addToFallowStart),r?await Ve.removeFromFallow(t):await Ve.addToFallow(t),e(Ie.addToFallowSuccess)}catch(a){throw e(Ie.addToFallowFailure),a}}},Ne={data:null,isLoading:!1,error:null},Re={state:Ne,mutations:xe,actions:Me},He=e=>j.get(`/articles/${e}/comments`).then((e=>e.data.comments)),ze=({slugArticle:e,commentInput:t})=>j.post(`/articles/${e}/comments`,{comment:t}).then((e=>e.data.comment)),Ye=({slugArticle:e,slugComment:t})=>j["delete"](`/articles/${e}/comments/${t}`);var Be={getComments:He,deleteComment:Ye,addComment:ze};const Je="comments",Ke={getCommentsStart:`[${Je}] getCommentsStart`,getCommentsSuccess:`[${Je}] getCommentsSuccess`,getCommentsFailure:`[${Je}] getCommentsFailure`,deleteCommentStart:`[${Je}] deleteCommentStart`,deleteCommentSuccess:`[${Je}] deleteCommentSuccess`,deleteCommentFailure:`[${Je}] deleteCommentFailure`,addCommentStart:`[${Je}] addCommentStart`,addCommentSuccess:`[${Je}] addCommentSuccess`,addCommentFailure:`[${Je}] addCommentFailure`},Ge={getComments:`[${Je}] getComments`,deleteComment:`[${Je}] deleteComment`,addComment:`[${Je}] addComment`};var Qe={state(){return{data:null,isLoading:!1,validationErrors:null}},mutations:{[Ke.getCommentsStart](e){e.isLoading=!0,e.data=null},[Ke.getCommentsSuccess](e,t){e.isLoading=!1,e.data=t.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))},[Ke.getCommentsFailure](e){e.isLoading=!1},[Ke.deleteCommentStart](){},[Ke.deleteCommentSuccess](e,{slugComment:t}){e.data=e.data.filter((e=>e.id!=t))},[Ke.deleteCommentFailure](){},[Ke.addCommentStart](){},[Ke.addCommentSuccess](e,t){e.data.unshift(t)},[Ke.addCommentFailure](e,t){e.validationErrors=t}},actions:{[Ge.getComments]:async({commit:e},{slug:t})=>{try{e(Ke.getCommentsStart);const r=await Be.getComments(t);e(Ke.getCommentsSuccess,r)}catch(r){throw e(Ke.getCommentsFailure),r}},[Ge.addComment]:async({commit:e},t)=>{try{e(Ke.addCommentStart);const r=await Be.addComment(t);e(Ke.addCommentSuccess,r)}catch(r){throw e(Ke.addCommentFailure,r.response.data.errors),r}},[Ge.deleteComment]:async({commit:e},t)=>{try{e(Ke.deleteCommentStart),await Be.deleteComment(t),e(Ke.deleteCommentSuccess,t)}catch(r){throw e(Ke.deleteCommentFailure),r}}}};const Xe=Symbol(),et=(0,C.MT)({state:{},mutations:{},actions:{},modules:{auth:H,feed:G,popularTags:ae,article:ve,createArticle:we,editArticle:he,settings:_e,addToFavorites:qe,userProfile:Re,comments:Qe}});var tt={name:"AppTopBar",setup(){const e=(0,C.oR)(Xe),t=(0,s.Fl)((()=>e.getters[P.currentUser])),r=(0,s.Fl)((()=>e.getters[P.isLoggedIn])),a=(0,s.Fl)((()=>e.getters[P.isAnonymous]));return{currentUser:t,isAnonymous:a,isLoggedIn:r}}},rt=r(89);const at=(0,rt.Z)(tt,[["render",U]]);var st=at,it={name:"App",components:{AppTopBar:st},setup(){const e=(0,C.oR)(Xe);(0,s.bv)((()=>{e.dispatch($.getCurrentUser)}))}};const ot=(0,rt.Z)(it,[["render",i]]);var nt=ot,lt=r(678);const ut={class:"home-page"},ct={class:"container page"},dt={class:"row"},mt={class:"col-md-9"},pt={class:"col-md-3"};function gt(e,t,r,a,i,o){const n=(0,s.up)("app-banner-item"),l=(0,s.up)("app-feed-toggle"),u=(0,s.up)("router-view"),c=(0,s.up)("app-popular-tags");return(0,s.wg)(),(0,s.iD)("div",ut,[(0,s.Wm)(n),(0,s._)("div",ct,[(0,s._)("div",dt,[(0,s._)("div",mt,[(0,s.Wm)(l,{"tag-name":a.tagName},null,8,["tag-name"]),(0,s.Wm)(u)]),(0,s._)("div",pt,[(0,s.Wm)(c)])])])])}const vt={key:2,class:"sidebar"},ft=(0,s._)("p",null,"Popular Tags",-1),St={class:"tag-list"};function bt(e,t,r,a,i,n){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[a.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),a.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),a.tags?((0,s.wg)(),(0,s.iD)("div",vt,[ft,(0,s._)("div",St,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tags,(e=>((0,s.wg)(),(0,s.j4)(c,{key:e,to:{name:"tag",params:{slug:e}},class:"tag-default tag-pill"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e),1)])),_:2},1032,["to"])))),128))])])):(0,s.kq)("",!0)])}function wt(e){const t=(0,C.oR)(Xe);return{isLoading:(0,s.Fl)((()=>t.state[e]["isLoading"])),data:(0,s.Fl)((()=>t.state[e]["data"])),error:(0,s.Fl)((()=>t.state[e]["error"]))}}const Ft=e=>((0,s.dD)("data-v-44a18710"),e=e(),(0,s.Cn)(),e),At={class:"loader"},yt=Ft((()=>(0,s._)("div",{class:"inner one"},null,-1))),ht=Ft((()=>(0,s._)("div",{class:"inner two"},null,-1))),_t=Ft((()=>(0,s._)("div",{class:"inner three"},null,-1))),Ut=[yt,ht,_t];function Ct(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",At,Ut)}var kt={name:"AppLoadingItem"};const Pt=(0,rt.Z)(kt,[["render",Ct],["__scopeId","data-v-44a18710"]]);var Lt=Pt;function $t(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("div",null,(0,o.zw)(r.message),1)}var Tt={name:"AppErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}};const Dt=(0,rt.Z)(Tt,[["render",$t]]);var qt=Dt,Et={name:"AppPopularTags",components:{AppLoadingItem:Lt,AppErrorMessage:qt},setup(){const e=(0,C.oR)(Xe),{isLoading:t,data:r,error:a}=wt("popularTags");return(0,s.bv)((()=>{e.dispatch(re.getPopularTags)})),{isLoading:t,tags:r,error:a}}};const It=(0,rt.Z)(Et,[["render",bt]]);var jt=It;const xt={class:"banner"},Wt=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Medium clone"),(0,s._)("p",null,"A place to share knowledge")],-1),Ot=[Wt];function Zt(e,t,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",xt,Ot)}var Vt={name:"AppBannerItem"};const Mt=(0,rt.Z)(Vt,[["render",Zt]]);var Nt=Mt;const Rt={class:"feed-toggle"},Ht={class:"nav nav-pills outline-active"},zt={key:0,class:"nav-item"},Yt=(0,s.Uk)(" Your Feed "),Bt={class:"nav-item"},Jt=(0,s.Uk)(" Global Feed "),Kt={key:1,class:"nav-item"},Gt=(0,s._)("i",{class:"ion-pound"},null,-1);function Qt(e,t,r,a,i,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Rt,[(0,s._)("ul",Ht,[a.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",zt,[(0,s.Wm)(l,{to:{name:"yourFeed"},class:(0,o.C_)(["nav-link",{active:"yourFeed"===a.routeName}])},{default:(0,s.w5)((()=>[Yt])),_:1},8,["class"])])):(0,s.kq)("",!0),(0,s._)("li",Bt,[(0,s.Wm)(l,{to:{name:"globalFeed"},class:(0,o.C_)(["nav-link",{active:"globalFeed"===a.routeName}])},{default:(0,s.w5)((()=>[Jt])),_:1},8,["class"])]),r.tagName?((0,s.wg)(),(0,s.iD)("li",Kt,[(0,s.Wm)(l,{to:{name:"tag"},class:(0,o.C_)(["nav-link",{active:"tag"===a.routeName}])},{default:(0,s.w5)((()=>[Gt,(0,s.Uk)(" "+(0,o.zw)(r.tagName),1)])),_:1},8,["class"])])):(0,s.kq)("",!0)])])}var Xt={name:"AppFeedToggle",props:{tagName:{type:String,required:!1}},setup(){const e=(0,C.oR)(Xe),t=(0,lt.yj)(),r=(0,s.Fl)((()=>e.getters[P.isLoggedIn])),a=(0,s.Fl)((()=>t.name));return{isLoggedIn:r,routeName:a}}};const er=(0,rt.Z)(Xt,[["render",Qt]]);var tr=er,rr={name:"AppFeedPage",components:{AppPopularTags:jt,AppBannerItem:Nt,AppFeedToggle:tr},setup(){const e=(0,lt.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t}}};const ar=(0,rt.Z)(rr,[["render",gt]]);var sr=ar;function ir(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":a.apiUrl},null,8,["api-url"])}const or=e=>((0,s.dD)("data-v-103fb018"),e=e(),(0,s.Cn)(),e),nr={key:2},lr={class:"article-meta"},ur={class:"pull-xs-right"},cr=or((()=>(0,s._)("span",null,"Read more...",-1)));function dr(e,t,r,a,i,n){const l=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),c=(0,s.up)("app-user-info"),d=(0,s.up)("app-add-to-favorites"),m=(0,s.up)("app-tags-list"),p=(0,s.up)("router-link"),g=(0,s.up)("app-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),a.error?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),a.feed?((0,s.wg)(),(0,s.iD)("div",nr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.feed.articles,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"article-preview",key:t},[(0,s._)("div",lr,[(0,s.Wm)(c,{user:e.author,date:a.convertDateJsonToDate(e.createdAt).toLocaleString()},null,8,["user","date"]),(0,s._)("div",ur,[(0,s.Wm)(d,{"is-favorited":e.favorited,"article-slug":e.slug,"favorites-count":e.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])])]),(0,s.Wm)(p,{to:{name:"article",params:{slug:e.slug}},class:"preview-link"},{default:(0,s.w5)((()=>[(0,s._)("h1",null,(0,o.zw)(e.title),1),(0,s._)("p",null,(0,o.zw)(e.description),1),cr,(0,s.Wm)(m,{tags:e.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,s.Wm)(g,{total:a.feed.articlesCount,limit:a.limit,"current-page":a.currentPage,url:a.baseUrl},null,8,["total","limit","current-page","url"])])):(0,s.kq)("",!0)],64)}const mr=5,pr=e=>{try{return new Date(e)}catch(t){console.log("Error convert date",t)}};var gr=r(4782);const vr={class:"pagination"};function fr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("ul",vr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.pages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,o.C_)(["page-item",{active:r.currentPage===e}])},[(0,s.Wm)(l,{to:{path:r.url,query:{page:e}},class:"page-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e),1)])),_:2},1032,["to"])],2)))),128))])}const Sr=(e,t)=>[...Array(t).keys()].map((t=>t+e));var br={name:"AppPagination",props:{total:{type:Number,requred:!0},limit:{type:Number,requred:!0},currentPage:{type:Number,requred:!0},url:{type:String,requred:!0}},setup(e){const t=(0,s.Fl)((()=>{const t=Math.ceil(e.total/e.limit);return Sr(1,t)}));return{pages:t}}};const wr=(0,rt.Z)(br,[["render",fr]]);var Fr=wr;const Ar={key:0,class:"tag-list"};function yr(e,t,r,a,i,n){return r.tags.length?((0,s.wg)(),(0,s.iD)("ul",Ar,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.tags,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:"tag-default tag-pill tag-outline ng-binding ng-scope"},(0,o.zw)(e),1)))),128))])):(0,s.kq)("",!0)}var hr={name:"AppTagsList",props:{tags:{type:Array,required:!0}}};const _r=(0,rt.Z)(hr,[["render",yr]]);var Ur=_r;const Cr=(0,s._)("i",{class:"ion-heart"},null,-1);function kr(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("button",{class:(0,o.C_)(["btn btn-sm",{"btn-primary":a.isFavoritedOptimistic,"btn-outline-primary":!a.isFavoritedOptimistic}]),onClick:t[0]||(t[0]=(...e)=>a.handleLike&&a.handleLike(...e))},[Cr,(0,s.Uk)(" "+(0,o.zw)(a.favoritesCountOptimistic),1)],2)}var Pr=r(4870),Lr={name:"AppAddToFavorites",props:{isFavorited:{type:Boolean,requred:!0},articleSlug:{type:String,requred:!0},favoritesCount:{type:Number,requred:!0},text:{type:String,requred:!1}},setup(e){const t=(0,C.oR)(Xe),r=(0,Pr.iH)(e.isFavorited),a=(0,Pr.iH)(e.favoritesCount),s=()=>{t.dispatch(ke.addToFavorites,{slug:e.articleSlug,isFavorited:r.value}),r.value?a.value-=1:a.value+=1,r.value=!r.value};return{handleLike:s,isFavoritedOptimistic:r,favoritesCountOptimistic:a}}};const $r=(0,rt.Z)(Lr,[["render",kr]]);var Tr=$r;const Dr={key:0,class:"user-info"},qr=["src"],Er={class:"info"},Ir={key:0,class:"date"};function jr(e,t,r,a,i,n){const l=(0,s.up)("router-link");return r.user?((0,s.wg)(),(0,s.iD)("div",Dr,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:r.user.username}}},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"comment-author-img",src:r.user.image},null,8,qr)])),_:1},8,["to"]),(0,s._)("div",Er,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:r.user.username}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(r.user.username),1)])),_:1},8,["to"]),r.date?((0,s.wg)(),(0,s.iD)("span",Ir,(0,o.zw)(r.date),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}var xr={name:"AppUserInfo",props:{user:{type:Object,requred:!0},date:{type:String,requred:!1}}};const Wr=(0,rt.Z)(xr,[["render",jr]]);var Or=Wr,Zr={name:"AppFeedItem",components:{AppPagination:Fr,AppLoadingItem:Lt,AppErrorMessage:qt,AppTagsList:Ur,AppAddToFavorites:Tr,AppUserInfo:Or},props:{apiUrl:{type:String,requred:!0}},setup(e){const t=(0,lt.yj)(),r=(0,C.oR)(Xe),a=(0,s.Fl)((()=>Number(t.query.page||"1"))),i=(0,s.Fl)((()=>a.value*mr-mr)),{isLoading:o,data:n,error:l}=wt("feed"),u=(0,s.Fl)((()=>t.path));(0,s.bv)((()=>c())),(0,s.YP)(a,(()=>c())),(0,s.YP)((()=>e.apiUrl),(()=>c()));const c=()=>{const t=(0,gr.parseUrl)(e.apiUrl),a=(0,gr.stringify)({limit:mr,offset:i.value,...t.query}),s=`${t.url}?${a}`;r.dispatch(K.getFeed,{apiUrl:s})};return{isLoading:o,feed:n,error:l,currentPage:a,limit:mr,baseUrl:u,convertDateJsonToDate:pr}}};const Vr=(0,rt.Z)(Zr,[["render",dr],["__scopeId","data-v-103fb018"]]);var Mr=Vr,Nr={name:"AppGlobalFeed",components:{AppFeedItem:Mr},setup(){return{apiUrl:(0,Pr.iH)("/articles")}}};const Rr=(0,rt.Z)(Nr,[["render",ir]]);var Hr=Rr;const zr={class:"home-page"};function Yr(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.iD)("div",zr,[(0,s.Wm)(n,{"api-url":a.apiUrl},null,8,["api-url"])])}var Br={name:"AppYourFeed",components:{AppFeedItem:Mr},setup(){return{apiUrl:(0,Pr.iH)("/articles/feed")}}};const Jr=(0,rt.Z)(Br,[["render",Yr]]);var Kr=Jr;function Gr(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":a.apiUrl},null,8,["api-url"])}var Qr={name:"AppYourFeed",components:{AppFeedItem:Mr},setup(){const e=(0,lt.yj)(),t=(0,s.Fl)((()=>e.params.slug));return{tagName:t,apiUrl:(0,s.Fl)((()=>`articles?tag=${t.value}`))}}};const Xr=(0,rt.Z)(Qr,[["render",Gr]]);var ea=Xr;const ta={class:"auth-page"},ra={class:"container page"},aa={class:"row"},sa={class:"col-md-6 offset-md-3 col-xs-12"},ia=(0,s._)("h1",{class:"text-xs-center"},"Sign up",-1),oa={class:"text-xs-center"},na=(0,s.Uk)(" Have an account? "),la={class:"form-group"},ua={class:"form-group"},ca={class:"form-group"},da=["disabled"];function ma(e,t,r,i,o,n){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",ta,[(0,s._)("div",ra,[(0,s._)("div",aa,[(0,s._)("div",sa,[ia,(0,s._)("p",oa,[(0,s.Wm)(l,{to:{name:"login"}},{default:(0,s.w5)((()=>[na])),_:1})]),i.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":i.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",la,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>i.user.username=e)},null,512),[[a.nr,i.user.username]])]),(0,s._)("fieldset",ua,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=e=>i.user.email=e)},null,512),[[a.nr,i.user.email]])]),(0,s._)("fieldset",ca,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>i.user.password=e)},null,512),[[a.nr,i.user.password]])]),(0,s._)("button",{disabled:i.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign Up ",8,da)],32)])])])])}const pa={class:"error-messages"};function ga(e,t,r,a,i,n){return(0,s.wg)(),(0,s.iD)("ul",pa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.errorMessages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,o.zw)(e),1)))),128))])}var va={name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},setup(e){const t=(0,s.Fl)((()=>Object.keys(e.validationErrors).map((t=>{const r=e.validationErrors[t].join(", ");return`${t} ${r}`}))));return{errorMessages:t}}};const fa=(0,rt.Z)(va,[["render",ga]]);var Sa=fa,ba={name:"AppRegisterPage",setup(){const e=(0,C.oR)(Xe),t=(0,lt.tv)(),r=(0,Pr.qj)({username:"",email:"",password:""}),a=(0,s.Fl)((()=>e.state.auth.isSubmitting)),i=(0,s.Fl)((()=>e.state.auth.validationErrors)),o=()=>{e.dispatch($.register,r).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:o,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:Sa}};const wa=(0,rt.Z)(ba,[["render",ma]]);var Fa=wa;const Aa={class:"auth-page"},ya={class:"container page"},ha={class:"row"},_a={class:"col-md-6 offset-md-3 col-xs-12"},Ua=(0,s._)("h1",{class:"text-xs-center"},"Sign in",-1),Ca={class:"text-xs-center"},ka=(0,s.Uk)(" Need an account? "),Pa={class:"form-group"},La={class:"form-group"},$a=["disabled"];function Ta(e,t,r,i,o,n){const l=(0,s.up)("router-link"),u=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Aa,[(0,s._)("div",ya,[(0,s._)("div",ha,[(0,s._)("div",_a,[Ua,(0,s._)("p",Ca,[(0,s.Wm)(l,{to:{name:"register"}},{default:(0,s.w5)((()=>[ka])),_:1})]),i.validationErrors?((0,s.wg)(),(0,s.j4)(u,{key:0,"validation-errors":i.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",Pa,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>i.user.email=e)},null,512),[[a.nr,i.user.email]])]),(0,s._)("fieldset",La,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>i.user.password=e)},null,512),[[a.nr,i.user.password]])]),(0,s._)("button",{disabled:i.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign In ",8,$a)],32)])])])])}var Da={name:"AppLoginPage",setup(){const e=(0,C.oR)(Xe),t=(0,lt.tv)(),r=(0,Pr.qj)({email:"",password:""}),a=(0,s.Fl)((()=>e.state.auth.isSubmitting)),i=(0,s.Fl)((()=>e.state.auth.validationErrors)),o=()=>{e.dispatch($.login,{user:r}).then((()=>t.push({name:"globalFeed"}))).catch((e=>console.log(e)))};return{onSubmit:o,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:Sa}};const qa=(0,rt.Z)(Da,[["render",Ta]]);var Ea=qa;const Ia={key:0,class:"article-page"},ja={class:"banner"},xa={class:"container"},Wa={class:"article-meta"},Oa={class:"container page"},Za={class:"row article-content"},Va={class:"col-xs-12"},Ma=(0,s._)("hr",null,null,-1),Na={class:"row"},Ra={class:"col-xs-12 col-md-8 offset-md-2"},Ha={class:"article-actions"};function za(e,t,r,a,i,n){const l=(0,s.up)("app-article-user-info"),u=(0,s.up)("app-loading-item"),c=(0,s.up)("app-error-message"),d=(0,s.up)("app-tags-list"),m=(0,s.up)("app-add-comment-form"),p=(0,s.up)("app-comment-list");return a.article?((0,s.wg)(),(0,s.iD)("div",Ia,[(0,s._)("div",ja,[(0,s._)("div",xa,[(0,s._)("h1",null,(0,o.zw)(a.article.title),1),(0,s._)("div",Wa,[(0,s.Wm)(l,{article:a.article},null,8,["article"])])])]),(0,s._)("div",Oa,[a.isLoading?((0,s.wg)(),(0,s.j4)(u,{key:0})):(0,s.kq)("",!0),a.error?((0,s.wg)(),(0,s.j4)(c,{key:1,message:a.error},null,8,["message"])):(0,s.kq)("",!0),(0,s._)("div",Za,[(0,s._)("div",Va,[(0,s._)("div",null,[(0,s._)("p",null,(0,o.zw)(a.article.body),1)]),(0,s.Wm)(d,{tags:a.article.tagList},null,8,["tags"])])]),Ma,(0,s._)("div",Na,[(0,s._)("div",Ra,[(0,s._)("div",Ha,[(0,s.Wm)(l,{article:a.article},null,8,["article"])]),(0,s.Wm)(m,{onAddComment:a.addComment,"is-submitting":a.isSubmittingAddComment,errors:a.validationErrors},null,8,["onAddComment","is-submitting","errors"]),(0,s.Wm)(p,{slug:a.article.slug},null,8,["slug"])])])])])):(0,s.kq)("",!0)}const Ya={key:0};function Ba(e,t,r,a,i,o){const n=(0,s.up)("app-comment-item");return a.comments?((0,s.wg)(),(0,s.iD)("div",Ya,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.comments,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s.Wm)(n,{comment:e,onDeleteComment:a.deleteComment},null,8,["comment","onDeleteComment"])])))),128))])):(0,s.kq)("",!0)}const Ja=e=>((0,s.dD)("data-v-3f016858"),e=e(),(0,s.Cn)(),e),Ka={key:0,class:"card"},Ga={class:"card-block"},Qa={class:"card-text"},Xa={class:"card-footer"},es=Ja((()=>(0,s._)("i",{class:"ion-trash-a"},null,-1))),ts=[es];function rs(e,t,r,a,i,n){const l=(0,s.up)("app-user-info");return r.comment?((0,s.wg)(),(0,s.iD)("div",Ka,[(0,s._)("div",Ga,[(0,s._)("p",Qa,(0,o.zw)(r.comment.body),1)]),(0,s._)("div",Xa,[(0,s.Wm)(l,{user:r.comment.author,date:a.convertDateJsonToDate(r.comment.createdAt).toLocaleString()},null,8,["user","date"]),a.isCurrentUserProfile?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"mod-options",onClick:t[0]||(t[0]=e=>a.deleteComment(r.comment.id))},ts)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}function as(e){const t=(0,C.oR)(Xe),r=(0,s.Fl)((()=>t.getters[P.currentUser])),a=(0,s.Fl)((()=>!!(e&&r.value&&e.value)&&r.value.username===e.value.username));return{currentUser:r,isCurrentUserProfile:a}}var ss={name:"AppCommentItem",emits:["deleteComment"],components:{AppUserInfo:Or},props:{comment:{type:Object,required:!0}},setup(e,{emit:t}){const{currentUser:r,isCurrentUserProfile:a}=as((0,Pr.iH)(e.comment.author)),s=e=>{t("deleteComment",{slugComment:e})};return{isCurrentUserProfile:a,currentUser:r,deleteComment:s,convertDateJsonToDate:pr}}};const is=(0,rt.Z)(ss,[["render",rs],["__scopeId","data-v-3f016858"]]);var os=is,ns={name:"AppCommentList",components:{AppCommentItem:os},props:{slug:{type:String,required:!0}},setup(e){const t=(0,C.oR)(Xe);(0,s.bv)((()=>{t.dispatch(Ge.getComments,{slug:e.slug})}));const{isLoading:r,data:a,error:i}=wt("comments"),o=({slugComment:r})=>{const a={slugArticle:e.slug,slugComment:r};t.dispatch(Ge.deleteComment,a)};return{isLoading:r,comments:a,error:i,deleteComment:o}}};const ls=(0,rt.Z)(ns,[["render",Ba]]);var us=ls;const cs={key:0},ds={class:"card-block"},ms=["disabled"],ps={class:"card-footer"},gs=["src"],vs=["disabled"];function fs(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return i.currentUser?((0,s.wg)(),(0,s.iD)("div",cs,[r.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":r.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{class:"card comment-form",onSubmit:t[1]||(t[1]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("div",ds,[(0,s.wy)((0,s._)("textarea",{class:"form-control",disabled:r.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=e=>i.commentInput.body=e)},null,8,ms),[[a.nr,i.commentInput.body]])]),(0,s._)("div",ps,[(0,s._)("img",{class:"comment-author-img",src:i.currentUser.image},null,8,gs),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:r.isSubmitting},"Post Comment",8,vs)])],32)])):(0,s.kq)("",!0)}var Ss={name:"AppAddCommentForm",emits:["addComment"],props:{isSubmitting:{type:Boolean,default:!1},errors:{type:Object,required:!1}},components:{AppValidationErrors:Sa},setup(e,{emit:t}){const r=(0,C.oR)(Xe),a=(0,Pr.qj)({body:""});(0,s.YP)((()=>e.isSubmitting),(e=>{e||(a.body="")}));const i=()=>{t("addComment",a)};return{commentInput:a,onSubmit:i,currentUser:(0,s.Fl)((()=>r.getters[P.currentUser]))}}};const bs=(0,rt.Z)(Ss,[["render",fs]]);var ws=bs;const Fs={class:"article-meta d-flex"},As={key:0},ys=(0,s._)("i",{class:"ion-edit"},null,-1),hs=(0,s.Uk)(" Edit Article "),_s=(0,s.Uk)("   "),Us=(0,s._)("i",{class:"ion-trash-a"},null,-1),Cs=(0,s.Uk)(" Delete Article "),ks=[Us,Cs],Ps={key:1},Ls=(0,s._)("i",{class:"ion-plus-round"},null,-1),$s={key:0},Ts={key:1},Ds=(0,s.Uk)("   ");function qs(e,t,r,a,i,n){const l=(0,s.up)("app-user-info"),u=(0,s.up)("router-link"),c=(0,s.up)("app-add-to-favorites");return(0,s.wg)(),(0,s.iD)("div",Fs,[(0,s.Wm)(l,{user:r.article.author,date:a.convertDateJsonToDate(r.article.createdAt).toLocaleString()},null,8,["user","date"]),r.article?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[a.isAuthor?((0,s.wg)(),(0,s.iD)("span",As,[(0,s.Wm)(u,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:r.article.slug}}},{default:(0,s.w5)((()=>[ys,hs])),_:1},8,["to"]),_s,(0,s._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=(...t)=>e.deleteArticle&&e.deleteArticle(...t))},ks)])):((0,s.wg)(),(0,s.iD)("span",Ps,[(0,s._)("button",{type:"button",class:(0,o.C_)(["btn btn-sm action-btn",{"btn-secondary":a.isFollowing,"btn-outline-secondary":!a.isFollowing}]),onClick:t[1]||(t[1]=(...e)=>a.onFallow&&a.onFallow(...e))},[Ls,a.isFollowing?((0,s.wg)(),(0,s.iD)("span",$s," UnFollow "+(0,o.zw)(r.article.author.username),1)):((0,s.wg)(),(0,s.iD)("span",Ts," Follow "+(0,o.zw)(r.article.author.username),1))],2),Ds,(0,s.Wm)(c,{"is-favorited":r.article.favorited,"article-slug":r.article.slug,"favorites-count":r.article.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])]))],64)):(0,s.kq)("",!0)])}var Es={name:"AppArticleUserInfo",props:{article:{type:Object,required:!0}},components:{AppUserInfo:Or,AppAddToFavorites:Tr},setup(e){const t=(0,C.oR)(Xe),r=(0,Pr.iH)(e.article.author.following),{isCurrentUserProfile:a}=as((0,Pr.iH)(e.article.author)),s=()=>{t.dispatch(je.addToFallow,{slug:e.article.author.username,isFallow:e.article.author.following}).then((()=>r.value=!r.value))};return{convertDateJsonToDate:pr,onFallow:s,isFollowing:r,isAuthor:a}}};const Is=(0,rt.Z)(Es,[["render",qs]]);var js=Is,xs={name:"AppArticleItem",components:{AppLoadingItem:Lt,AppErrorMessage:qt,AppTagsList:Ur,AppCommentList:us,AppAddCommentForm:ws,AppArticleUserInfo:js},setup(){const e=(0,C.oR)(Xe),t=(0,lt.yj)(),r=(0,lt.tv)(),{isLoading:a,data:s,error:i}=wt("article"),o=(0,Pr.iH)(!1);e.dispatch(oe.getArticle,{slug:t.params.slug});const n=r=>{o.value=!0,e.dispatch(Ge.addComment,{slugArticle:t.params.slug,commentInput:r}).then((()=>o.value=!1)).catch((()=>o.value=!1))},l=()=>{e.dispatch(oe.deleteArticle,{slug:t.params.slug}).then((()=>{r.push({name:"globalFeed"})}))};return{isLoading:a,error:i,article:s,isSubmittingAddComment:o,validationErrors:(0,Pr.Fl)((()=>e.state.comments.validationErrors)),deleteArticle:l,addComment:n}}};const Ws=(0,rt.Z)(xs,[["render",za]]);var Os=Ws;function Zs(e,t,r,a,i,o){const n=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.j4)(n,{"initial-values":a.initialValues,errors:a.validationErrors,"is-submitting":a.isSubmitting,onArticleSubmit:a.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])}const Vs={class:"editor-page"},Ms={class:"container page"},Ns={class:"row"},Rs={class:"col-md-10 offset-md-1 col-xs-12"},Hs={class:"form-group"},zs=["disabled"],Ys={class:"form-group"},Bs=["disabled"],Js={class:"form-group"},Ks=["disabled"],Gs={class:"form-group"},Qs=["disabled"],Xs={class:"form-group"},ei=["disabled"];function ti(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Vs,[(0,s._)("div",Ms,[(0,s._)("div",Ns,[(0,s._)("div",Rs,[r.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":r.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",Hs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title",disabled:r.isSubmitting,"onUpdate:modelValue":t[0]||(t[0]=e=>i.dataForm.title=e)},null,8,zs),[[a.nr,i.dataForm.title]])]),(0,s._)("fieldset",Ys,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description",disabled:r.isSubmitting,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dataForm.description=e)},null,8,Bs),[[a.nr,i.dataForm.description]])]),(0,s._)("fieldset",Js,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?",disabled:r.isSubmitting,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dataForm.body=e)},null,8,Ks),[[a.nr,i.dataForm.body]])]),(0,s._)("fieldset",Gs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags",disabled:r.isSubmitting,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dataForm.tagList=e)},null,8,Qs),[[a.nr,i.dataForm.tagList]])]),(0,s._)("fieldset",Xs,[(0,s._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:r.isSubmitting}," Publish Article ",8,ei)])])],32)])])])])}var ri={name:"AppArticleForm",emits:["articleSubmit"],components:{AppValidationErrors:Sa},props:{initialValues:{type:Object,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},setup(e,{emit:t}){const r=(0,Pr.qj)(e.initialValues),a=()=>{const e={title:r.title,description:r.description,body:r.description,tagList:r.tagList.toString().split(" ")};t("articleSubmit",e)};return{dataForm:r,onSubmit:a}}};const ai=(0,rt.Z)(ri,[["render",ti]]);var si=ai,ii={name:"AppCreateArticle",components:{AppArticleForm:si},setup(){const e=(0,C.oR)(Xe),t=(0,lt.tv)(),r={title:"",description:"",body:"",tagList:[]},a=r=>{e.dispatch(be.createArticle,{articleInput:r}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:r,validationErrors:(0,s.Fl)((()=>e.state.createArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.createArticle.isSubmitting)),onSubmit:a}}};const oi=(0,rt.Z)(ii,[["render",Zs]]);var ni=oi;function li(e,t,r,a,i,o){const n=(0,s.up)("app-loading-item"),l=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.isLoading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),a.initialValues?((0,s.wg)(),(0,s.j4)(l,{key:1,"initial-values":a.initialValues,errors:a.validationErrors,"is-submitting":a.isSubmitting,onArticleSubmit:a.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])):(0,s.kq)("",!0)],64)}var ui={name:"AppEditArticle",components:{AppArticleForm:si,AppLoadingItem:Lt},setup(){const e=(0,C.oR)(Xe),t=(0,lt.tv)(),r=(0,lt.yj)(),a=(0,s.Fl)((()=>e.state.editArticle.article)),i=(0,s.Fl)((()=>a.value?{title:a.value.title,description:a.value.description,body:a.value.body,tagList:a.value.tagList.toString()}:null));(0,s.bv)((()=>{e.dispatch(ye.getArticle,{slug:r.params.slug})}));const o=a=>{e.dispatch(ye.updateArticle,{slug:r.params.slug,articleInput:a}).then((e=>{t.push({name:"article",params:{slug:e.slug}})}))};return{initialValues:i,validationErrors:(0,s.Fl)((()=>e.state.editArticle.validationErrors)),isSubmitting:(0,s.Fl)((()=>e.state.editArticle.isSubmitting)),isLoading:(0,s.Fl)((()=>e.state.editArticle.isLoading)),onSubmit:o,article:a}}};const ci=(0,rt.Z)(ui,[["render",li]]);var di=ci;const mi={key:0,class:"settings-page"},pi={class:"container page"},gi={class:"row"},vi={class:"col-md-6 offset-md-3 col-xs-12"},fi=(0,s._)("h1",{class:"text-xs-center"},"Settings",-1),Si={class:"form-group"},bi=["disabled"],wi={class:"form-group"},Fi=["disabled"],Ai={class:"form-group"},yi=["disabled"],hi={class:"form-group"},_i=["disabled"],Ui={class:"form-group"},Ci=["disabled"],ki=["disabled"],Pi=(0,s._)("hr",null,null,-1);function Li(e,t,r,i,o,n){const l=(0,s.up)("app-validation-errors");return i.currentUser?((0,s.wg)(),(0,s.iD)("div",mi,[(0,s._)("div",pi,[(0,s._)("div",gi,[(0,s._)("div",vi,[fi,i.validationErrors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":i.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",Si,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>i.form.image=e),disabled:i.isSubmitting,placeholder:"URL of profile image"},null,8,bi),[[a.nr,i.form.image]])]),(0,s._)("fieldset",wi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=e=>i.form.username=e),disabled:i.isSubmitting,placeholder:"Username"},null,8,Fi),[[a.nr,i.form.username]])]),(0,s._)("fieldset",Ai,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=e=>i.form.bio=e),disabled:i.isSubmitting,placeholder:"Short bio about you"},null,8,yi),[[a.nr,i.form.bio]])]),(0,s._)("fieldset",hi,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=e=>i.form.email=e),disabled:i.isSubmitting,placeholder:"Email"},null,8,_i),[[a.nr,i.form.email]])]),(0,s._)("fieldset",Ui,[(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=e=>i.form.password=e),disabled:i.isSubmitting,placeholder:"New password"},null,8,Ci),[[a.nr,i.form.password]])]),(0,s._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:i.isSubmitting}," Update settings ",8,ki)])],32),Pi,(0,s._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...e)=>i.logout&&i.logout(...e)),type:"text"}," Or cick here to logout ")])])])])):(0,s.kq)("",!0)}var $i={name:"AppSettingsPage",components:{AppValidationErrors:Sa},setup(){const e=(0,C.oR)(Xe),t=(0,lt.tv)(),r=(0,s.Fl)((()=>e.getters[P.currentUser])),a=(0,s.Fl)((()=>({username:r.value.username,bio:r.value.bio,image:r.value.image,email:r.value.email,password:""}))),i=()=>{e.dispatch($.updateCurrentUser,{currentUserInput:a.value}).then((()=>{t.push({name:"userProfileMyPosts",params:{slug:r.value.username}})}))},o=()=>{e.dispatch($.logout).then((()=>{t.push({name:"globalFeed"})}))};return{isSubmitting:(0,s.Fl)((()=>e.state.settings.isSubmitting)),validationErrors:(0,s.Fl)((()=>e.state.settings.validationErrors)),currentUser:r,form:a,onSubmit:i,logout:o}}};const Ti=(0,rt.Z)($i,[["render",Li]]);var Di=Ti;const qi={key:0,class:"profile-page"},Ei={class:"profile-page__user-info"},Ii={class:"container"},ji={class:"row"},xi={class:"col-xs-12 col-md-10 offset-md-1"},Wi=["src"],Oi=(0,s.Uk)(" FOLLOW USER BUTTON "),Zi=(0,s.Uk)(" Edit Profile Settings "),Vi={class:"container"},Mi={class:"row"},Ni={class:"col-xs-12 col-md-10 offset-md-1"},Ri={class:"article-toggle"},Hi={class:"nav nav-pills outline-active"},zi={class:"nav-item"},Yi=(0,s.Uk)(" My Posts "),Bi={class:"nav-item"},Ji=(0,s.Uk)(" Favorites Posts ");function Ki(e,t,r,a,i,n){const l=(0,s.up)("router-link"),u=(0,s.up)("router-view");return a.userProfile?((0,s.wg)(),(0,s.iD)("div",qi,[(0,s._)("div",Ei,[(0,s._)("div",Ii,[(0,s._)("div",ji,[(0,s._)("div",xi,[(0,s._)("img",{class:"user-img",src:a.userProfile.image},null,8,Wi),(0,s._)("h4",null,(0,o.zw)(a.userProfile.username),1),(0,s._)("p",null,(0,o.zw)(a.userProfile.bio),1),(0,s._)("div",null,[Oi,a.isCurrentUserProfile?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,s.w5)((()=>[Zi])),_:1})):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Vi,[(0,s._)("div",Mi,[(0,s._)("div",Ni,[(0,s._)("div",Ri,[(0,s._)("ul",Hi,[(0,s._)("li",zi,[(0,s.Wm)(l,{to:{name:"userProfileMyPosts",params:{slug:a.userProfile.username}},class:(0,o.C_)(["nav-link",{active:"userProfileMyPosts"===a.routeName}])},{default:(0,s.w5)((()=>[Yi])),_:1},8,["to","class"])]),(0,s._)("li",Bi,[(0,s.Wm)(l,{to:{name:"userProfileFavorites",params:{slug:a.userProfile.username}},class:(0,o.C_)(["nav-link",{active:"userProfileFavorites"===a.routeName}])},{default:(0,s.w5)((()=>[Ji])),_:1},8,["to","class"])])])]),(0,s.Wm)(u)])])])])):(0,s.kq)("",!0)}var Gi={name:"AppUserProfile",setup(){const e=(0,C.oR)(Xe),t=(0,lt.yj)(),{isLoading:r,data:a,error:i}=wt("userProfile"),{isCurrentUserProfile:o}=as(a),n=(0,s.Fl)((()=>t.params.slug)),l=(0,s.Fl)((()=>t.name));(0,s.YP)((()=>n.value),(()=>u())),(0,s.bv)((()=>u()));const u=()=>{e.dispatch(je.getUserProfile,{slug:n.value})};return{isLoading:r,userProfile:a,error:i,isCurrentUserProfile:o,routeName:l}}};const Qi=(0,rt.Z)(Gi,[["render",Ki]]);var Xi=Qi;function eo(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}function to(){const e=(0,lt.yj)(),t=(0,s.Fl)((()=>e.params.slug)),r=(0,s.Fl)((()=>{const r=e.path.includes("favorites");return r?`/articles?favorited=${t.value}`:`/articles?author=${t.value}`}));return{apiUrl:r}}var ro={name:"AppUserProfileMyPosts",components:{AppFeedItem:Mr},setup(){return{...to()}}};const ao=(0,rt.Z)(ro,[["render",eo]]);var so=ao;function io(e,t,r,a,i,o){const n=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(n,{"api-url":e.apiUrl},null,8,["api-url"])}var oo={name:"AppUserProfileFavorites",components:{AppFeedItem:Mr},setup(){return{...to()}}};const no=(0,rt.Z)(oo,[["render",io]]);var lo=no;const uo=[{path:"/register",name:"register",component:Fa},{path:"/login",name:"login",component:Ea},{path:"/",name:"mainFeed",component:sr,children:[{path:"/",name:"globalFeed",component:Hr},{path:"/yourFeed",name:"yourFeed",component:Kr},{path:"/tags/:slug",name:"tag",component:ea}]},{path:"/articles/new",name:"createArticle",component:ni},{path:"/articles/:slug",name:"article",component:Os},{path:"/articles/:slug/edit",name:"editArticle",component:di},{path:"/settings",name:"settings",component:Di},{path:"/profiles",name:"userProfile",component:Xi,children:[{path:"/profiles/:slug",name:"userProfileMyPosts",component:so},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:lo}]}],co=(0,lt.p7)({history:(0,lt.PO)("/"),routes:uo});var mo=co;(0,a.ri)(nt).use(et,Xe).use(mo).mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,i){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],i=e[c][2];for(var n=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,s,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,o=a[0],n=a[1],l=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var c=l(r)}for(t&&t(a);u<o.length;u++)i=o[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},a=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(3212)}));a=r.O(a)})();