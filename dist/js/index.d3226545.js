(function(){"use strict";var t={8973:function(t,e,r){var a=r(9242),s=r(3396);function i(t,e,r,a,i,n){const o=(0,s.up)("app-top-bar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o),(0,s.Wm)(l)],64)}var n=r(7139);const o={class:"navbar navbar-light"},l={class:"container"},c=(0,s.Uk)(" MediumClone "),u={class:"nav navbar-nav pull-xs-right"},d={class:"nav-item"},p=(0,s.Uk)(" Home "),m={class:"nav-item"},g=(0,s._)("i",{class:"ion-compose"},null,-1),v=(0,s.Uk)(" New Article "),f={class:"nav-item"},h=(0,s._)("i",{class:"ion-gear-a"},null,-1),b=(0,s.Uk)(" Settings "),w={class:"nav-item"},y=["src"],_={class:"nav-item"},A=(0,s.Uk)(" Sing in "),k={class:"nav-item"},F=(0,s.Uk)(" Sing up ");function S(t,e,r,a,i,S){const U=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",o,[(0,s._)("div",l,[(0,s.Wm)(U,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,s.w5)((()=>[c])),_:1}),(0,s._)("ul",u,[(0,s._)("li",d,[(0,s.Wm)(U,{class:"nav-link",to:{name:"globalFeed"},"active-class":"active"},{default:(0,s.w5)((()=>[p])),_:1})]),t.isLoggedIn?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("li",m,[(0,s.Wm)(U,{class:"nav-link",to:{name:"createArticle"},"active-class":"active"},{default:(0,s.w5)((()=>[g,v])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(U,{class:"nav-link",to:{name:"settings"},"active-class":"active"},{default:(0,s.w5)((()=>[h,b])),_:1})]),(0,s._)("li",w,[(0,s.Wm)(U,{class:"nav-link",to:{name:"userProfileMyPosts",params:{slug:t.currentUser.username}},"active-class":"active"},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"user-pic",src:t.currentUser.image},null,8,y),(0,s.Uk)(" "+(0,n.zw)(t.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,s.kq)("",!0),t.isAnonymous?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("li",_,[(0,s.Wm)(U,{class:"nav-link",to:{name:"login"},"active-class":"active"},{default:(0,s.w5)((()=>[A])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(U,{class:"nav-link",to:{name:"register"},"active-class":"active"},{default:(0,s.w5)((()=>[F])),_:1})])],64)):(0,s.kq)("",!0)])])])}var U=r(3766);const Z=t=>{try{return JSON.parse(localStorage.getItem(t)||"")}catch(e){return console.log("Error getting data from localstorage",e),null}},C=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.log("Error saving data in localstorage",r)}};var P=r(6265),L=r.n(P);L().defaults.baseURL="https://conduit.productionready.io/api",L().interceptors.request.use((t=>{const e=Z("accessToken"),r=e?`Token ${e}`:"";return t.headers={Authorization:r},t}));var D=L();const q=t=>D.post("/users",{user:t}).then((t=>t.data.user)),$=t=>D.post("/users/login",{user:t}).then((t=>t.data.user)),E=()=>D.get("/user").then((t=>t.data.user)),j=t=>D.put("/user",{user:t}).then((t=>t.data.user));var x={register:q,login:$,getCurrentUser:E,updateCurrentUserProfile:j};const W=(0,U.Q_)("settings",{state:()=>({isSubmitting:!1,validationErrors:null})}),I=(0,U.Q_)("auth",{state:()=>({isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null}),getters:{isAnonymous:t=>null===t.isLoggedIn},actions:{async register(t){try{this.$patch({validationErrors:null,isSubmitting:!0});const e=await x.register(t);C("accessToken",e.token),this.updateCurrentUser(e)}catch(e){throw this.$patch({isSubmitting:!1,validationErrors:e.response.data.errors}),e}},async login(t){try{this.$patch({validationErrors:null,isSubmitting:!0});const e=await x.login(t);C("accessToken",e.token),this.updateCurrentUser(e)}catch(e){throw this.$patch({isSubmitting:!1,validationErrors:e.response.data.errors}),e}},async logout(){try{C("accessToken",""),this.$reset()}catch(t){throw console.log(t),t}},async getCurrentUser(){try{this.$patch({isLoading:!0});const t=await x.getCurrentUser();this.updateCurrentUser(t)}catch(t){throw this.$reset(),t}},async updateCurrentUserProfile(t){const e=W();try{e.$patch({isSubmitting:!0,validationErrors:null});const r=await x.updateCurrentUserProfile(t);this.updateCurrentUser(r),e.$patch({isSubmitting:!1})}catch(r){throw e.$patch({isSubmitting:!1,validationErrors:r.response.data.errors}),this.$patch({isSubmitting:!1,validationErrors:r.response.data.errors}),r}},updateCurrentUser(t){this.$patch({currentUser:t,isLoading:!1,isLoggedIn:!0})}}});var T=(0,s.aZ)({name:"AppTopBar",setup(){const t=I(),e=(0,s.Fl)((()=>t.currentUser)),r=(0,s.Fl)((()=>t.isLoggedIn)),a=(0,s.Fl)((()=>t.isAnonymous));return{currentUser:e,isAnonymous:a,isLoggedIn:r}}}),O=r(89);const V=(0,O.Z)(T,[["render",S]]);var M=V,N=(0,s.aZ)({name:"App",components:{AppTopBar:M},setup(){const t=I();(0,s.bv)((()=>t.getCurrentUser()))}});const H=(0,O.Z)(N,[["render",i]]);var z=H,Y=r(678);const R={class:"home-page"},Q={class:"container page"},B={class:"row"},K={class:"col-md-9"},J={class:"col-md-3"};function G(t,e,r,a,i,n){const o=(0,s.up)("app-banner-item"),l=(0,s.up)("app-feed-toggle"),c=(0,s.up)("router-view"),u=(0,s.up)("app-popular-tags");return(0,s.wg)(),(0,s.iD)("div",R,[(0,s.Wm)(o),(0,s._)("div",Q,[(0,s._)("div",B,[(0,s._)("div",K,[(0,s.Wm)(l,{"tag-name":t.tagName},null,8,["tag-name"]),(0,s.Wm)(c)]),(0,s._)("div",J,[(0,s.Wm)(u)])])])])}const X={key:2,class:"sidebar"},tt=(0,s._)("p",null,"Popular Tags",-1),et={class:"tag-list"};function rt(t,e,r,a,i,o){const l=(0,s.up)("app-loading-item"),c=(0,s.up)("app-error-message"),u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[t.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),t.error?((0,s.wg)(),(0,s.j4)(c,{key:1})):(0,s.kq)("",!0),t.tags?((0,s.wg)(),(0,s.iD)("div",X,[tt,(0,s._)("div",et,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tags,(t=>((0,s.wg)(),(0,s.j4)(u,{key:t,to:{name:"tag",params:{slug:t}},class:"tag-default tag-pill"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(t),1)])),_:2},1032,["to"])))),128))])])):(0,s.kq)("",!0)])}const at=t=>((0,s.dD)("data-v-314d36a7"),t=t(),(0,s.Cn)(),t),st={class:"loader"},it=at((()=>(0,s._)("div",{class:"inner one"},null,-1))),nt=at((()=>(0,s._)("div",{class:"inner two"},null,-1))),ot=at((()=>(0,s._)("div",{class:"inner three"},null,-1))),lt=[it,nt,ot];function ct(t,e,r,a,i,n){return(0,s.wg)(),(0,s.iD)("div",st,lt)}var ut=(0,s.aZ)({name:"AppLoadingItem"});const dt=(0,O.Z)(ut,[["render",ct],["__scopeId","data-v-314d36a7"]]);var pt=dt;function mt(t,e,r,a,i,o){return(0,s.wg)(),(0,s.iD)("div",null,(0,n.zw)(t.message),1)}var gt=(0,s.aZ)({name:"AppErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}});const vt=(0,O.Z)(gt,[["render",mt]]);var ft=vt;const ht=()=>D.get("/tags").then((t=>t.data.tags));var bt={getPopularTags:ht};const wt=(0,U.Q_)("popularTags",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getPopularTags(){try{this.$patch({isLoading:!0,data:null});const t=await bt.getPopularTags();this.$patch({isLoading:!1,data:t})}catch(t){throw this.$reset(),t}}}});var yt=(0,s.aZ)({name:"AppPopularTags",components:{AppLoadingItem:pt,AppErrorMessage:ft},setup(){const t=wt();return(0,s.bv)((()=>t.getPopularTags())),{isLoading:(0,s.Fl)((()=>t.isLoading)),tags:(0,s.Fl)((()=>t.data)),error:(0,s.Fl)((()=>t.error))}}});const _t=(0,O.Z)(yt,[["render",rt]]);var At=_t;const kt={class:"banner"},Ft=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Medium clone"),(0,s._)("p",null,"A place to share knowledge")],-1),St=[Ft];function Ut(t,e,r,a,i,n){return(0,s.wg)(),(0,s.iD)("div",kt,St)}var Zt=(0,s.aZ)({name:"AppBannerItem"});const Ct=(0,O.Z)(Zt,[["render",Ut]]);var Pt=Ct;const Lt={class:"feed-toggle"},Dt={class:"nav nav-pills outline-active"},qt={key:0,class:"nav-item"},$t=(0,s.Uk)(" Your Feed "),Et={class:"nav-item"},jt=(0,s.Uk)(" Global Feed "),xt={key:1,class:"nav-item"},Wt=(0,s._)("i",{class:"ion-pound"},null,-1);function It(t,e,r,a,i,o){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Lt,[(0,s._)("ul",Dt,[t.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",qt,[(0,s.Wm)(l,{to:{name:"yourFeed"},class:(0,n.C_)(["nav-link",{active:"yourFeed"===t.routeName}])},{default:(0,s.w5)((()=>[$t])),_:1},8,["class"])])):(0,s.kq)("",!0),(0,s._)("li",Et,[(0,s.Wm)(l,{to:{name:"globalFeed"},class:(0,n.C_)(["nav-link",{active:"globalFeed"===t.routeName}])},{default:(0,s.w5)((()=>[jt])),_:1},8,["class"])]),t.tagName?((0,s.wg)(),(0,s.iD)("li",xt,[(0,s.Wm)(l,{to:{name:"tag"},class:(0,n.C_)(["nav-link",{active:"tag"===t.routeName}])},{default:(0,s.w5)((()=>[Wt,(0,s.Uk)(" "+(0,n.zw)(t.tagName),1)])),_:1},8,["class"])])):(0,s.kq)("",!0)])])}var Tt=(0,s.aZ)({name:"AppFeedToggle",props:{tagName:{type:String,required:!1}},setup(){const t=I(),e=(0,Y.yj)(),r=(0,s.Fl)((()=>t.isLoggedIn)),a=(0,s.Fl)((()=>e.name));return{isLoggedIn:r,routeName:a}}});const Ot=(0,O.Z)(Tt,[["render",It]]);var Vt=Ot,Mt=(0,s.aZ)({name:"AppFeedPage",components:{AppPopularTags:At,AppBannerItem:Pt,AppFeedToggle:Vt},setup(){const t=(0,Y.yj)(),e=(0,s.Fl)((()=>t.params.slug));return{tagName:e}}});const Nt=(0,O.Z)(Mt,[["render",G]]);var Ht=Nt;function zt(t,e,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":t.apiUrl},null,8,["api-url"])}const Yt=t=>((0,s.dD)("data-v-db76fd8e"),t=t(),(0,s.Cn)(),t),Rt={key:2},Qt={class:"article-meta"},Bt={class:"pull-xs-right"},Kt=Yt((()=>(0,s._)("span",null,"Read more...",-1)));function Jt(t,e,r,a,i,o){const l=(0,s.up)("app-loading-item"),c=(0,s.up)("app-error-message"),u=(0,s.up)("app-user-info"),d=(0,s.up)("app-add-to-favorites"),p=(0,s.up)("app-tags-list"),m=(0,s.up)("router-link"),g=(0,s.up)("app-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[t.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),t.error?((0,s.wg)(),(0,s.j4)(c,{key:1})):(0,s.kq)("",!0),t.feed?((0,s.wg)(),(0,s.iD)("div",Rt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.feed.articles,((e,r)=>((0,s.wg)(),(0,s.iD)("div",{class:"article-preview",key:r},[(0,s._)("div",Qt,[(0,s.Wm)(u,{user:e.author,date:t.dateString(e.createdAt)},null,8,["user","date"]),(0,s._)("div",Bt,[(0,s.Wm)(d,{"is-favorited":e.favorited,"article-slug":e.slug,"favorites-count":e.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])])]),(0,s.Wm)(m,{to:{name:"article",params:{slug:e.slug}},class:"preview-link"},{default:(0,s.w5)((()=>[(0,s._)("h1",null,(0,n.zw)(e.title),1),(0,s._)("p",null,(0,n.zw)(e.description),1),Kt,(0,s.Wm)(p,{tags:e.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,s.Wm)(g,{total:t.feed.articlesCount,limit:t.limit,"current-page":t.currentPage,url:t.baseUrl},null,8,["total","limit","current-page","url"])])):(0,s.kq)("",!0)],64)}const Gt=5,Xt=t=>{try{return new Date(t)}catch(e){console.log("Error convert date",e)}};var te=r(4782);const ee={class:"pagination"};function re(t,e,r,a,i,o){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("ul",ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.pages,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,n.C_)(["page-item",{active:t.currentPage===e}])},[(0,s.Wm)(l,{to:{path:t.url,query:{page:e}},class:"page-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e),1)])),_:2},1032,["to"])],2)))),128))])}const ae=(t,e)=>[...Array(e).keys()].map((e=>e+t));var se=(0,s.aZ)({name:"AppPagination",props:{total:{type:Number,requred:!0},limit:{type:Number,requred:!0},currentPage:{type:Number,requred:!0},url:{type:String,requred:!0}},setup(t){const e=(0,s.Fl)((()=>{const e=Math.ceil((t.total??0)/(t.limit??0));return ae(1,e)}));return{pages:e}}});const ie=(0,O.Z)(se,[["render",re]]);var ne=ie;const oe={key:0,class:"tag-list"};function le(t,e,r,a,i,o){return t.tags.length?((0,s.wg)(),(0,s.iD)("ul",oe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tags,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.value,class:"tag-default tag-pill tag-outline ng-binding ng-scope"},(0,n.zw)(t),1)))),128))])):(0,s.kq)("",!0)}var ce=(0,s.aZ)({name:"AppTagsList",props:{tags:{type:Array,required:!0}}});const ue=(0,O.Z)(ce,[["render",le]]);var de=ue;const pe=(0,s._)("i",{class:"ion-heart"},null,-1);function me(t,e,r,a,i,o){return(0,s.wg)(),(0,s.iD)("button",{class:(0,n.C_)(["btn btn-sm",{"btn-primary":t.isFavoritedOptimistic,"btn-outline-primary":!t.isFavoritedOptimistic}]),onClick:e[0]||(e[0]=(...e)=>t.handleLike&&t.handleLike(...e))},[pe,(0,s.Uk)(" "+(0,n.zw)(t.favoritesCountOptimistic),1)],2)}var ge=r(4870);const ve=t=>D.post(`/articles/${t}/favorite`,{}).then((t=>t.data.article)),fe=t=>D["delete"](`/articles/${t}/favorite`).then((t=>t.data.article));var he={addToFavorites:ve,removeFromFavorites:fe};const be=(0,U.Q_)("addToFavorites",{actions:{async addToFavorites({slug:t,isFavorited:e}){try{e?await he.removeFromFavorites(t):await he.addToFavorites(t)}catch(r){throw console.error(r),r}}}});var we=(0,s.aZ)({name:"AppAddToFavorites",props:{isFavorited:{type:Boolean,requred:!0},articleSlug:{type:String,requred:!0},favoritesCount:{type:Number,requred:!0},text:{type:String,requred:!1}},setup(t){const e=be(),r=(0,ge.iH)(t.isFavorited??!1),a=(0,ge.iH)(t.favoritesCount??0),s=()=>{e.addToFavorites({slug:t.articleSlug,isFavorited:r.value}),r.value?a.value-=1:a.value+=1,r.value=!r.value};return{handleLike:s,isFavoritedOptimistic:r,favoritesCountOptimistic:a}}});const ye=(0,O.Z)(we,[["render",me]]);var _e=ye;const Ae={key:0,class:"user-info"},ke=["src"],Fe={class:"info"},Se={key:0,class:"date"};function Ue(t,e,r,a,i,o){const l=(0,s.up)("router-link");return t.user?((0,s.wg)(),(0,s.iD)("div",Ae,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:t.user.username}}},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"comment-author-img",src:t.user.image},null,8,ke)])),_:1},8,["to"]),(0,s._)("div",Fe,[(0,s.Wm)(l,{class:"comment-author",to:{name:"userProfileMyPosts",params:{slug:t.user.username}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(t.user.username),1)])),_:1},8,["to"]),t.date?((0,s.wg)(),(0,s.iD)("span",Se,(0,n.zw)(t.date),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}var Ze=(0,s.aZ)({name:"AppUserInfo",props:{user:{type:Object,requred:!0},date:{type:String,requred:!1}}});const Ce=(0,O.Z)(Ze,[["render",Ue]]);var Pe=Ce;const Le=t=>D.get(t);var De={getFeed:Le};const qe=(0,U.Q_)("feed",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getFeed({apiUrl:t}){try{this.$patch({isLoading:!0,data:null});const{data:e}=await De.getFeed(t);this.$patch({isLoading:!1,data:e})}catch(e){throw this.$reset(),e}}}});var $e=(0,s.aZ)({name:"AppFeedItem",components:{AppPagination:ne,AppLoadingItem:pt,AppErrorMessage:ft,AppTagsList:de,AppAddToFavorites:_e,AppUserInfo:Pe},props:{apiUrl:{type:String,requred:!0}},setup(t){const e=(0,Y.yj)(),r=qe(),a=(0,s.Fl)((()=>Number(e.query.page||"1"))),i=(0,s.Fl)((()=>a.value*Gt-Gt)),n=(0,s.Fl)((()=>e.path));(0,s.bv)((()=>o())),(0,s.YP)(a,(()=>o())),(0,s.YP)((()=>t.apiUrl),(()=>o()));const o=()=>{const e=(0,te.parseUrl)(t.apiUrl??""),a=(0,te.stringify)({limit:Gt,offset:i.value,...e.query}),s=`${e.url}?${a}`;r.getFeed({apiUrl:s})},l=t=>"string"===typeof t?Xt(t)?.toLocaleString():(new Date).toLocaleString();return{isLoading:(0,s.Fl)((()=>r.isLoading)),feed:(0,s.Fl)((()=>r.data)),error:(0,s.Fl)((()=>r.error)),currentPage:a,limit:Gt,baseUrl:n,dateString:l}}});const Ee=(0,O.Z)($e,[["render",Jt],["__scopeId","data-v-db76fd8e"]]);var je=Ee,xe=(0,s.aZ)({name:"AppGlobalFeed",components:{AppFeedItem:je},setup(){return{apiUrl:(0,ge.iH)("/articles")}}});const We=(0,O.Z)(xe,[["render",zt]]);var Ie=We;const Te={class:"home-page"};function Oe(t,e,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.iD)("div",Te,[(0,s.Wm)(o,{"api-url":t.apiUrl},null,8,["api-url"])])}var Ve=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:je},setup(){return{apiUrl:(0,ge.iH)("/articles/feed")}}});const Me=(0,O.Z)(Ve,[["render",Oe]]);var Ne=Me;function He(t,e,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":t.apiUrl},null,8,["api-url"])}var ze=(0,s.aZ)({name:"AppYourFeed",components:{AppFeedItem:je},setup(){const t=(0,Y.yj)(),e=(0,s.Fl)((()=>t.params.slug));return{tagName:e,apiUrl:(0,s.Fl)((()=>`articles?tag=${e.value}`))}}});const Ye=(0,O.Z)(ze,[["render",He]]);var Re=Ye;const Qe={class:"auth-page"},Be={class:"container page"},Ke={class:"row"},Je={class:"col-md-6 offset-md-3 col-xs-12"},Ge=(0,s._)("h1",{class:"text-xs-center"},"Sign up",-1),Xe={class:"text-xs-center"},tr=(0,s.Uk)(" Have an account? "),er={class:"form-group"},rr={class:"form-group"},ar={class:"form-group"},sr=["disabled"];function ir(t,e,r,i,n,o){const l=(0,s.up)("router-link"),c=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Qe,[(0,s._)("div",Be,[(0,s._)("div",Ke,[(0,s._)("div",Je,[Ge,(0,s._)("p",Xe,[(0,s.Wm)(l,{to:{name:"login"}},{default:(0,s.w5)((()=>[tr])),_:1})]),t.validationErrors?((0,s.wg)(),(0,s.j4)(c,{key:0,"validation-errors":t.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:e[3]||(e[3]=(0,a.iM)(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",er,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=e=>t.user.username=e)},null,512),[[a.nr,t.user.username]])]),(0,s._)("fieldset",rr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.email=e)},null,512),[[a.nr,t.user.email]])]),(0,s._)("fieldset",ar,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=e=>t.user.password=e)},null,512),[[a.nr,t.user.password]])]),(0,s._)("button",{disabled:t.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign Up ",8,sr)],32)])])])])}const nr={class:"error-messages"};function or(t,e,r,a,i,o){return(0,s.wg)(),(0,s.iD)("ul",nr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.errorMessages,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},(0,n.zw)(t),1)))),128))])}var lr=(0,s.aZ)({name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},setup(t){const e=(0,s.Fl)((()=>Object.keys(t.validationErrors).map((e=>{const r=t.validationErrors[e].join(", ");return`${e} ${r}`}))));return{errorMessages:e}}});const cr=(0,O.Z)(lr,[["render",or]]);var ur=cr,dr=r(2482);class pr{constructor(t,e,r){(0,dr.Z)(this,"username",""),(0,dr.Z)(this,"bio",""),(0,dr.Z)(this,"image",""),this.username=t,this.bio=e,this.image=r}}class mr extends pr{constructor(t="",e,r="",a="",s="",i){super(r,a,s),(0,dr.Z)(this,"email",void 0),(0,dr.Z)(this,"password",void 0),(0,dr.Z)(this,"username",void 0),(0,dr.Z)(this,"bio",void 0),(0,dr.Z)(this,"image",void 0),(0,dr.Z)(this,"token",void 0),this.email=t,this.password=e,this.username=r,this.bio=a,this.image=s,this.token=i}}class gr extends pr{constructor(t="",e="",r="",a=!1){super(t,e,r),(0,dr.Z)(this,"username",void 0),(0,dr.Z)(this,"bio",void 0),(0,dr.Z)(this,"image",void 0),(0,dr.Z)(this,"following",void 0),this.username=t,this.bio=e,this.image=r,this.following=a}}var vr=r(211),fr=function(t,e,r,a){var s,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,e,r,a);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(n=(i<3?s(n):i>3?s(e,r,n):s(e,r))||n);return i>3&&n&&Object.defineProperty(e,r,n),n},hr=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let br=class{constructor(t="",e=""){(0,dr.Z)(this,"email",void 0),(0,dr.Z)(this,"password",void 0),this.email=t,this.password=e}};br=fr([(0,vr.mapTo)(mr),hr("design:paramtypes",[String,String])],br);let wr=class extends br{constructor(t="",e="",r=""){super(t,e),(0,dr.Z)(this,"email",void 0),(0,dr.Z)(this,"password",void 0),(0,dr.Z)(this,"username",void 0),this.email=t,this.password=e,this.username=r}};wr=fr([(0,vr.mapTo)(mr),hr("design:paramtypes",[String,String,String])],wr);const yr=new vr.Mapper;yr.createMap(br);var _r=yr,Ar=(0,s.aZ)({name:"AppRegisterPage",setup(){const t=I(),e=(0,Y.tv)(),r=(0,ge.qj)(new wr),a=(0,s.Fl)((()=>t.isSubmitting)),i=(0,s.Fl)((()=>t.validationErrors)),n=()=>{const a=_r.map(r);t.register(a).then((()=>e.push({name:"globalFeed"}))).catch((t=>console.log(t)))};return{onSubmit:n,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:ur}});const kr=(0,O.Z)(Ar,[["render",ir]]);var Fr=kr;const Sr={class:"auth-page"},Ur={class:"container page"},Zr={class:"row"},Cr={class:"col-md-6 offset-md-3 col-xs-12"},Pr=(0,s._)("h1",{class:"text-xs-center"},"Sign in",-1),Lr={class:"text-xs-center"},Dr=(0,s.Uk)(" Need an account? "),qr={class:"form-group"},$r={class:"form-group"},Er=["disabled"];function jr(t,e,r,i,n,o){const l=(0,s.up)("router-link"),c=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",Sr,[(0,s._)("div",Ur,[(0,s._)("div",Zr,[(0,s._)("div",Cr,[Pr,(0,s._)("p",Lr,[(0,s.Wm)(l,{to:{name:"register"}},{default:(0,s.w5)((()=>[Dr])),_:1})]),t.validationErrors?((0,s.wg)(),(0,s.j4)(c,{key:0,"validation-errors":t.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",qr,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=e=>t.user.email=e)},null,512),[[a.nr,t.user.email]])]),(0,s._)("fieldset",$r,[(0,s.wy)((0,s._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.password=e)},null,512),[[a.nr,t.user.password]])]),(0,s._)("button",{disabled:t.isSubmitting,class:"btn btn-lg btn-primary pull-xs-right"}," Sign In ",8,Er)],32)])])])])}var xr=(0,s.aZ)({name:"AppLoginPage",setup(){const t=I(),e=(0,Y.tv)(),r=(0,ge.qj)(new br),a=(0,s.Fl)((()=>t.isSubmitting)),i=(0,s.Fl)((()=>t.validationErrors)),n=()=>{const a=_r.map(r);t.login(a).then((()=>e.push({name:"globalFeed"}))).catch((t=>console.log(t)))};return{onSubmit:n,isSubmitting:a,validationErrors:i,user:r}},components:{AppValidationErrors:ur}});const Wr=(0,O.Z)(xr,[["render",jr]]);var Ir=Wr;const Tr={key:0,class:"article-page"},Or={class:"banner"},Vr={class:"container"},Mr={class:"article-meta"},Nr={class:"container page"},Hr={class:"row article-content"},zr={class:"col-xs-12"},Yr=(0,s._)("hr",null,null,-1),Rr={class:"row"},Qr={class:"col-xs-12 col-md-8 offset-md-2"},Br={class:"article-actions"};function Kr(t,e,r,a,i,o){const l=(0,s.up)("app-article-user-info"),c=(0,s.up)("app-loading-item"),u=(0,s.up)("app-error-message"),d=(0,s.up)("app-tags-list"),p=(0,s.up)("app-add-comment-form"),m=(0,s.up)("app-comment-list");return t.article?((0,s.wg)(),(0,s.iD)("div",Tr,[(0,s._)("div",Or,[(0,s._)("div",Vr,[(0,s._)("h1",null,(0,n.zw)(t.article.title),1),(0,s._)("div",Mr,[(0,s.Wm)(l,{article:t.article},null,8,["article"])])])]),(0,s._)("div",Nr,[t.isLoading?((0,s.wg)(),(0,s.j4)(c,{key:0})):(0,s.kq)("",!0),t.error?((0,s.wg)(),(0,s.j4)(u,{key:1,message:t.error},null,8,["message"])):(0,s.kq)("",!0),(0,s._)("div",Hr,[(0,s._)("div",zr,[(0,s._)("div",null,[(0,s._)("p",null,(0,n.zw)(t.article.body),1)]),(0,s.Wm)(d,{tags:t.article.tagList},null,8,["tags"])])]),Yr,(0,s._)("div",Rr,[(0,s._)("div",Qr,[(0,s._)("div",Br,[(0,s.Wm)(l,{article:t.article},null,8,["article"])]),(0,s.Wm)(p,{onAddComment:t.addComment,"is-submitting":t.isSubmittingAddComment,errors:t.validationErrors},null,8,["onAddComment","is-submitting","errors"]),(0,s.Wm)(m,{slug:t.article.slug??""},null,8,["slug"])])])])])):(0,s.kq)("",!0)}const Jr={key:0};function Gr(t,e,r,a,i,n){const o=(0,s.up)("app-comment-item");return t.comments?((0,s.wg)(),(0,s.iD)("div",Jr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.comments,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s.Wm)(o,{comment:e,onDeleteComment:t.deleteComment},null,8,["comment","onDeleteComment"])])))),128))])):(0,s.kq)("",!0)}const Xr=t=>((0,s.dD)("data-v-5edd36fe"),t=t(),(0,s.Cn)(),t),ta={key:0,class:"card"},ea={class:"card-block"},ra={class:"card-text"},aa={class:"card-footer"},sa=Xr((()=>(0,s._)("i",{class:"ion-trash-a"},null,-1))),ia=[sa];function na(t,e,r,a,i,o){const l=(0,s.up)("app-user-info");return t.comment?((0,s.wg)(),(0,s.iD)("div",ta,[(0,s._)("div",ea,[(0,s._)("p",ra,(0,n.zw)(t.comment.body),1)]),(0,s._)("div",aa,[(0,s.Wm)(l,{user:t.comment.author,date:t.dateString(t.comment.createdAt)},null,8,["user","date"]),t.isCurrentUserProfile?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"mod-options",onClick:e[0]||(e[0]=e=>t.deleteComment(t.comment.id))},ia)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}function oa(t){const e=I(),r=(0,s.Fl)((()=>e.currentUser)),a=(0,s.Fl)((()=>!!(t&&r.value&&t.value)&&r.value.username===t.value.username));return{currentUser:r,isCurrentUserProfile:a}}var la=(0,s.aZ)({name:"AppCommentItem",emits:["deleteComment"],components:{AppUserInfo:Pe},props:{comment:{type:Object,required:!0}},setup(t,{emit:e}){const{currentUser:r,isCurrentUserProfile:a}=oa((0,s.Fl)((()=>t.comment.author))),i=t=>{e("deleteComment",{slugComment:t})},n=t=>Xt(t)?.toLocaleString();return{isCurrentUserProfile:a,currentUser:r,deleteComment:i,dateString:n}}});const ca=(0,O.Z)(la,[["render",na],["__scopeId","data-v-5edd36fe"]]);var ua=ca;const da=t=>D.get(`/articles/${t}/comments`).then((t=>t.data.comments)),pa=({slugArticle:t,comment:e})=>D.post(`/articles/${t}/comments`,{comment:e}).then((t=>t.data.comment)),ma=({slugArticle:t,slugComment:e})=>D["delete"](`/articles/${t}/comments/${e}`);var ga={getComments:da,deleteComment:ma,addComment:pa};const va=(0,U.Q_)("comments",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getComments({slug:t}){try{this.$patch({isLoading:!0,data:null});const e=await ga.getComments(t);this.$patch({isLoading:!0,data:e.sort(((t,e)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()))})}catch(e){throw this.$reset(),e}},async addComment(t){try{const e=await ga.addComment(t);this.$patch((t=>{t.data?.unshift(e)}))}catch(e){throw this.$patch({error:e}),e}},async deleteComment(t){try{await ga.deleteComment(t),this.$patch((e=>{null!=e.data&&(e.data=e.data.filter((e=>e.id!=t.slugComment)))}))}catch(e){throw console.error(e),e}}}});var fa=(0,s.aZ)({name:"AppCommentList",components:{AppCommentItem:ua},props:{slug:{type:String,required:!0}},setup(t){const e=va();(0,s.bv)((()=>{e.getComments({slug:t.slug})}));const r=({slugComment:r})=>{const a={slugArticle:t.slug,slugComment:r};e.deleteComment(a)};return{isLoading:(0,s.Fl)((()=>e.isLoading)),comments:(0,s.Fl)((()=>e.data)),error:(0,s.Fl)((()=>e.error)),deleteComment:r}}});const ha=(0,O.Z)(fa,[["render",Gr]]);var ba=ha;const wa={key:0},ya={class:"card-block"},_a=["disabled"],Aa={class:"card-footer"},ka=["src"],Fa=["disabled"];function Sa(t,e,r,i,n,o){const l=(0,s.up)("app-validation-errors");return t.currentUser?((0,s.wg)(),(0,s.iD)("div",wa,[t.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":t.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{class:"card comment-form",onSubmit:e[1]||(e[1]=(0,a.iM)(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[(0,s._)("div",ya,[(0,s.wy)((0,s._)("textarea",{class:"form-control",disabled:t.isSubmitting,"onUpdate:modelValue":e[0]||(e[0]=e=>t.commentInput.body=e)},null,8,_a),[[a.nr,t.commentInput.body]])]),(0,s._)("div",Aa,[(0,s._)("img",{class:"comment-author-img",src:t.currentUser.image},null,8,ka),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:t.isSubmitting},"Post Comment",8,Fa)])],32)])):(0,s.kq)("",!0)}class Ua{constructor(t={id:0,author:new gr,body:"",createdAt:"",updatedAt:""}){(0,dr.Z)(this,"id",void 0),(0,dr.Z)(this,"author",void 0),(0,dr.Z)(this,"body",void 0),(0,dr.Z)(this,"createdAt",void 0),(0,dr.Z)(this,"updatedAt",void 0),this.id=t.id,this.author=t.author,this.body=t.body,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}}var Za=(0,s.aZ)({name:"AppAddCommentForm",emits:["addComment"],props:{isSubmitting:{type:Boolean,default:!1},errors:{type:Object,required:!1}},components:{AppValidationErrors:ur},setup(t,{emit:e}){const r=I(),a=(0,ge.qj)(new Ua);(0,s.YP)((()=>t.isSubmitting),(t=>{t||(a.body="")}));const i=()=>e("addComment",a);return{commentInput:a,onSubmit:i,currentUser:(0,s.Fl)((()=>r.currentUser))}}});const Ca=(0,O.Z)(Za,[["render",Sa]]);var Pa=Ca;const La={class:"article-meta d-flex"},Da={key:0},qa=(0,s._)("i",{class:"ion-edit"},null,-1),$a=(0,s.Uk)(" Edit Article "),Ea=(0,s.Uk)("   "),ja=(0,s._)("i",{class:"ion-trash-a"},null,-1),xa=(0,s.Uk)(" Delete Article "),Wa=[ja,xa],Ia={key:1},Ta=(0,s._)("i",{class:"ion-plus-round"},null,-1),Oa={key:0},Va={key:1},Ma=(0,s.Uk)("   ");function Na(t,e,r,a,i,o){const l=(0,s.up)("app-user-info"),c=(0,s.up)("router-link"),u=(0,s.up)("app-add-to-favorites");return(0,s.wg)(),(0,s.iD)("div",La,[(0,s.Wm)(l,{user:t.article.author,date:t.convertDateJsonToDate(t.article.createdAt).toLocaleString()},null,8,["user","date"]),t.article?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[t.isAuthor?((0,s.wg)(),(0,s.iD)("span",Da,[(0,s.Wm)(c,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:t.article.slug}}},{default:(0,s.w5)((()=>[qa,$a])),_:1},8,["to"]),Ea,(0,s._)("button",{class:"btn btn-outline-danger btn-sm",onClick:e[0]||(e[0]=(...e)=>t.deleteArticle&&t.deleteArticle(...e))},Wa)])):((0,s.wg)(),(0,s.iD)("span",Ia,[(0,s._)("button",{type:"button",class:(0,n.C_)(["btn btn-sm action-btn",{"btn-secondary":t.isFollowing,"btn-outline-secondary":!t.isFollowing}]),onClick:e[1]||(e[1]=(...e)=>t.onFallow&&t.onFallow(...e))},[Ta,t.isFollowing?((0,s.wg)(),(0,s.iD)("span",Oa," UnFollow "+(0,n.zw)(t.article.author.username),1)):((0,s.wg)(),(0,s.iD)("span",Va," Follow "+(0,n.zw)(t.article.author.username),1))],2),Ma,(0,s.Wm)(u,{"is-favorited":t.article.favorited,"article-slug":t.article.slug,"favorites-count":t.article.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])]))],64)):(0,s.kq)("",!0)])}const Ha=t=>D.get(`/profiles/${t}`).then((t=>t.data.profile)),za=t=>D.post(`/profiles/${t}/follow`,{}).then((t=>t.data.profile)),Ya=t=>D["delete"](`/profiles/${t}/follow`).then((t=>t.data.profile));var Ra={getUserProfile:Ha,addToFallow:za,removeFromFallow:Ya};const Qa=(0,U.Q_)("userProfile",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getUserProfile({slug:t}){try{this.$patch({isLoading:!0,data:null});const e=await Ra.getUserProfile(t);this.$patch({isLoading:!0,data:e})}catch(e){throw this.$reset(),e}},async addToFallow({slug:t,isFallow:e}){try{e?await Ra.removeFromFallow(t):await Ra.addToFallow(t)}catch(r){throw console.error(r),r}}}});var Ba=(0,s.aZ)({name:"AppArticleUserInfo",props:{article:{type:Object,required:!0}},components:{AppUserInfo:Pe,AppAddToFavorites:_e},setup(t){const e=Qa(),r=(0,ge.iH)(t.article.author.following),{isCurrentUserProfile:a}=oa((0,ge.iH)(t.article.author)),s=()=>{e.addToFallow({slug:t.article.author.username,isFallow:t.article.author.following}).then((()=>r.value=!r.value))};return{convertDateJsonToDate:Xt,onFallow:s,isFollowing:r,isAuthor:a}}});const Ka=(0,O.Z)(Ba,[["render",Na]]);var Ja=Ka;const Ga=t=>D.get(`/articles/${t}`).then((t=>t.data.article)),Xa=t=>D.post("/articles",{article:t}).then((t=>t.data.article)),ts=(t,e)=>D.put(`/articles/${t}`,{article:e}).then((t=>t.data.article)),es=t=>D["delete"](`/articles/${t}`);var rs={getArticle:Ga,deleteArticle:es,createArticle:Xa,updateArticle:ts};const as=(0,U.Q_)("article",{state:()=>({data:null,isLoading:!1,error:null}),actions:{async getArticle({slug:t}){try{this.$patch({isLoading:!0,data:null});const e=await rs.getArticle(t);this.$patch({isLoading:!1,data:e})}catch(e){throw this.$reset(),e}},async deleteArticle({slug:t}){try{await rs.deleteArticle(t)}catch(e){throw console.error(e),e}}}});var ss=(0,s.aZ)({name:"AppArticleItem",components:{AppLoadingItem:pt,AppErrorMessage:ft,AppTagsList:de,AppCommentList:ba,AppAddCommentForm:Pa,AppArticleUserInfo:Ja},setup(){const t=va(),e=as(),r=(0,Y.yj)(),a=(0,Y.tv)(),s=(0,ge.iH)(!1);e.getArticle({slug:r.params.slug});const i=e=>{s.value=!0,t.addComment({slugArticle:r.params.slug,comment:e}).then((()=>s.value=!1)).catch((()=>s.value=!1))},n=()=>{e.deleteArticle({slug:r.params.slug}).then((()=>{a.push({name:"globalFeed"})}))};return{isLoading:(0,ge.Fl)((()=>e.isLoading)),error:(0,ge.Fl)((()=>e.error)),article:(0,ge.Fl)((()=>e.data)),isSubmittingAddComment:s,validationErrors:(0,ge.Fl)((()=>t.error)),deleteArticle:n,addComment:i}}});const is=(0,O.Z)(ss,[["render",Kr]]);var ns=is;function os(t,e,r,a,i,n){const o=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.j4)(o,{"initial-values":t.initialValues,errors:t.validationErrors,"is-submitting":t.isSubmitting,onArticleSubmit:t.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])}const ls={class:"editor-page"},cs={class:"container page"},us={class:"row"},ds={class:"col-md-10 offset-md-1 col-xs-12"},ps={class:"form-group"},ms=["disabled"],gs={class:"form-group"},vs=["disabled"],fs={class:"form-group"},hs=["disabled"],bs={class:"form-group"},ws=["disabled"],ys={class:"form-group"},_s=["disabled"];function As(t,e,r,i,n,o){const l=(0,s.up)("app-validation-errors");return(0,s.wg)(),(0,s.iD)("div",ls,[(0,s._)("div",cs,[(0,s._)("div",us,[(0,s._)("div",ds,[t.errors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":t.errors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:e[4]||(e[4]=(0,a.iM)(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",ps,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title",disabled:t.isSubmitting,"onUpdate:modelValue":e[0]||(e[0]=e=>t.dataForm.title=e)},null,8,ms),[[a.nr,t.dataForm.title]])]),(0,s._)("fieldset",gs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description",disabled:t.isSubmitting,"onUpdate:modelValue":e[1]||(e[1]=e=>t.dataForm.description=e)},null,8,vs),[[a.nr,t.dataForm.description]])]),(0,s._)("fieldset",fs,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?",disabled:t.isSubmitting,"onUpdate:modelValue":e[2]||(e[2]=e=>t.dataForm.body=e)},null,8,hs),[[a.nr,t.dataForm.body]])]),(0,s._)("fieldset",bs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags",disabled:t.isSubmitting,"onUpdate:modelValue":e[3]||(e[3]=e=>t.dataForm.tagList=e)},null,8,ws),[[a.nr,t.dataForm.tagList]])]),(0,s._)("fieldset",ys,[(0,s._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:t.isSubmitting}," Publish Article ",8,_s)])])],32)])])])])}class ks{constructor(t={title:"",description:"",body:"",tagList:[],createdAt:"",favorited:!1,favoritesCount:0,slug:"",updatedAt:""}){(0,dr.Z)(this,"title",void 0),(0,dr.Z)(this,"description",void 0),(0,dr.Z)(this,"body",void 0),(0,dr.Z)(this,"tagList",void 0),(0,dr.Z)(this,"createdAt",void 0),(0,dr.Z)(this,"favorited",void 0),(0,dr.Z)(this,"favoritesCount",void 0),(0,dr.Z)(this,"slug",void 0),(0,dr.Z)(this,"updatedAt",void 0),(0,dr.Z)(this,"author",void 0),this.title=t.title,this.description=t.description,this.body=t.body,this.tagList=t.tagList}}var Fs=(0,s.aZ)({name:"AppArticleForm",emits:["articleSubmit"],components:{AppValidationErrors:ur},props:{initialValues:{type:ks,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},setup(t,{emit:e}){const r=(0,ge.qj)(new ks(t.initialValues)),a=()=>e("articleSubmit",r);return{dataForm:r,onSubmit:a}}});const Ss=(0,O.Z)(Fs,[["render",As]]);var Us=Ss;const Zs=(0,U.Q_)("createArticle",{state:()=>({isSubmitting:!1,validationErrors:null}),actions:{async createArticle(t){try{this.$patch({isSubmitting:!0});const e=await rs.createArticle(t);return this.$reset(),e}catch(e){throw this.$patch({isSubmitting:!1,validationErrors:e.response.data.errors}),e}}}});var Cs=(0,s.aZ)({name:"AppCreateArticle",components:{AppArticleForm:Us},setup(){const t=Zs(),e=(0,Y.tv)(),r=new ks,a=r=>{t.createArticle(r).then((t=>{e.push({name:"article",params:{slug:t.slug}})}))};return{initialValues:r,validationErrors:(0,s.Fl)((()=>t.validationErrors)),isSubmitting:(0,s.Fl)((()=>t.isSubmitting)),onSubmit:a}}});const Ps=(0,O.Z)(Cs,[["render",os]]);var Ls=Ps;function Ds(t,e,r,a,i,n){const o=(0,s.up)("app-loading-item"),l=(0,s.up)("app-article-form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[t.isLoading?((0,s.wg)(),(0,s.j4)(o,{key:0})):(0,s.kq)("",!0),t.initialValues?((0,s.wg)(),(0,s.j4)(l,{key:1,"initial-values":t.initialValues,errors:t.validationErrors,"is-submitting":t.isSubmitting,onArticleSubmit:t.onSubmit},null,8,["initial-values","errors","is-submitting","onArticleSubmit"])):(0,s.kq)("",!0)],64)}const qs=(0,U.Q_)("editArticle",{state:()=>({isSubmitting:!1,validationErrors:null,isLoading:!1,article:null}),actions:{async updateArticle({slug:t,articleInput:e}){try{this.$patch({isSubmitting:!0});const r=await rs.updateArticle(t,e);return this.$patch({isSubmitting:!1}),r}catch(r){throw this.$patch({isSubmitting:!1,validationErrors:r.response.data.errors}),r}},async getArticle({slug:t}){try{this.$patch({isLoading:!0});const e=await rs.getArticle(t);return this.$patch({isLoading:!1,article:e}),e}catch(e){throw this.$patch({isLoading:!1}),e}}}});var $s=(0,s.aZ)({name:"AppEditArticle",components:{AppArticleForm:Us,AppLoadingItem:pt},setup(){const t=qs(),e=(0,Y.tv)(),r=(0,Y.yj)(),a=(0,s.Fl)((()=>t.article)),i=(0,s.Fl)((()=>a.value?new ks(a.value):null));(0,s.bv)((()=>{t.getArticle({slug:r.params.slug})}));const n=a=>{t.updateArticle({slug:r.params.slug,articleInput:a}).then((t=>{e.push({name:"article",params:{slug:t.slug}})}))};return{initialValues:i,validationErrors:(0,s.Fl)((()=>t.validationErrors)),isSubmitting:(0,s.Fl)((()=>t.isSubmitting)),isLoading:(0,s.Fl)((()=>t.isLoading)),onSubmit:n,article:a}}});const Es=(0,O.Z)($s,[["render",Ds]]);var js=Es;const xs={key:0,class:"settings-page"},Ws={class:"container page"},Is={class:"row"},Ts={class:"col-md-6 offset-md-3 col-xs-12"},Os=(0,s._)("h1",{class:"text-xs-center"},"Settings",-1),Vs={class:"form-group"},Ms=["disabled"],Ns={class:"form-group"},Hs=["disabled"],zs={class:"form-group"},Ys=["disabled"],Rs={class:"form-group"},Qs=["disabled"],Bs={class:"form-group"},Ks=["disabled"],Js=["disabled"],Gs=(0,s._)("hr",null,null,-1);function Xs(t,e,r,i,n,o){const l=(0,s.up)("app-validation-errors");return t.currentUser?((0,s.wg)(),(0,s.iD)("div",xs,[(0,s._)("div",Ws,[(0,s._)("div",Is,[(0,s._)("div",Ts,[Os,t.validationErrors?((0,s.wg)(),(0,s.j4)(l,{key:0,"validation-errors":t.validationErrors},null,8,["validation-errors"])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:e[5]||(e[5]=(0,a.iM)(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[(0,s._)("fieldset",null,[(0,s._)("fieldset",Vs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.image=e),disabled:t.isSubmitting,placeholder:"URL of profile image"},null,8,Ms),[[a.nr,t.form.image]])]),(0,s._)("fieldset",Ns,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.username=e),disabled:t.isSubmitting,placeholder:"Username"},null,8,Hs),[[a.nr,t.form.username]])]),(0,s._)("fieldset",zs,[(0,s.wy)((0,s._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":e[2]||(e[2]=e=>t.form.bio=e),disabled:t.isSubmitting,placeholder:"Short bio about you"},null,8,Ys),[[a.nr,t.form.bio]])]),(0,s._)("fieldset",Rs,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e[3]||(e[3]=e=>t.form.email=e),disabled:t.isSubmitting,placeholder:"Email"},null,8,Qs),[[a.nr,t.form.email]])]),(0,s._)("fieldset",Bs,[(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":e[4]||(e[4]=e=>t.form.password=e),disabled:t.isSubmitting,placeholder:"New password"},null,8,Ks),[[a.nr,t.form.password]])]),(0,s._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:t.isSubmitting}," Update settings ",8,Js)])],32),Gs,(0,s._)("button",{class:"btn btn-outline-danger",onClick:e[6]||(e[6]=(...e)=>t.logout&&t.logout(...e))}," Or cick here to logout ")])])])])):(0,s.kq)("",!0)}var ti=(0,s.aZ)({name:"AppSettingsPage",components:{AppValidationErrors:ur},setup(){const t=W(),e=I(),r=(0,Y.tv)(),a=(0,s.Fl)((()=>e.currentUser)),i=(0,s.Fl)((()=>a.value)),n=()=>{e.updateCurrentUserProfile(i.value).then((()=>{r.push({name:"userProfileMyPosts",params:{slug:a.value.username}})}))},o=()=>{e.logout().then((()=>{r.push({name:"globalFeed"})}))};return{isSubmitting:(0,s.Fl)((()=>t.isSubmitting)),validationErrors:(0,s.Fl)((()=>t.validationErrors)),currentUser:a,form:i,onSubmit:n,logout:o}}});const ei=(0,O.Z)(ti,[["render",Xs]]);var ri=ei;const ai={key:0,class:"profile-page"},si={class:"profile-page__user-info"},ii={class:"container"},ni={class:"row"},oi={class:"col-xs-12 col-md-10 offset-md-1"},li=["src"],ci=(0,s.Uk)(" FOLLOW USER BUTTON "),ui=(0,s.Uk)(" Edit Profile Settings "),di={class:"container"},pi={class:"row"},mi={class:"col-xs-12 col-md-10 offset-md-1"},gi={class:"article-toggle"},vi={class:"nav nav-pills outline-active"},fi={class:"nav-item"},hi=(0,s.Uk)(" My Posts "),bi={class:"nav-item"},wi=(0,s.Uk)(" Favorites Posts ");function yi(t,e,r,a,i,o){const l=(0,s.up)("router-link"),c=(0,s.up)("router-view");return t.userProfile?((0,s.wg)(),(0,s.iD)("div",ai,[(0,s._)("div",si,[(0,s._)("div",ii,[(0,s._)("div",ni,[(0,s._)("div",oi,[(0,s._)("img",{class:"user-img",src:t.userProfile.image},null,8,li),(0,s._)("h4",null,(0,n.zw)(t.userProfile.username),1),(0,s._)("p",null,(0,n.zw)(t.userProfile.bio),1),(0,s._)("div",null,[ci,t.isCurrentUserProfile?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,s.w5)((()=>[ui])),_:1})):(0,s.kq)("",!0)])])])])]),(0,s._)("div",di,[(0,s._)("div",pi,[(0,s._)("div",mi,[(0,s._)("div",gi,[(0,s._)("ul",vi,[(0,s._)("li",fi,[(0,s.Wm)(l,{to:{name:"userProfileMyPosts",params:{slug:t.userProfile.username}},class:(0,n.C_)(["nav-link",{active:"userProfileMyPosts"===t.routeName}])},{default:(0,s.w5)((()=>[hi])),_:1},8,["to","class"])]),(0,s._)("li",bi,[(0,s.Wm)(l,{to:{name:"userProfileFavorites",params:{slug:t.userProfile.username}},class:(0,n.C_)(["nav-link",{active:"userProfileFavorites"===t.routeName}])},{default:(0,s.w5)((()=>[wi])),_:1},8,["to","class"])])])]),(0,s.Wm)(c)])])])])):(0,s.kq)("",!0)}var _i=(0,s.aZ)({name:"AppUserProfile",setup(){const t=Qa(),e=(0,Y.yj)(),r=(0,s.Fl)((()=>t.data)),{isCurrentUserProfile:a}=oa(r),i=(0,s.Fl)((()=>e.params.slug)),n=(0,s.Fl)((()=>e.name));(0,s.YP)((()=>i.value),(()=>{i.value&&o()})),(0,s.bv)((()=>o()));const o=()=>{t.getUserProfile({slug:i.value})};return{isLoading:(0,s.Fl)((()=>t.isLoading)),userProfile:r,error:(0,s.Fl)((()=>t.error)),isCurrentUserProfile:a,routeName:n}}});const Ai=(0,O.Z)(_i,[["render",yi]]);var ki=Ai;function Fi(t,e,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":t.apiUrl},null,8,["api-url"])}function Si(){const t=(0,Y.yj)(),e=(0,s.Fl)((()=>t.params.slug)),r=(0,s.Fl)((()=>{const r=t.path.includes("favorites");return r?`/articles?favorited=${e.value}`:`/articles?author=${e.value}`}));return{apiUrl:r}}var Ui=(0,s.aZ)({name:"AppUserProfileMyPosts",components:{AppFeedItem:je},setup(){return{...Si()}}});const Zi=(0,O.Z)(Ui,[["render",Fi]]);var Ci=Zi;function Pi(t,e,r,a,i,n){const o=(0,s.up)("app-feed-item");return(0,s.wg)(),(0,s.j4)(o,{"api-url":t.apiUrl},null,8,["api-url"])}var Li=(0,s.aZ)({name:"AppUserProfileFavorites",components:{AppFeedItem:je},setup(){return{...Si()}}});const Di=(0,O.Z)(Li,[["render",Pi]]);var qi=Di;const $i=[{path:"/register",name:"register",component:Fr},{path:"/login",name:"login",component:Ir},{path:"/",name:"mainFeed",component:Ht,children:[{path:"/",name:"globalFeed",component:Ie},{path:"/yourFeed",name:"yourFeed",component:Ne},{path:"/tags/:slug",name:"tag",component:Re}]},{path:"/articles/new",name:"createArticle",component:Ls},{path:"/articles/:slug",name:"article",component:ns},{path:"/articles/:slug/edit",name:"editArticle",component:js},{path:"/settings",name:"settings",component:ri},{path:"/profiles",name:"userProfile",component:ki,children:[{path:"/profiles/:slug",name:"userProfileMyPosts",component:Ci},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:qi}]}],Ei=(0,Y.p7)({history:(0,Y.PO)("/"),routes:$i});var ji=Ei;(0,a.ri)(z).use((0,U.WB)()).use(ji).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,i){if(!a){var n=1/0;for(u=0;u<t.length;u++){a=t[u][0],s=t[u][1],i=t[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(r.O).every((function(t){return r.O[t](a[l])}))?a.splice(l--,1):(o=!1,i<n&&(n=i));if(o){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,s,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={826:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,i,n=a[0],o=a[1],l=a[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(l)var u=l(r)}for(e&&e(a);c<n.length;c++)i=n[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},a=self["webpackChunkmedium_clone"]=self["webpackChunkmedium_clone"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(8973)}));a=r.O(a)})();